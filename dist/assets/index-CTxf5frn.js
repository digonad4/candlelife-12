var YT=Object.defineProperty;var f0=e=>{throw TypeError(e)};var QT=(e,t,r)=>t in e?YT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var cr=(e,t,r)=>QT(e,typeof t!="symbol"?t+"":t,r),wm=(e,t,r)=>t.has(e)||f0("Cannot "+r);var P=(e,t,r)=>(wm(e,t,"read from private field"),r?r.call(e):t.get(e)),de=(e,t,r)=>t.has(e)?f0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),te=(e,t,r,n)=>(wm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),je=(e,t,r)=>(wm(e,t,"access private method"),r);var Uu=(e,t,r,n)=>({set _(s){te(e,t,s,r)},get _(){return P(e,t,n)}});function ZT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function XT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var $1={exports:{}},ih={},F1={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=Symbol.for("react.element"),JT=Symbol.for("react.portal"),eR=Symbol.for("react.fragment"),tR=Symbol.for("react.strict_mode"),rR=Symbol.for("react.profiler"),nR=Symbol.for("react.provider"),sR=Symbol.for("react.context"),oR=Symbol.for("react.forward_ref"),aR=Symbol.for("react.suspense"),iR=Symbol.for("react.memo"),lR=Symbol.for("react.lazy"),h0=Symbol.iterator;function cR(e){return e===null||typeof e!="object"?null:(e=h0&&e[h0]||e["@@iterator"],typeof e=="function"?e:null)}var z1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U1=Object.assign,B1={};function ol(e,t,r){this.props=e,this.context=t,this.refs=B1,this.updater=r||z1}ol.prototype.isReactComponent={};ol.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ol.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function V1(){}V1.prototype=ol.prototype;function Iv(e,t,r){this.props=e,this.context=t,this.refs=B1,this.updater=r||z1}var Lv=Iv.prototype=new V1;Lv.constructor=Iv;U1(Lv,ol.prototype);Lv.isPureReactComponent=!0;var m0=Array.isArray,W1=Object.prototype.hasOwnProperty,$v={current:null},q1={key:!0,ref:!0,__self:!0,__source:!0};function H1(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)W1.call(t,n)&&!q1.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:lu,type:e,key:o,ref:a,props:s,_owner:$v.current}}function uR(e,t){return{$$typeof:lu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fv(e){return typeof e=="object"&&e!==null&&e.$$typeof===lu}function dR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var p0=/\/+/g;function bm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dR(""+e.key):t.toString(36)}function _d(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case lu:case JT:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+bm(a,0):n,m0(s)?(r="",e!=null&&(r=e.replace(p0,"$&/")+"/"),_d(s,t,r,"",function(u){return u})):s!=null&&(Fv(s)&&(s=uR(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(p0,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",m0(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+bm(o,l);a+=_d(o,t,r,c,s)}else if(c=cR(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+bm(o,l++),a+=_d(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Bu(e,t,r){if(e==null)return e;var n=[],s=0;return _d(e,n,"","",function(o){return t.call(r,o,s++)}),n}function fR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ar={current:null},Sd={transition:null},hR={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:Sd,ReactCurrentOwner:$v};function K1(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Bu,forEach:function(e,t,r){Bu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bu(e,function(){t++}),t},toArray:function(e){return Bu(e,function(t){return t})||[]},only:function(e){if(!Fv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=ol;Te.Fragment=eR;Te.Profiler=rR;Te.PureComponent=Iv;Te.StrictMode=tR;Te.Suspense=aR;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hR;Te.act=K1;Te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=U1({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=$v.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)W1.call(t,c)&&!q1.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:lu,type:e.type,key:s,ref:o,props:n,_owner:a}};Te.createContext=function(e){return e={$$typeof:sR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nR,_context:e},e.Consumer=e};Te.createElement=H1;Te.createFactory=function(e){var t=H1.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:oR,render:e}};Te.isValidElement=Fv;Te.lazy=function(e){return{$$typeof:lR,_payload:{_status:-1,_result:e},_init:fR}};Te.memo=function(e,t){return{$$typeof:iR,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Sd.transition;Sd.transition={};try{e()}finally{Sd.transition=t}};Te.unstable_act=K1;Te.useCallback=function(e,t){return ar.current.useCallback(e,t)};Te.useContext=function(e){return ar.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return ar.current.useDeferredValue(e)};Te.useEffect=function(e,t){return ar.current.useEffect(e,t)};Te.useId=function(){return ar.current.useId()};Te.useImperativeHandle=function(e,t,r){return ar.current.useImperativeHandle(e,t,r)};Te.useInsertionEffect=function(e,t){return ar.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return ar.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return ar.current.useMemo(e,t)};Te.useReducer=function(e,t,r){return ar.current.useReducer(e,t,r)};Te.useRef=function(e){return ar.current.useRef(e)};Te.useState=function(e){return ar.current.useState(e)};Te.useSyncExternalStore=function(e,t,r){return ar.current.useSyncExternalStore(e,t,r)};Te.useTransition=function(){return ar.current.useTransition()};Te.version="18.3.1";F1.exports=Te;var m=F1.exports;const G=L1(m),G1=ZT({__proto__:null,default:G},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR=m,pR=Symbol.for("react.element"),gR=Symbol.for("react.fragment"),vR=Object.prototype.hasOwnProperty,yR=mR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xR={key:!0,ref:!0,__self:!0,__source:!0};function Y1(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)vR.call(t,n)&&!xR.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:pR,type:e,key:o,ref:a,props:s,_owner:yR.current}}ih.Fragment=gR;ih.jsx=Y1;ih.jsxs=Y1;$1.exports=ih;var i=$1.exports,Ip={},Q1={exports:{}},Lr={},Z1={exports:{}},X1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var H=T.length;T.push(D);e:for(;0<H;){var re=H-1>>>1,he=T[re];if(0<s(he,D))T[re]=D,T[H]=he,H=re;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var D=T[0],H=T.pop();if(H!==D){T[0]=H;e:for(var re=0,he=T.length,Oe=he>>>1;re<Oe;){var Ie=2*(re+1)-1,_t=T[Ie],Be=Ie+1,ae=T[Be];if(0>s(_t,H))Be<he&&0>s(ae,_t)?(T[re]=ae,T[Be]=H,re=Be):(T[re]=_t,T[Ie]=H,re=Ie);else if(Be<he&&0>s(ae,H))T[re]=ae,T[Be]=H,re=Be;else break e}}return D}function s(T,D){var H=T.sortIndex-D.sortIndex;return H!==0?H:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=T)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function _(T){if(v=!1,b(T),!g)if(r(c)!==null)g=!0,q(S);else{var D=r(u);D!==null&&F(_,D.startTime-T)}}function S(T,D){g=!1,v&&(v=!1,y(N),N=-1),p=!0;var H=h;try{for(b(D),d=r(c);d!==null&&(!(d.expirationTime>D)||T&&!O());){var re=d.callback;if(typeof re=="function"){d.callback=null,h=d.priorityLevel;var he=re(d.expirationTime<=D);D=e.unstable_now(),typeof he=="function"?d.callback=he:d===r(c)&&n(c),b(D)}else n(c);d=r(c)}if(d!==null)var Oe=!0;else{var Ie=r(u);Ie!==null&&F(_,Ie.startTime-D),Oe=!1}return Oe}finally{d=null,h=H,p=!1}}var j=!1,C=null,N=-1,k=5,R=-1;function O(){return!(e.unstable_now()-R<k)}function M(){if(C!==null){var T=e.unstable_now();R=T;var D=!0;try{D=C(!0,T)}finally{D?$():(j=!1,C=null)}}else j=!1}var $;if(typeof x=="function")$=function(){x(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=M,$=function(){B.postMessage(null)}}else $=function(){w(M,0)};function q(T){C=T,j||(j=!0,$())}function F(T,D){N=w(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,q(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var H=h;h=D;try{return T()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var H=h;h=T;try{return D()}finally{h=H}},e.unstable_scheduleCallback=function(T,D,H){var re=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,T){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=H+he,T={id:f++,callback:D,priorityLevel:T,startTime:H,expirationTime:he,sortIndex:-1},H>re?(T.sortIndex=H,t(u,T),r(c)===null&&T===r(u)&&(v?(y(N),N=-1):v=!0,F(_,H-re))):(T.sortIndex=he,t(c,T),g||p||(g=!0,q(S))),T},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(T){var D=h;return function(){var H=h;h=D;try{return T.apply(this,arguments)}finally{h=H}}}})(X1);Z1.exports=X1;var wR=Z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR=m,Or=wR;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J1=new Set,Nc={};function Ea(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(Nc[e]=t,e=0;e<t.length;e++)J1.add(t[e])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,_R=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g0={},v0={};function SR(e){return Lp.call(v0,e)?!0:Lp.call(g0,e)?!1:_R.test(e)?v0[e]=!0:(g0[e]=!0,!1)}function CR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jR(e,t,r,n){if(t===null||typeof t>"u"||CR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ir(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var zv=/[\-:]([a-z])/g;function Uv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zv,Uv);Ut[t]=new ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zv,Uv);Ut[t]=new ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zv,Uv);Ut[t]=new ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new ir(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new ir(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bv(e,t,r,n){var s=Ut.hasOwnProperty(t)?Ut[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jR(t,r,s,n)&&(r=null),n||s===null?SR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fs=bR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),Za=Symbol.for("react.portal"),Xa=Symbol.for("react.fragment"),Vv=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),e_=Symbol.for("react.provider"),t_=Symbol.for("react.context"),Wv=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),Zs=Symbol.for("react.lazy"),r_=Symbol.for("react.offscreen"),y0=Symbol.iterator;function Al(e){return e===null||typeof e!="object"?null:(e=y0&&e[y0]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,_m;function Zl(e){if(_m===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_m=t&&t[1]||""}return`
`+_m+e}var Sm=!1;function Cm(e,t){if(!e||Sm)return"";Sm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Sm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zl(e):""}function NR(e){switch(e.tag){case 5:return Zl(e.type);case 16:return Zl("Lazy");case 13:return Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 2:case 15:return e=Cm(e.type,!1),e;case 11:return e=Cm(e.type.render,!1),e;case 1:return e=Cm(e.type,!0),e;default:return""}}function Up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xa:return"Fragment";case Za:return"Portal";case $p:return"Profiler";case Vv:return"StrictMode";case Fp:return"Suspense";case zp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case t_:return(e.displayName||"Context")+".Consumer";case e_:return(e._context.displayName||"Context")+".Provider";case Wv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qv:return t=e.displayName||null,t!==null?t:Up(e.type)||"Memo";case Zs:t=e._payload,e=e._init;try{return Up(e(t))}catch{}}return null}function kR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(t);case 8:return t===Vv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ER(e){var t=n_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wu(e){e._valueTracker||(e._valueTracker=ER(e))}function s_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=n_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Kd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bp(e,t){var r=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function x0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Eo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function o_(e,t){t=t.checked,t!=null&&Bv(e,"checked",t,!1)}function Vp(e,t){o_(e,t);var r=Eo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Wp(e,t.type,Eo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Wp(e,t,r){(t!=="number"||Kd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xl=Array.isArray;function ci(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Eo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function b0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Xl(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Eo(r)}}function a_(e,t){var r=Eo(t.value),n=Eo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function _0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qu,l_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qu=qu||document.createElement("div"),qu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PR=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(e){PR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lc[t]=lc[e]})});function c_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lc.hasOwnProperty(e)&&lc[e]?(""+t).trim():t+"px"}function u_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=c_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var TR=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kp(e,t){if(t){if(TR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Gp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function Hv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qp=null,ui=null,di=null;function S0(e){if(e=du(e)){if(typeof Qp!="function")throw Error(W(280));var t=e.stateNode;t&&(t=fh(t),Qp(e.stateNode,e.type,t))}}function d_(e){ui?di?di.push(e):di=[e]:ui=e}function f_(){if(ui){var e=ui,t=di;if(di=ui=null,S0(e),t)for(e=0;e<t.length;e++)S0(t[e])}}function h_(e,t){return e(t)}function m_(){}var jm=!1;function p_(e,t,r){if(jm)return e(t,r);jm=!0;try{return h_(e,t,r)}finally{jm=!1,(ui!==null||di!==null)&&(m_(),f_())}}function Ec(e,t){var r=e.stateNode;if(r===null)return null;var n=fh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Zp=!1;if(Ts)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Zp=!1}function RR(e,t,r,n,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var cc=!1,Gd=null,Yd=!1,Xp=null,MR={onError:function(e){cc=!0,Gd=e}};function DR(e,t,r,n,s,o,a,l,c){cc=!1,Gd=null,RR.apply(MR,arguments)}function OR(e,t,r,n,s,o,a,l,c){if(DR.apply(this,arguments),cc){if(cc){var u=Gd;cc=!1,Gd=null}else throw Error(W(198));Yd||(Yd=!0,Xp=u)}}function Pa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function g_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function C0(e){if(Pa(e)!==e)throw Error(W(188))}function AR(e){var t=e.alternate;if(!t){if(t=Pa(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return C0(s),e;if(o===n)return C0(s),t;o=o.sibling}throw Error(W(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function v_(e){return e=AR(e),e!==null?y_(e):null}function y_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=y_(e);if(t!==null)return t;e=e.sibling}return null}var x_=Or.unstable_scheduleCallback,j0=Or.unstable_cancelCallback,IR=Or.unstable_shouldYield,LR=Or.unstable_requestPaint,vt=Or.unstable_now,$R=Or.unstable_getCurrentPriorityLevel,Kv=Or.unstable_ImmediatePriority,w_=Or.unstable_UserBlockingPriority,Qd=Or.unstable_NormalPriority,FR=Or.unstable_LowPriority,b_=Or.unstable_IdlePriority,lh=null,Yn=null;function zR(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(lh,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:VR,UR=Math.log,BR=Math.LN2;function VR(e){return e>>>=0,e===0?32:31-(UR(e)/BR|0)|0}var Hu=64,Ku=4194304;function Jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Jl(l):(o&=a,o!==0&&(n=Jl(o)))}else a=r&~s,a!==0?n=Jl(a):o!==0&&(n=Jl(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-yn(t),s=1<<r,n|=e[r],t&=~s;return n}function WR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-yn(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=WR(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Jp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function __(){var e=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),e}function Nm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=r}function HR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-yn(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Gv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-yn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var We=0;function S_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C_,Yv,j_,N_,k_,eg=!1,Gu=[],vo=null,yo=null,xo=null,Pc=new Map,Tc=new Map,eo=[],KR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N0(e,t){switch(e){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Pc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function Ll(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=du(t),t!==null&&Yv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function GR(e,t,r,n,s){switch(t){case"focusin":return vo=Ll(vo,e,t,r,n,s),!0;case"dragenter":return yo=Ll(yo,e,t,r,n,s),!0;case"mouseover":return xo=Ll(xo,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Pc.set(o,Ll(Pc.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Tc.set(o,Ll(Tc.get(o)||null,e,t,r,n,s)),!0}return!1}function E_(e){var t=ea(e.target);if(t!==null){var r=Pa(t);if(r!==null){if(t=r.tag,t===13){if(t=g_(r),t!==null){e.blockedOn=t,k_(e.priority,function(){j_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yp=n,r.target.dispatchEvent(n),Yp=null}else return t=du(r),t!==null&&Yv(t),e.blockedOn=r,!1;t.shift()}return!0}function k0(e,t,r){Cd(e)&&r.delete(t)}function YR(){eg=!1,vo!==null&&Cd(vo)&&(vo=null),yo!==null&&Cd(yo)&&(yo=null),xo!==null&&Cd(xo)&&(xo=null),Pc.forEach(k0),Tc.forEach(k0)}function $l(e,t){e.blockedOn===t&&(e.blockedOn=null,eg||(eg=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,YR)))}function Rc(e){function t(s){return $l(s,e)}if(0<Gu.length){$l(Gu[0],e);for(var r=1;r<Gu.length;r++){var n=Gu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vo!==null&&$l(vo,e),yo!==null&&$l(yo,e),xo!==null&&$l(xo,e),Pc.forEach(t),Tc.forEach(t),r=0;r<eo.length;r++)n=eo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<eo.length&&(r=eo[0],r.blockedOn===null);)E_(r),r.blockedOn===null&&eo.shift()}var fi=Fs.ReactCurrentBatchConfig,Xd=!0;function QR(e,t,r,n){var s=We,o=fi.transition;fi.transition=null;try{We=1,Qv(e,t,r,n)}finally{We=s,fi.transition=o}}function ZR(e,t,r,n){var s=We,o=fi.transition;fi.transition=null;try{We=4,Qv(e,t,r,n)}finally{We=s,fi.transition=o}}function Qv(e,t,r,n){if(Xd){var s=tg(e,t,r,n);if(s===null)Im(e,t,n,Jd,r),N0(e,n);else if(GR(s,e,t,r,n))n.stopPropagation();else if(N0(e,n),t&4&&-1<KR.indexOf(e)){for(;s!==null;){var o=du(s);if(o!==null&&C_(o),o=tg(e,t,r,n),o===null&&Im(e,t,n,Jd,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Im(e,t,n,null,r)}}var Jd=null;function tg(e,t,r,n){if(Jd=null,e=Hv(n),e=ea(e),e!==null)if(t=Pa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=g_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jd=e,null}function P_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($R()){case Kv:return 1;case w_:return 4;case Qd:case FR:return 16;case b_:return 536870912;default:return 16}default:return 16}}var mo=null,Zv=null,jd=null;function T_(){if(jd)return jd;var e,t=Zv,r=t.length,n,s="value"in mo?mo.value:mo.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return jd=s.slice(e,1<n?1-n:void 0)}function Nd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yu(){return!0}function E0(){return!1}function $r(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yu:E0,this.isPropagationStopped=E0,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xv=$r(al),uu=dt({},al,{view:0,detail:0}),XR=$r(uu),km,Em,Fl,ch=dt({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fl&&(Fl&&e.type==="mousemove"?(km=e.screenX-Fl.screenX,Em=e.screenY-Fl.screenY):Em=km=0,Fl=e),km)},movementY:function(e){return"movementY"in e?e.movementY:Em}}),P0=$r(ch),JR=dt({},ch,{dataTransfer:0}),eM=$r(JR),tM=dt({},uu,{relatedTarget:0}),Pm=$r(tM),rM=dt({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),nM=$r(rM),sM=dt({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oM=$r(sM),aM=dt({},al,{data:0}),T0=$r(aM),iM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cM[e])?!!t[e]:!1}function Jv(){return uM}var dM=dt({},uu,{key:function(e){if(e.key){var t=iM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jv,charCode:function(e){return e.type==="keypress"?Nd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fM=$r(dM),hM=dt({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R0=$r(hM),mM=dt({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jv}),pM=$r(mM),gM=dt({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),vM=$r(gM),yM=dt({},ch,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xM=$r(yM),wM=[9,13,27,32],ey=Ts&&"CompositionEvent"in window,uc=null;Ts&&"documentMode"in document&&(uc=document.documentMode);var bM=Ts&&"TextEvent"in window&&!uc,R_=Ts&&(!ey||uc&&8<uc&&11>=uc),M0=" ",D0=!1;function M_(e,t){switch(e){case"keyup":return wM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ja=!1;function _M(e,t){switch(e){case"compositionend":return D_(t);case"keypress":return t.which!==32?null:(D0=!0,M0);case"textInput":return e=t.data,e===M0&&D0?null:e;default:return null}}function SM(e,t){if(Ja)return e==="compositionend"||!ey&&M_(e,t)?(e=T_(),jd=Zv=mo=null,Ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R_&&t.locale!=="ko"?null:t.data;default:return null}}var CM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CM[e.type]:t==="textarea"}function O_(e,t,r,n){d_(n),t=ef(t,"onChange"),0<t.length&&(r=new Xv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dc=null,Mc=null;function jM(e){q_(e,0)}function uh(e){var t=ri(e);if(s_(t))return e}function NM(e,t){if(e==="change")return t}var A_=!1;if(Ts){var Tm;if(Ts){var Rm="oninput"in document;if(!Rm){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),Rm=typeof A0.oninput=="function"}Tm=Rm}else Tm=!1;A_=Tm&&(!document.documentMode||9<document.documentMode)}function I0(){dc&&(dc.detachEvent("onpropertychange",I_),Mc=dc=null)}function I_(e){if(e.propertyName==="value"&&uh(Mc)){var t=[];O_(t,Mc,e,Hv(e)),p_(jM,t)}}function kM(e,t,r){e==="focusin"?(I0(),dc=t,Mc=r,dc.attachEvent("onpropertychange",I_)):e==="focusout"&&I0()}function EM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uh(Mc)}function PM(e,t){if(e==="click")return uh(t)}function TM(e,t){if(e==="input"||e==="change")return uh(t)}function RM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:RM;function Dc(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Lp.call(t,s)||!wn(e[s],t[s]))return!1}return!0}function L0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $0(e,t){var r=L0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=L0(r)}}function L_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?L_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $_(){for(var e=window,t=Kd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Kd(e.document)}return t}function ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MM(e){var t=$_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&L_(r.ownerDocument.documentElement,r)){if(n!==null&&ty(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=$0(r,o);var a=$0(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DM=Ts&&"documentMode"in document&&11>=document.documentMode,ei=null,rg=null,fc=null,ng=!1;function F0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ng||ei==null||ei!==Kd(n)||(n=ei,"selectionStart"in n&&ty(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fc&&Dc(fc,n)||(fc=n,n=ef(rg,"onSelect"),0<n.length&&(t=new Xv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ei)))}function Qu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ti={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Mm={},F_={};Ts&&(F_=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function dh(e){if(Mm[e])return Mm[e];if(!ti[e])return e;var t=ti[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in F_)return Mm[e]=t[r];return e}var z_=dh("animationend"),U_=dh("animationiteration"),B_=dh("animationstart"),V_=dh("transitionend"),W_=new Map,z0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(e,t){W_.set(e,t),Ea(t,[e])}for(var Dm=0;Dm<z0.length;Dm++){var Om=z0[Dm],OM=Om.toLowerCase(),AM=Om[0].toUpperCase()+Om.slice(1);Ao(OM,"on"+AM)}Ao(z_,"onAnimationEnd");Ao(U_,"onAnimationIteration");Ao(B_,"onAnimationStart");Ao("dblclick","onDoubleClick");Ao("focusin","onFocus");Ao("focusout","onBlur");Ao(V_,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function U0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,OR(n,t,void 0,e),e.currentTarget=null}function q_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;U0(s,l,u),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;U0(s,l,u),o=c}}}if(Yd)throw e=Xp,Yd=!1,Xp=null,e}function et(e,t){var r=t[lg];r===void 0&&(r=t[lg]=new Set);var n=e+"__bubble";r.has(n)||(H_(t,e,2,!1),r.add(n))}function Am(e,t,r){var n=0;t&&(n|=4),H_(r,e,n,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[Zu]){e[Zu]=!0,J1.forEach(function(r){r!=="selectionchange"&&(IM.has(r)||Am(r,!1,e),Am(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zu]||(t[Zu]=!0,Am("selectionchange",!1,t))}}function H_(e,t,r,n){switch(P_(t)){case 1:var s=QR;break;case 4:s=ZR;break;default:s=Qv}r=s.bind(null,t,r,e),s=void 0,!Zp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Im(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ea(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}p_(function(){var u=o,f=Hv(r),d=[];e:{var h=W_.get(e);if(h!==void 0){var p=Xv,g=e;switch(e){case"keypress":if(Nd(r)===0)break e;case"keydown":case"keyup":p=fM;break;case"focusin":g="focus",p=Pm;break;case"focusout":g="blur",p=Pm;break;case"beforeblur":case"afterblur":p=Pm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pM;break;case z_:case U_:case B_:p=nM;break;case V_:p=vM;break;case"scroll":p=XR;break;case"wheel":p=xM;break;case"copy":case"cut":case"paste":p=oM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=R0}var v=(t&4)!==0,w=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=Ec(x,y),_!=null&&v.push(Ac(x,_,b)))),w)break;x=x.return}0<v.length&&(h=new p(h,g,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Yp&&(g=r.relatedTarget||r.fromElement)&&(ea(g)||g[Rs]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?ea(g):null,g!==null&&(w=Pa(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=P0,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=R0,_="onPointerLeave",y="onPointerEnter",x="pointer"),w=p==null?h:ri(p),b=g==null?h:ri(g),h=new v(_,x+"leave",p,r,f),h.target=w,h.relatedTarget=b,_=null,ea(f)===u&&(v=new v(y,x+"enter",g,r,f),v.target=b,v.relatedTarget=w,_=v),w=_,p&&g)t:{for(v=p,y=g,x=0,b=v;b;b=Fa(b))x++;for(b=0,_=y;_;_=Fa(_))b++;for(;0<x-b;)v=Fa(v),x--;for(;0<b-x;)y=Fa(y),b--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Fa(v),y=Fa(y)}v=null}else v=null;p!==null&&B0(d,h,p,v,!1),g!==null&&w!==null&&B0(d,w,g,v,!0)}}e:{if(h=u?ri(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=NM;else if(O0(h))if(A_)S=TM;else{S=EM;var j=kM}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=PM);if(S&&(S=S(e,u))){O_(d,S,r,f);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Wp(h,"number",h.value)}switch(j=u?ri(u):window,e){case"focusin":(O0(j)||j.contentEditable==="true")&&(ei=j,rg=u,fc=null);break;case"focusout":fc=rg=ei=null;break;case"mousedown":ng=!0;break;case"contextmenu":case"mouseup":case"dragend":ng=!1,F0(d,r,f);break;case"selectionchange":if(DM)break;case"keydown":case"keyup":F0(d,r,f)}var C;if(ey)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ja?M_(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(R_&&r.locale!=="ko"&&(Ja||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ja&&(C=T_()):(mo=f,Zv="value"in mo?mo.value:mo.textContent,Ja=!0)),j=ef(u,N),0<j.length&&(N=new T0(N,e,null,r,f),d.push({event:N,listeners:j}),C?N.data=C:(C=D_(r),C!==null&&(N.data=C)))),(C=bM?_M(e,r):SM(e,r))&&(u=ef(u,"onBeforeInput"),0<u.length&&(f=new T0("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=C))}q_(d,t)})}function Ac(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ef(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ec(e,r),o!=null&&n.unshift(Ac(e,o,s)),o=Ec(e,t),o!=null&&n.push(Ac(e,o,s))),e=e.return}return n}function Fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function B0(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ec(r,o),c!=null&&a.unshift(Ac(r,c,l))):s||(c=Ec(r,o),c!=null&&a.push(Ac(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var LM=/\r\n?/g,$M=/\u0000|\uFFFD/g;function V0(e){return(typeof e=="string"?e:""+e).replace(LM,`
`).replace($M,"")}function Xu(e,t,r){if(t=V0(t),V0(e)!==t&&r)throw Error(W(425))}function tf(){}var sg=null,og=null;function ag(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ig=typeof setTimeout=="function"?setTimeout:void 0,FM=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,zM=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(e){return W0.resolve(null).then(e).catch(UM)}:ig;function UM(e){setTimeout(function(){throw e})}function Lm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Rc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Rc(t)}function wo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function q0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var il=Math.random().toString(36).slice(2),Fn="__reactFiber$"+il,Ic="__reactProps$"+il,Rs="__reactContainer$"+il,lg="__reactEvents$"+il,BM="__reactListeners$"+il,VM="__reactHandles$"+il;function ea(e){var t=e[Fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rs]||r[Fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=q0(e);e!==null;){if(r=e[Fn])return r;e=q0(e)}return t}e=r,r=e.parentNode}return null}function du(e){return e=e[Fn]||e[Rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function fh(e){return e[Ic]||null}var cg=[],ni=-1;function Io(e){return{current:e}}function tt(e){0>ni||(e.current=cg[ni],cg[ni]=null,ni--)}function Ye(e,t){ni++,cg[ni]=e.current,e.current=t}var Po={},Qt=Io(Po),xr=Io(!1),ma=Po;function Fi(e,t){var r=e.type.contextTypes;if(!r)return Po;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wr(e){return e=e.childContextTypes,e!=null}function rf(){tt(xr),tt(Qt)}function H0(e,t,r){if(Qt.current!==Po)throw Error(W(168));Ye(Qt,t),Ye(xr,r)}function K_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(W(108,kR(e)||"Unknown",s));return dt({},r,n)}function nf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Po,ma=Qt.current,Ye(Qt,e),Ye(xr,xr.current),!0}function K0(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=K_(e,t,ma),n.__reactInternalMemoizedMergedChildContext=e,tt(xr),tt(Qt),Ye(Qt,e)):tt(xr),Ye(xr,r)}var ys=null,hh=!1,$m=!1;function G_(e){ys===null?ys=[e]:ys.push(e)}function WM(e){hh=!0,G_(e)}function Lo(){if(!$m&&ys!==null){$m=!0;var e=0,t=We;try{var r=ys;for(We=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ys=null,hh=!1}catch(s){throw ys!==null&&(ys=ys.slice(e+1)),x_(Kv,Lo),s}finally{We=t,$m=!1}}return null}var si=[],oi=0,sf=null,of=0,Wr=[],qr=0,pa=null,ws=1,bs="";function Go(e,t){si[oi++]=of,si[oi++]=sf,sf=e,of=t}function Y_(e,t,r){Wr[qr++]=ws,Wr[qr++]=bs,Wr[qr++]=pa,pa=e;var n=ws;e=bs;var s=32-yn(n)-1;n&=~(1<<s),r+=1;var o=32-yn(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ws=1<<32-yn(t)+s|r<<s|n,bs=o+e}else ws=1<<o|r<<s|n,bs=e}function ry(e){e.return!==null&&(Go(e,1),Y_(e,1,0))}function ny(e){for(;e===sf;)sf=si[--oi],si[oi]=null,of=si[--oi],si[oi]=null;for(;e===pa;)pa=Wr[--qr],Wr[qr]=null,bs=Wr[--qr],Wr[qr]=null,ws=Wr[--qr],Wr[qr]=null}var Mr=null,Rr=null,nt=!1,mn=null;function Q_(e,t){var r=Hr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function G0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,Rr=wo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,Rr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pa!==null?{id:ws,overflow:bs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Hr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mr=e,Rr=null,!0):!1;default:return!1}}function ug(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dg(e){if(nt){var t=Rr;if(t){var r=t;if(!G0(e,t)){if(ug(e))throw Error(W(418));t=wo(r.nextSibling);var n=Mr;t&&G0(e,t)?Q_(n,r):(e.flags=e.flags&-4097|2,nt=!1,Mr=e)}}else{if(ug(e))throw Error(W(418));e.flags=e.flags&-4097|2,nt=!1,Mr=e}}}function Y0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function Ju(e){if(e!==Mr)return!1;if(!nt)return Y0(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ag(e.type,e.memoizedProps)),t&&(t=Rr)){if(ug(e))throw Z_(),Error(W(418));for(;t;)Q_(e,t),t=wo(t.nextSibling)}if(Y0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Rr=wo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Rr=null}}else Rr=Mr?wo(e.stateNode.nextSibling):null;return!0}function Z_(){for(var e=Rr;e;)e=wo(e.nextSibling)}function zi(){Rr=Mr=null,nt=!1}function sy(e){mn===null?mn=[e]:mn.push(e)}var qM=Fs.ReactCurrentBatchConfig;function zl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function ed(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Q0(e){var t=e._init;return t(e._payload)}function X_(e){function t(y,x){if(e){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Co(y,x),y.index=0,y.sibling=null,y}function o(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,_){return x===null||x.tag!==6?(x=qm(b,y.mode,_),x.return=y,x):(x=s(x,b),x.return=y,x)}function c(y,x,b,_){var S=b.type;return S===Xa?f(y,x,b.props.children,_,b.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zs&&Q0(S)===x.type)?(_=s(x,b.props),_.ref=zl(y,x,b),_.return=y,_):(_=Dd(b.type,b.key,b.props,null,y.mode,_),_.ref=zl(y,x,b),_.return=y,_)}function u(y,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Hm(b,y.mode,_),x.return=y,x):(x=s(x,b.children||[]),x.return=y,x)}function f(y,x,b,_,S){return x===null||x.tag!==7?(x=ha(b,y.mode,_,S),x.return=y,x):(x=s(x,b),x.return=y,x)}function d(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=qm(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vu:return b=Dd(x.type,x.key,x.props,null,y.mode,b),b.ref=zl(y,null,x),b.return=y,b;case Za:return x=Hm(x,y.mode,b),x.return=y,x;case Zs:var _=x._init;return d(y,_(x._payload),b)}if(Xl(x)||Al(x))return x=ha(x,y.mode,b,null),x.return=y,x;ed(y,x)}return null}function h(y,x,b,_){var S=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(y,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vu:return b.key===S?c(y,x,b,_):null;case Za:return b.key===S?u(y,x,b,_):null;case Zs:return S=b._init,h(y,x,S(b._payload),_)}if(Xl(b)||Al(b))return S!==null?null:f(y,x,b,_,null);ed(y,b)}return null}function p(y,x,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(x,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vu:return y=y.get(_.key===null?b:_.key)||null,c(x,y,_,S);case Za:return y=y.get(_.key===null?b:_.key)||null,u(x,y,_,S);case Zs:var j=_._init;return p(y,x,b,j(_._payload),S)}if(Xl(_)||Al(_))return y=y.get(b)||null,f(x,y,_,S,null);ed(x,_)}return null}function g(y,x,b,_){for(var S=null,j=null,C=x,N=x=0,k=null;C!==null&&N<b.length;N++){C.index>N?(k=C,C=null):k=C.sibling;var R=h(y,C,b[N],_);if(R===null){C===null&&(C=k);break}e&&C&&R.alternate===null&&t(y,C),x=o(R,x,N),j===null?S=R:j.sibling=R,j=R,C=k}if(N===b.length)return r(y,C),nt&&Go(y,N),S;if(C===null){for(;N<b.length;N++)C=d(y,b[N],_),C!==null&&(x=o(C,x,N),j===null?S=C:j.sibling=C,j=C);return nt&&Go(y,N),S}for(C=n(y,C);N<b.length;N++)k=p(C,y,N,b[N],_),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?N:k.key),x=o(k,x,N),j===null?S=k:j.sibling=k,j=k);return e&&C.forEach(function(O){return t(y,O)}),nt&&Go(y,N),S}function v(y,x,b,_){var S=Al(b);if(typeof S!="function")throw Error(W(150));if(b=S.call(b),b==null)throw Error(W(151));for(var j=S=null,C=x,N=x=0,k=null,R=b.next();C!==null&&!R.done;N++,R=b.next()){C.index>N?(k=C,C=null):k=C.sibling;var O=h(y,C,R.value,_);if(O===null){C===null&&(C=k);break}e&&C&&O.alternate===null&&t(y,C),x=o(O,x,N),j===null?S=O:j.sibling=O,j=O,C=k}if(R.done)return r(y,C),nt&&Go(y,N),S;if(C===null){for(;!R.done;N++,R=b.next())R=d(y,R.value,_),R!==null&&(x=o(R,x,N),j===null?S=R:j.sibling=R,j=R);return nt&&Go(y,N),S}for(C=n(y,C);!R.done;N++,R=b.next())R=p(C,y,N,R.value,_),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?N:R.key),x=o(R,x,N),j===null?S=R:j.sibling=R,j=R);return e&&C.forEach(function(M){return t(y,M)}),nt&&Go(y,N),S}function w(y,x,b,_){if(typeof b=="object"&&b!==null&&b.type===Xa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vu:e:{for(var S=b.key,j=x;j!==null;){if(j.key===S){if(S=b.type,S===Xa){if(j.tag===7){r(y,j.sibling),x=s(j,b.props.children),x.return=y,y=x;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zs&&Q0(S)===j.type){r(y,j.sibling),x=s(j,b.props),x.ref=zl(y,j,b),x.return=y,y=x;break e}r(y,j);break}else t(y,j);j=j.sibling}b.type===Xa?(x=ha(b.props.children,y.mode,_,b.key),x.return=y,y=x):(_=Dd(b.type,b.key,b.props,null,y.mode,_),_.ref=zl(y,x,b),_.return=y,y=_)}return a(y);case Za:e:{for(j=b.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=s(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=Hm(b,y.mode,_),x.return=y,y=x}return a(y);case Zs:return j=b._init,w(y,x,j(b._payload),_)}if(Xl(b))return g(y,x,b,_);if(Al(b))return v(y,x,b,_);ed(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,b),x.return=y,y=x):(r(y,x),x=qm(b,y.mode,_),x.return=y,y=x),a(y)):r(y,x)}return w}var Ui=X_(!0),J_=X_(!1),af=Io(null),lf=null,ai=null,oy=null;function ay(){oy=ai=lf=null}function iy(e){var t=af.current;tt(af),e._currentValue=t}function fg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function hi(e,t){lf=e,oy=ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vr=!0),e.firstContext=null)}function Xr(e){var t=e._currentValue;if(oy!==e)if(e={context:e,memoizedValue:t,next:null},ai===null){if(lf===null)throw Error(W(308));ai=e,lf.dependencies={lanes:0,firstContext:e}}else ai=ai.next=e;return t}var ta=null;function ly(e){ta===null?ta=[e]:ta.push(e)}function eS(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ly(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ms(e,n)}function Ms(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xs=!1;function cy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ms(e,r)}return s=n.interleaved,s===null?(t.next=t,ly(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ms(e,r)}function kd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gv(e,r)}}function Z0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cf(e,t,r,n){var s=e.updateQueue;Xs=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;a=0,f=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(h=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=dt({},d,h);break e;case 2:Xs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);va|=a,e.lanes=a,e.memoizedState=d}}function X0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(W(191,s));s.call(n)}}}var fu={},Qn=Io(fu),Lc=Io(fu),$c=Io(fu);function ra(e){if(e===fu)throw Error(W(174));return e}function uy(e,t){switch(Ye($c,t),Ye(Lc,e),Ye(Qn,fu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hp(t,e)}tt(Qn),Ye(Qn,t)}function Bi(){tt(Qn),tt(Lc),tt($c)}function rS(e){ra($c.current);var t=ra(Qn.current),r=Hp(t,e.type);t!==r&&(Ye(Lc,e),Ye(Qn,r))}function dy(e){Lc.current===e&&(tt(Qn),tt(Lc))}var lt=Io(0);function uf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fm=[];function fy(){for(var e=0;e<Fm.length;e++)Fm[e]._workInProgressVersionPrimary=null;Fm.length=0}var Ed=Fs.ReactCurrentDispatcher,zm=Fs.ReactCurrentBatchConfig,ga=0,ut=null,Nt=null,At=null,df=!1,hc=!1,Fc=0,HM=0;function Wt(){throw Error(W(321))}function hy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wn(e[r],t[r]))return!1;return!0}function my(e,t,r,n,s,o){if(ga=o,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ed.current=e===null||e.memoizedState===null?QM:ZM,e=r(n,s),hc){o=0;do{if(hc=!1,Fc=0,25<=o)throw Error(W(301));o+=1,At=Nt=null,t.updateQueue=null,Ed.current=XM,e=r(n,s)}while(hc)}if(Ed.current=ff,t=Nt!==null&&Nt.next!==null,ga=0,At=Nt=ut=null,df=!1,t)throw Error(W(300));return e}function py(){var e=Fc!==0;return Fc=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ut.memoizedState=At=e:At=At.next=e,At}function Jr(){if(Nt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var t=At===null?ut.memoizedState:At.next;if(t!==null)At=t,Nt=e;else{if(e===null)throw Error(W(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},At===null?ut.memoizedState=At=e:At=At.next=e}return At}function zc(e,t){return typeof t=="function"?t(e):t}function Um(e){var t=Jr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=Nt,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,u=o;do{var f=u.lane;if((ga&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=n):c=c.next=d,ut.lanes|=f,va|=f}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=l,wn(n,t.memoizedState)||(vr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,ut.lanes|=o,va|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bm(e){var t=Jr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);wn(o,t.memoizedState)||(vr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function nS(){}function sS(e,t){var r=ut,n=Jr(),s=t(),o=!wn(n.memoizedState,s);if(o&&(n.memoizedState=s,vr=!0),n=n.queue,gy(iS.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,Uc(9,aS.bind(null,r,n,s,t),void 0,null),It===null)throw Error(W(349));ga&30||oS(r,t,s)}return s}function oS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aS(e,t,r,n){t.value=r,t.getSnapshot=n,lS(t)&&cS(e)}function iS(e,t,r){return r(function(){lS(t)&&cS(e)})}function lS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wn(e,r)}catch{return!0}}function cS(e){var t=Ms(e,1);t!==null&&xn(t,e,1,-1)}function J0(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:e},t.queue=e,e=e.dispatch=YM.bind(null,ut,e),[t.memoizedState,e]}function Uc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uS(){return Jr().memoizedState}function Pd(e,t,r,n){var s=Rn();ut.flags|=e,s.memoizedState=Uc(1|t,r,void 0,n===void 0?null:n)}function mh(e,t,r,n){var s=Jr();n=n===void 0?null:n;var o=void 0;if(Nt!==null){var a=Nt.memoizedState;if(o=a.destroy,n!==null&&hy(n,a.deps)){s.memoizedState=Uc(t,r,o,n);return}}ut.flags|=e,s.memoizedState=Uc(1|t,r,o,n)}function ew(e,t){return Pd(8390656,8,e,t)}function gy(e,t){return mh(2048,8,e,t)}function dS(e,t){return mh(4,2,e,t)}function fS(e,t){return mh(4,4,e,t)}function hS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mS(e,t,r){return r=r!=null?r.concat([e]):null,mh(4,4,hS.bind(null,t,e),r)}function vy(){}function pS(e,t){var r=Jr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gS(e,t){var r=Jr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vS(e,t,r){return ga&21?(wn(r,t)||(r=__(),ut.lanes|=r,va|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vr=!0),e.memoizedState=r)}function KM(e,t){var r=We;We=r!==0&&4>r?r:4,e(!0);var n=zm.transition;zm.transition={};try{e(!1),t()}finally{We=r,zm.transition=n}}function yS(){return Jr().memoizedState}function GM(e,t,r){var n=So(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xS(e))wS(t,r);else if(r=eS(e,t,r,n),r!==null){var s=sr();xn(r,e,n,s),bS(r,t,n)}}function YM(e,t,r){var n=So(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xS(e))wS(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,wn(l,a)){var c=t.interleaved;c===null?(s.next=s,ly(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=eS(e,t,s,n),r!==null&&(s=sr(),xn(r,e,n,s),bS(r,t,n))}}function xS(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function wS(e,t){hc=df=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gv(e,r)}}var ff={readContext:Xr,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},QM={readContext:Xr,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:Xr,useEffect:ew,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pd(4194308,4,hS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pd(4,2,e,t)},useMemo:function(e,t){var r=Rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=GM.bind(null,ut,e),[n.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:J0,useDebugValue:vy,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=J0(!1),t=e[0];return e=KM.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ut,s=Rn();if(nt){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),It===null)throw Error(W(349));ga&30||oS(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,ew(iS.bind(null,n,o,e),[e]),n.flags|=2048,Uc(9,aS.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Rn(),t=It.identifierPrefix;if(nt){var r=bs,n=ws;r=(n&~(1<<32-yn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=HM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZM={readContext:Xr,useCallback:pS,useContext:Xr,useEffect:gy,useImperativeHandle:mS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:gS,useReducer:Um,useRef:uS,useState:function(){return Um(zc)},useDebugValue:vy,useDeferredValue:function(e){var t=Jr();return vS(t,Nt.memoizedState,e)},useTransition:function(){var e=Um(zc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:nS,useSyncExternalStore:sS,useId:yS,unstable_isNewReconciler:!1},XM={readContext:Xr,useCallback:pS,useContext:Xr,useEffect:gy,useImperativeHandle:mS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:gS,useReducer:Bm,useRef:uS,useState:function(){return Bm(zc)},useDebugValue:vy,useDeferredValue:function(e){var t=Jr();return Nt===null?t.memoizedState=e:vS(t,Nt.memoizedState,e)},useTransition:function(){var e=Bm(zc)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:nS,useSyncExternalStore:sS,useId:yS,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ph={isMounted:function(e){return(e=e._reactInternals)?Pa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sr(),s=So(e),o=Ns(n,s);o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,s),t!==null&&(xn(t,e,s,n),kd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sr(),s=So(e),o=Ns(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=bo(e,o,s),t!==null&&(xn(t,e,s,n),kd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sr(),n=So(e),s=Ns(r,n);s.tag=2,t!=null&&(s.callback=t),t=bo(e,s,n),t!==null&&(xn(t,e,n,r),kd(t,e,n))}};function tw(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Dc(r,n)||!Dc(s,o):!0}function _S(e,t,r){var n=!1,s=Po,o=t.contextType;return typeof o=="object"&&o!==null?o=Xr(o):(s=wr(t)?ma:Qt.current,n=t.contextTypes,o=(n=n!=null)?Fi(e,s):Po),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ph,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function rw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ph.enqueueReplaceState(t,t.state,null)}function mg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cy(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Xr(o):(o=wr(t)?ma:Qt.current,s.context=Fi(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(hg(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ph.enqueueReplaceState(s,s.state,null),cf(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vi(e,t){try{var r="",n=t;do r+=NR(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Vm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var JM=typeof WeakMap=="function"?WeakMap:Map;function SS(e,t,r){r=Ns(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mf||(mf=!0,jg=n),pg(e,t)},r}function CS(e,t,r){r=Ns(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){pg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){pg(e,t),typeof n!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function nw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new JM;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=hD.bind(null,e,t,r),t.then(e,e))}function sw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ow(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ns(-1,1),t.tag=2,bo(r,t,1))),r.lanes|=1),e)}var eD=Fs.ReactCurrentOwner,vr=!1;function tr(e,t,r,n){t.child=e===null?J_(t,null,r,n):Ui(t,e.child,r,n)}function aw(e,t,r,n,s){r=r.render;var o=t.ref;return hi(t,s),n=my(e,t,r,n,o,s),r=py(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(nt&&r&&ry(t),t.flags|=1,tr(e,t,n,s),t.child)}function iw(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!jy(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,jS(e,t,o,n,s)):(e=Dd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Dc,r(a,n)&&e.ref===t.ref)return Ds(e,t,s)}return t.flags|=1,e=Co(o,n),e.ref=t.ref,e.return=t,t.child=e}function jS(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Dc(o,n)&&e.ref===t.ref)if(vr=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(vr=!0);else return t.lanes=e.lanes,Ds(e,t,s)}return gg(e,t,r,n,s)}function NS(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(li,Er),Er|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(li,Er),Er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ye(li,Er),Er|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ye(li,Er),Er|=n;return tr(e,t,s,r),t.child}function kS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gg(e,t,r,n,s){var o=wr(r)?ma:Qt.current;return o=Fi(t,o),hi(t,s),r=my(e,t,r,n,o,s),n=py(),e!==null&&!vr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(nt&&n&&ry(t),t.flags|=1,tr(e,t,r,s),t.child)}function lw(e,t,r,n,s){if(wr(r)){var o=!0;nf(t)}else o=!1;if(hi(t,s),t.stateNode===null)Td(e,t),_S(t,r,n),mg(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xr(u):(u=wr(r)?ma:Qt.current,u=Fi(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&rw(t,a,n,u),Xs=!1;var h=t.memoizedState;a.state=h,cf(t,n,a,s),c=t.memoizedState,l!==n||h!==c||xr.current||Xs?(typeof f=="function"&&(hg(t,r,f,n),c=t.memoizedState),(l=Xs||tw(t,r,l,n,h,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,tS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:cn(t.type,l),a.props=u,d=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xr(c):(c=wr(r)?ma:Qt.current,c=Fi(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||h!==c)&&rw(t,a,n,c),Xs=!1,h=t.memoizedState,a.state=h,cf(t,n,a,s);var g=t.memoizedState;l!==d||h!==g||xr.current||Xs?(typeof p=="function"&&(hg(t,r,p,n),g=t.memoizedState),(u=Xs||tw(t,r,u,n,h,g,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return vg(e,t,r,n,o,s)}function vg(e,t,r,n,s,o){kS(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&K0(t,r,!1),Ds(e,t,o);n=t.stateNode,eD.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ui(t,e.child,null,o),t.child=Ui(t,null,l,o)):tr(e,t,l,o),t.memoizedState=n.state,s&&K0(t,r,!0),t.child}function ES(e){var t=e.stateNode;t.pendingContext?H0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&H0(e,t.context,!1),uy(e,t.containerInfo)}function cw(e,t,r,n,s){return zi(),sy(s),t.flags|=256,tr(e,t,r,n),t.child}var yg={dehydrated:null,treeContext:null,retryLane:0};function xg(e){return{baseLanes:e,cachePool:null,transitions:null}}function PS(e,t,r){var n=t.pendingProps,s=lt.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ye(lt,s&1),e===null)return dg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=yh(a,n,0,null),e=ha(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=xg(r),t.memoizedState=yg,e):yy(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return tD(e,t,a,n,l,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Co(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Co(l,o):(o=ha(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?xg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=yg,n}return o=e.child,e=o.sibling,n=Co(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yy(e,t){return t=yh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function td(e,t,r,n){return n!==null&&sy(n),Ui(t,e.child,null,r),e=yy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tD(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=Vm(Error(W(422))),td(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=yh({mode:"visible",children:n.children},s,0,null),o=ha(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ui(t,e.child,null,a),t.child.memoizedState=xg(a),t.memoizedState=yg,o);if(!(t.mode&1))return td(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(W(419)),n=Vm(o,n,void 0),td(e,t,a,n)}if(l=(a&e.childLanes)!==0,vr||l){if(n=It,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Ms(e,s),xn(n,e,s,-1))}return Cy(),n=Vm(Error(W(421))),td(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mD.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Rr=wo(s.nextSibling),Mr=t,nt=!0,mn=null,e!==null&&(Wr[qr++]=ws,Wr[qr++]=bs,Wr[qr++]=pa,ws=e.id,bs=e.overflow,pa=t),t=yy(t,n.children),t.flags|=4096,t)}function uw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fg(e.return,t,r)}function Wm(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function TS(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(tr(e,t,n.children,r),n=lt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uw(e,r,t);else if(e.tag===19)uw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ye(lt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&uf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Wm(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&uf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Wm(t,!0,r,null,o);break;case"together":Wm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Td(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ds(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),va|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Co(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Co(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rD(e,t,r){switch(t.tag){case 3:ES(t),zi();break;case 5:rS(t);break;case 1:wr(t.type)&&nf(t);break;case 4:uy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ye(af,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ye(lt,lt.current&1),t.flags|=128,null):r&t.child.childLanes?PS(e,t,r):(Ye(lt,lt.current&1),e=Ds(e,t,r),e!==null?e.sibling:null);Ye(lt,lt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return TS(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ye(lt,lt.current),n)break;return null;case 22:case 23:return t.lanes=0,NS(e,t,r)}return Ds(e,t,r)}var RS,wg,MS,DS;RS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wg=function(){};MS=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ra(Qn.current);var o=null;switch(r){case"input":s=Bp(e,s),n=Bp(e,n),o=[];break;case"select":s=dt({},s,{value:void 0}),n=dt({},n,{value:void 0}),o=[];break;case"textarea":s=qp(e,s),n=qp(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=tf)}Kp(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&et("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};DS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ul(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nD(e,t,r){var n=t.pendingProps;switch(ny(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return wr(t.type)&&rf(),qt(t),null;case 3:return n=t.stateNode,Bi(),tt(xr),tt(Qt),fy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ju(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(Eg(mn),mn=null))),wg(e,t),qt(t),null;case 5:dy(t);var s=ra($c.current);if(r=t.type,e!==null&&t.stateNode!=null)MS(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return qt(t),null}if(e=ra(Qn.current),Ju(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Fn]=t,n[Ic]=o,e=(t.mode&1)!==0,r){case"dialog":et("cancel",n),et("close",n);break;case"iframe":case"object":case"embed":et("load",n);break;case"video":case"audio":for(s=0;s<ec.length;s++)et(ec[s],n);break;case"source":et("error",n);break;case"img":case"image":case"link":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"input":x0(n,o),et("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},et("invalid",n);break;case"textarea":b0(n,o),et("invalid",n)}Kp(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Xu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Xu(n.textContent,l,e),s=["children",""+l]):Nc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&et("scroll",n)}switch(r){case"input":Wu(n),w0(n,o,!0);break;case"textarea":Wu(n),_0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=tf)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Fn]=t,e[Ic]=n,RS(e,t,!1,!1),t.stateNode=e;e:{switch(a=Gp(r,n),r){case"dialog":et("cancel",e),et("close",e),s=n;break;case"iframe":case"object":case"embed":et("load",e),s=n;break;case"video":case"audio":for(s=0;s<ec.length;s++)et(ec[s],e);s=n;break;case"source":et("error",e),s=n;break;case"img":case"image":case"link":et("error",e),et("load",e),s=n;break;case"details":et("toggle",e),s=n;break;case"input":x0(e,n),s=Bp(e,n),et("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=dt({},n,{value:void 0}),et("invalid",e);break;case"textarea":b0(e,n),s=qp(e,n),et("invalid",e);break;default:s=n}Kp(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?u_(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&l_(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&kc(e,c):typeof c=="number"&&kc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&et("scroll",e):c!=null&&Bv(e,o,c,a))}switch(r){case"input":Wu(e),w0(e,n,!1);break;case"textarea":Wu(e),_0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Eo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?ci(e,!!n.multiple,o,!1):n.defaultValue!=null&&ci(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=tf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)DS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=ra($c.current),ra(Qn.current),Ju(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fn]=t,(o=n.nodeValue!==r)&&(e=Mr,e!==null))switch(e.tag){case 3:Xu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fn]=t,t.stateNode=n}return qt(t),null;case 13:if(tt(lt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&Rr!==null&&t.mode&1&&!(t.flags&128))Z_(),zi(),t.flags|=98560,o=!1;else if(o=Ju(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Fn]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),o=!1}else mn!==null&&(Eg(mn),mn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?Et===0&&(Et=3):Cy())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return Bi(),wg(e,t),e===null&&Oc(t.stateNode.containerInfo),qt(t),null;case 10:return iy(t.type._context),qt(t),null;case 17:return wr(t.type)&&rf(),qt(t),null;case 19:if(tt(lt),o=t.memoizedState,o===null)return qt(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Ul(o,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=uf(e),a!==null){for(t.flags|=128,Ul(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ye(lt,lt.current&1|2),t.child}e=e.sibling}o.tail!==null&&vt()>Wi&&(t.flags|=128,n=!0,Ul(o,!1),t.lanes=4194304)}else{if(!n)if(e=uf(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!nt)return qt(t),null}else 2*vt()-o.renderingStartTime>Wi&&r!==1073741824&&(t.flags|=128,n=!0,Ul(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=vt(),t.sibling=null,r=lt.current,Ye(lt,n?r&1|2:r&1),t):(qt(t),null);case 22:case 23:return Sy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Er&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function sD(e,t){switch(ny(t),t.tag){case 1:return wr(t.type)&&rf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bi(),tt(xr),tt(Qt),fy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dy(t),null;case 13:if(tt(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(lt),null;case 4:return Bi(),null;case 10:return iy(t.type._context),null;case 22:case 23:return Sy(),null;case 24:return null;default:return null}}var rd=!1,Gt=!1,oD=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ii(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mt(e,t,n)}else r.current=null}function bg(e,t,r){try{r()}catch(n){mt(e,t,n)}}var dw=!1;function aD(e,t){if(sg=Xd,e=$_(),ty(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=a+s),d!==o||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=a),h===o&&++f===n&&(c=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(og={focusedElem:e,selectionRange:r},Xd=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:cn(t.type,v),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(_){mt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return g=dw,dw=!1,g}function mc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&bg(t,r,o)}s=s.next}while(s!==n)}}function gh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _g(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function OS(e){var t=e.alternate;t!==null&&(e.alternate=null,OS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fn],delete t[Ic],delete t[lg],delete t[BM],delete t[VM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AS(e){return e.tag===5||e.tag===3||e.tag===4}function fw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=tf));else if(n!==4&&(e=e.child,e!==null))for(Sg(e,t,r),e=e.sibling;e!==null;)Sg(e,t,r),e=e.sibling}function Cg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Cg(e,t,r),e=e.sibling;e!==null;)Cg(e,t,r),e=e.sibling}var $t=null,fn=!1;function Vs(e,t,r){for(r=r.child;r!==null;)IS(e,t,r),r=r.sibling}function IS(e,t,r){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(lh,r)}catch{}switch(r.tag){case 5:Gt||ii(r,t);case 6:var n=$t,s=fn;$t=null,Vs(e,t,r),$t=n,fn=s,$t!==null&&(fn?(e=$t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$t.removeChild(r.stateNode));break;case 18:$t!==null&&(fn?(e=$t,r=r.stateNode,e.nodeType===8?Lm(e.parentNode,r):e.nodeType===1&&Lm(e,r),Rc(e)):Lm($t,r.stateNode));break;case 4:n=$t,s=fn,$t=r.stateNode.containerInfo,fn=!0,Vs(e,t,r),$t=n,fn=s;break;case 0:case 11:case 14:case 15:if(!Gt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&bg(r,t,a),s=s.next}while(s!==n)}Vs(e,t,r);break;case 1:if(!Gt&&(ii(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){mt(r,t,l)}Vs(e,t,r);break;case 21:Vs(e,t,r);break;case 22:r.mode&1?(Gt=(n=Gt)||r.memoizedState!==null,Vs(e,t,r),Gt=n):Vs(e,t,r);break;default:Vs(e,t,r)}}function hw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new oD),t.forEach(function(n){var s=pD.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function an(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:$t=l.stateNode,fn=!1;break e;case 3:$t=l.stateNode.containerInfo,fn=!0;break e;case 4:$t=l.stateNode.containerInfo,fn=!0;break e}l=l.return}if($t===null)throw Error(W(160));IS(o,a,s),$t=null,fn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){mt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LS(t,e),t=t.sibling}function LS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),Pn(e),n&4){try{mc(3,e,e.return),gh(3,e)}catch(v){mt(e,e.return,v)}try{mc(5,e,e.return)}catch(v){mt(e,e.return,v)}}break;case 1:an(t,e),Pn(e),n&512&&r!==null&&ii(r,r.return);break;case 5:if(an(t,e),Pn(e),n&512&&r!==null&&ii(r,r.return),e.flags&32){var s=e.stateNode;try{kc(s,"")}catch(v){mt(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&o_(s,o),Gp(l,a);var u=Gp(l,o);for(a=0;a<c.length;a+=2){var f=c[a],d=c[a+1];f==="style"?u_(s,d):f==="dangerouslySetInnerHTML"?l_(s,d):f==="children"?kc(s,d):Bv(s,f,d,u)}switch(l){case"input":Vp(s,o);break;case"textarea":a_(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ci(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?ci(s,!!o.multiple,o.defaultValue,!0):ci(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ic]=o}catch(v){mt(e,e.return,v)}}break;case 6:if(an(t,e),Pn(e),n&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){mt(e,e.return,v)}}break;case 3:if(an(t,e),Pn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rc(t.containerInfo)}catch(v){mt(e,e.return,v)}break;case 4:an(t,e),Pn(e);break;case 13:an(t,e),Pn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(by=vt())),n&4&&hw(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Gt=(u=Gt)||f,an(t,e),Gt=u):an(t,e),Pn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(oe=e,f=e.child;f!==null;){for(d=oe=f;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:mc(4,h,h.return);break;case 1:ii(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){mt(n,r,v)}}break;case 5:ii(h,h.return);break;case 22:if(h.memoizedState!==null){pw(d);continue}}p!==null?(p.return=h,oe=p):pw(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=c_("display",a))}catch(v){mt(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){mt(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:an(t,e),Pn(e),n&4&&hw(e);break;case 21:break;default:an(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(AS(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(kc(s,""),n.flags&=-33);var o=fw(e);Cg(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=fw(e);Sg(e,l,a);break;default:throw Error(W(161))}}catch(c){mt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iD(e,t,r){oe=e,$S(e)}function $S(e,t,r){for(var n=(e.mode&1)!==0;oe!==null;){var s=oe,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||rd;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Gt;l=rd;var u=Gt;if(rd=a,(Gt=c)&&!u)for(oe=s;oe!==null;)a=oe,c=a.child,a.tag===22&&a.memoizedState!==null?gw(s):c!==null?(c.return=a,oe=c):gw(s);for(;o!==null;)oe=o,$S(o),o=o.sibling;oe=s,rd=l,Gt=u}mw(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,oe=o):mw(e)}}function mw(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||gh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Gt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:cn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&X0(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}X0(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Rc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Gt||t.flags&512&&_g(t)}catch(h){mt(t,t.return,h)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function pw(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function gw(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gh(4,t)}catch(c){mt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){mt(t,s,c)}}var o=t.return;try{_g(t)}catch(c){mt(t,o,c)}break;case 5:var a=t.return;try{_g(t)}catch(c){mt(t,a,c)}}}catch(c){mt(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var lD=Math.ceil,hf=Fs.ReactCurrentDispatcher,xy=Fs.ReactCurrentOwner,Kr=Fs.ReactCurrentBatchConfig,ze=0,It=null,wt=null,Ft=0,Er=0,li=Io(0),Et=0,Bc=null,va=0,vh=0,wy=0,pc=null,pr=null,by=0,Wi=1/0,gs=null,mf=!1,jg=null,_o=null,nd=!1,po=null,pf=0,gc=0,Ng=null,Rd=-1,Md=0;function sr(){return ze&6?vt():Rd!==-1?Rd:Rd=vt()}function So(e){return e.mode&1?ze&2&&Ft!==0?Ft&-Ft:qM.transition!==null?(Md===0&&(Md=__()),Md):(e=We,e!==0||(e=window.event,e=e===void 0?16:P_(e.type)),e):1}function xn(e,t,r,n){if(50<gc)throw gc=0,Ng=null,Error(W(185));cu(e,r,n),(!(ze&2)||e!==It)&&(e===It&&(!(ze&2)&&(vh|=r),Et===4&&to(e,Ft)),br(e,n),r===1&&ze===0&&!(t.mode&1)&&(Wi=vt()+500,hh&&Lo()))}function br(e,t){var r=e.callbackNode;qR(e,t);var n=Zd(e,e===It?Ft:0);if(n===0)r!==null&&j0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&j0(r),t===1)e.tag===0?WM(vw.bind(null,e)):G_(vw.bind(null,e)),zM(function(){!(ze&6)&&Lo()}),r=null;else{switch(S_(n)){case 1:r=Kv;break;case 4:r=w_;break;case 16:r=Qd;break;case 536870912:r=b_;break;default:r=Qd}r=HS(r,FS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function FS(e,t){if(Rd=-1,Md=0,ze&6)throw Error(W(327));var r=e.callbackNode;if(mi()&&e.callbackNode!==r)return null;var n=Zd(e,e===It?Ft:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gf(e,n);else{t=n;var s=ze;ze|=2;var o=US();(It!==e||Ft!==t)&&(gs=null,Wi=vt()+500,fa(e,t));do try{dD();break}catch(l){zS(e,l)}while(!0);ay(),hf.current=o,ze=s,wt!==null?t=0:(It=null,Ft=0,t=Et)}if(t!==0){if(t===2&&(s=Jp(e),s!==0&&(n=s,t=kg(e,s))),t===1)throw r=Bc,fa(e,0),to(e,n),br(e,vt()),r;if(t===6)to(e,n);else{if(s=e.current.alternate,!(n&30)&&!cD(s)&&(t=gf(e,n),t===2&&(o=Jp(e),o!==0&&(n=o,t=kg(e,o))),t===1))throw r=Bc,fa(e,0),to(e,n),br(e,vt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:Yo(e,pr,gs);break;case 3:if(to(e,n),(n&130023424)===n&&(t=by+500-vt(),10<t)){if(Zd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){sr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ig(Yo.bind(null,e,pr,gs),t);break}Yo(e,pr,gs);break;case 4:if(to(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-yn(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lD(n/1960))-n,10<n){e.timeoutHandle=ig(Yo.bind(null,e,pr,gs),n);break}Yo(e,pr,gs);break;case 5:Yo(e,pr,gs);break;default:throw Error(W(329))}}}return br(e,vt()),e.callbackNode===r?FS.bind(null,e):null}function kg(e,t){var r=pc;return e.current.memoizedState.isDehydrated&&(fa(e,t).flags|=256),e=gf(e,t),e!==2&&(t=pr,pr=r,t!==null&&Eg(t)),e}function Eg(e){pr===null?pr=e:pr.push.apply(pr,e)}function cD(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!wn(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function to(e,t){for(t&=~wy,t&=~vh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yn(t),n=1<<r;e[r]=-1,t&=~n}}function vw(e){if(ze&6)throw Error(W(327));mi();var t=Zd(e,0);if(!(t&1))return br(e,vt()),null;var r=gf(e,t);if(e.tag!==0&&r===2){var n=Jp(e);n!==0&&(t=n,r=kg(e,n))}if(r===1)throw r=Bc,fa(e,0),to(e,t),br(e,vt()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yo(e,pr,gs),br(e,vt()),null}function _y(e,t){var r=ze;ze|=1;try{return e(t)}finally{ze=r,ze===0&&(Wi=vt()+500,hh&&Lo())}}function ya(e){po!==null&&po.tag===0&&!(ze&6)&&mi();var t=ze;ze|=1;var r=Kr.transition,n=We;try{if(Kr.transition=null,We=1,e)return e()}finally{We=n,Kr.transition=r,ze=t,!(ze&6)&&Lo()}}function Sy(){Er=li.current,tt(li)}function fa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,FM(r)),wt!==null)for(r=wt.return;r!==null;){var n=r;switch(ny(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rf();break;case 3:Bi(),tt(xr),tt(Qt),fy();break;case 5:dy(n);break;case 4:Bi();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:iy(n.type._context);break;case 22:case 23:Sy()}r=r.return}if(It=e,wt=e=Co(e.current,null),Ft=Er=t,Et=0,Bc=null,wy=vh=va=0,pr=pc=null,ta!==null){for(t=0;t<ta.length;t++)if(r=ta[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}ta=null}return e}function zS(e,t){do{var r=wt;try{if(ay(),Ed.current=ff,df){for(var n=ut.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}df=!1}if(ga=0,At=Nt=ut=null,hc=!1,Fc=0,xy.current=null,r===null||r.return===null){Et=1,Bc=t,wt=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=Ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=sw(a);if(p!==null){p.flags&=-257,ow(p,a,l,o,t),p.mode&1&&nw(o,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){nw(o,u,t),Cy();break e}c=Error(W(426))}}else if(nt&&l.mode&1){var w=sw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ow(w,a,l,o,t),sy(Vi(c,l));break e}}o=c=Vi(c,l),Et!==4&&(Et=2),pc===null?pc=[o]:pc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=SS(o,c,t);Z0(o,y);break e;case 1:l=c;var x=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_o===null||!_o.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=CS(o,l,t);Z0(o,_);break e}}o=o.return}while(o!==null)}VS(r)}catch(S){t=S,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(!0)}function US(){var e=hf.current;return hf.current=ff,e===null?ff:e}function Cy(){(Et===0||Et===3||Et===2)&&(Et=4),It===null||!(va&268435455)&&!(vh&268435455)||to(It,Ft)}function gf(e,t){var r=ze;ze|=2;var n=US();(It!==e||Ft!==t)&&(gs=null,fa(e,t));do try{uD();break}catch(s){zS(e,s)}while(!0);if(ay(),ze=r,hf.current=n,wt!==null)throw Error(W(261));return It=null,Ft=0,Et}function uD(){for(;wt!==null;)BS(wt)}function dD(){for(;wt!==null&&!IR();)BS(wt)}function BS(e){var t=qS(e.alternate,e,Er);e.memoizedProps=e.pendingProps,t===null?VS(e):wt=t,xy.current=null}function VS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sD(r,t),r!==null){r.flags&=32767,wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,wt=null;return}}else if(r=nD(r,t,Er),r!==null){wt=r;return}if(t=t.sibling,t!==null){wt=t;return}wt=t=e}while(t!==null);Et===0&&(Et=5)}function Yo(e,t,r){var n=We,s=Kr.transition;try{Kr.transition=null,We=1,fD(e,t,r,n)}finally{Kr.transition=s,We=n}return null}function fD(e,t,r,n){do mi();while(po!==null);if(ze&6)throw Error(W(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(HR(e,o),e===It&&(wt=It=null,Ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nd||(nd=!0,HS(Qd,function(){return mi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Kr.transition,Kr.transition=null;var a=We;We=1;var l=ze;ze|=4,xy.current=null,aD(e,r),LS(r,e),MM(og),Xd=!!sg,og=sg=null,e.current=r,iD(r),LR(),ze=l,We=a,Kr.transition=o}else e.current=r;if(nd&&(nd=!1,po=e,pf=s),o=e.pendingLanes,o===0&&(_o=null),zR(r.stateNode),br(e,vt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mf)throw mf=!1,e=jg,jg=null,e;return pf&1&&e.tag!==0&&mi(),o=e.pendingLanes,o&1?e===Ng?gc++:(gc=0,Ng=e):gc=0,Lo(),null}function mi(){if(po!==null){var e=S_(pf),t=Kr.transition,r=We;try{if(Kr.transition=null,We=16>e?16:e,po===null)var n=!1;else{if(e=po,po=null,pf=0,ze&6)throw Error(W(331));var s=ze;for(ze|=4,oe=e.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var f=oe;switch(f.tag){case 0:case 11:case 15:mc(8,f,o)}var d=f.child;if(d!==null)d.return=f,oe=d;else for(;oe!==null;){f=oe;var h=f.sibling,p=f.return;if(OS(f),f===u){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:mc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,oe=y;break e}oe=o.return}}var x=e.current;for(oe=x;oe!==null;){a=oe;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,oe=b;else e:for(a=x;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gh(9,l)}}catch(S){mt(l,l.return,S)}if(l===a){oe=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,oe=_;break e}oe=l.return}}if(ze=s,Lo(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(lh,e)}catch{}n=!0}return n}finally{We=r,Kr.transition=t}}return!1}function yw(e,t,r){t=Vi(r,t),t=SS(e,t,1),e=bo(e,t,1),t=sr(),e!==null&&(cu(e,1,t),br(e,t))}function mt(e,t,r){if(e.tag===3)yw(e,e,r);else for(;t!==null;){if(t.tag===3){yw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_o===null||!_o.has(n))){e=Vi(r,e),e=CS(t,e,1),t=bo(t,e,1),e=sr(),t!==null&&(cu(t,1,e),br(t,e));break}}t=t.return}}function hD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sr(),e.pingedLanes|=e.suspendedLanes&r,It===e&&(Ft&r)===r&&(Et===4||Et===3&&(Ft&130023424)===Ft&&500>vt()-by?fa(e,0):wy|=r),br(e,t)}function WS(e,t){t===0&&(e.mode&1?(t=Ku,Ku<<=1,!(Ku&130023424)&&(Ku=4194304)):t=1);var r=sr();e=Ms(e,t),e!==null&&(cu(e,t,r),br(e,r))}function mD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),WS(e,r)}function pD(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),WS(e,r)}var qS;qS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xr.current)vr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return vr=!1,rD(e,t,r);vr=!!(e.flags&131072)}else vr=!1,nt&&t.flags&1048576&&Y_(t,of,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Td(e,t),e=t.pendingProps;var s=Fi(t,Qt.current);hi(t,r),s=my(null,t,n,e,s,r);var o=py();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wr(n)?(o=!0,nf(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cy(t),s.updater=ph,t.stateNode=s,s._reactInternals=t,mg(t,n,e,r),t=vg(null,t,n,!0,o,r)):(t.tag=0,nt&&o&&ry(t),tr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Td(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=vD(n),e=cn(n,e),s){case 0:t=gg(null,t,n,e,r);break e;case 1:t=lw(null,t,n,e,r);break e;case 11:t=aw(null,t,n,e,r);break e;case 14:t=iw(null,t,n,cn(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),gg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),lw(e,t,n,s,r);case 3:e:{if(ES(t),e===null)throw Error(W(387));n=t.pendingProps,o=t.memoizedState,s=o.element,tS(e,t),cf(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Vi(Error(W(423)),t),t=cw(e,t,n,r,s);break e}else if(n!==s){s=Vi(Error(W(424)),t),t=cw(e,t,n,r,s);break e}else for(Rr=wo(t.stateNode.containerInfo.firstChild),Mr=t,nt=!0,mn=null,r=J_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zi(),n===s){t=Ds(e,t,r);break e}tr(e,t,n,r)}t=t.child}return t;case 5:return rS(t),e===null&&dg(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,ag(n,s)?a=null:o!==null&&ag(n,o)&&(t.flags|=32),kS(e,t),tr(e,t,a,r),t.child;case 6:return e===null&&dg(t),null;case 13:return PS(e,t,r);case 4:return uy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ui(t,null,n,r):tr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),aw(e,t,n,s,r);case 7:return tr(e,t,t.pendingProps,r),t.child;case 8:return tr(e,t,t.pendingProps.children,r),t.child;case 12:return tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Ye(af,n._currentValue),n._currentValue=a,o!==null)if(wn(o.value,a)){if(o.children===s.children&&!xr.current){t=Ds(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Ns(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),fg(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(W(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),fg(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}tr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,hi(t,r),s=Xr(s),n=n(s),t.flags|=1,tr(e,t,n,r),t.child;case 14:return n=t.type,s=cn(n,t.pendingProps),s=cn(n.type,s),iw(e,t,n,s,r);case 15:return jS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),Td(e,t),t.tag=1,wr(n)?(e=!0,nf(t)):e=!1,hi(t,r),_S(t,n,s),mg(t,n,s,r),vg(null,t,n,!0,e,r);case 19:return TS(e,t,r);case 22:return NS(e,t,r)}throw Error(W(156,t.tag))};function HS(e,t){return x_(e,t)}function gD(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(e,t,r,n){return new gD(e,t,r,n)}function jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vD(e){if(typeof e=="function")return jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wv)return 11;if(e===qv)return 14}return 2}function Co(e,t){var r=e.alternate;return r===null?(r=Hr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dd(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")jy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Xa:return ha(r.children,s,o,t);case Vv:a=8,s|=8;break;case $p:return e=Hr(12,r,t,s|2),e.elementType=$p,e.lanes=o,e;case Fp:return e=Hr(13,r,t,s),e.elementType=Fp,e.lanes=o,e;case zp:return e=Hr(19,r,t,s),e.elementType=zp,e.lanes=o,e;case r_:return yh(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case e_:a=10;break e;case t_:a=9;break e;case Wv:a=11;break e;case qv:a=14;break e;case Zs:a=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Hr(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function ha(e,t,r,n){return e=Hr(7,e,n,t),e.lanes=r,e}function yh(e,t,r,n){return e=Hr(22,e,n,t),e.elementType=r_,e.lanes=r,e.stateNode={isHidden:!1},e}function qm(e,t,r){return e=Hr(6,e,null,t),e.lanes=r,e}function Hm(e,t,r){return t=Hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yD(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ny(e,t,r,n,s,o,a,l,c){return e=new yD(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Hr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(o),e}function xD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Za,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function KS(e){if(!e)return Po;e=e._reactInternals;e:{if(Pa(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(wr(r))return K_(e,r,t)}return t}function GS(e,t,r,n,s,o,a,l,c){return e=Ny(r,n,!0,e,s,o,a,l,c),e.context=KS(null),r=e.current,n=sr(),s=So(r),o=Ns(n,s),o.callback=t??null,bo(r,o,s),e.current.lanes=s,cu(e,s,n),br(e,n),e}function xh(e,t,r,n){var s=t.current,o=sr(),a=So(s);return r=KS(r),t.context===null?t.context=r:t.pendingContext=r,t=Ns(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bo(s,t,a),e!==null&&(xn(e,s,a,o),kd(e,s,a)),a}function vf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ky(e,t){xw(e,t),(e=e.alternate)&&xw(e,t)}function wD(){return null}var YS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ey(e){this._internalRoot=e}wh.prototype.render=Ey.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));xh(e,t,null,null)};wh.prototype.unmount=Ey.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ya(function(){xh(null,e,null,null)}),t[Rs]=null}};function wh(e){this._internalRoot=e}wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=N_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<eo.length&&t!==0&&t<eo[r].priority;r++);eo.splice(r,0,e),r===0&&E_(e)}};function Py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ww(){}function bD(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=vf(a);o.call(u)}}var a=GS(t,n,e,0,null,!1,!1,"",ww);return e._reactRootContainer=a,e[Rs]=a.current,Oc(e.nodeType===8?e.parentNode:e),ya(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=vf(c);l.call(u)}}var c=Ny(e,0,!1,null,null,!1,!1,"",ww);return e._reactRootContainer=c,e[Rs]=c.current,Oc(e.nodeType===8?e.parentNode:e),ya(function(){xh(t,c,r,n)}),c}function _h(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=vf(a);l.call(c)}}xh(t,a,e,s)}else a=bD(r,t,e,s,n);return vf(a)}C_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Jl(t.pendingLanes);r!==0&&(Gv(t,r|1),br(t,vt()),!(ze&6)&&(Wi=vt()+500,Lo()))}break;case 13:ya(function(){var n=Ms(e,1);if(n!==null){var s=sr();xn(n,e,1,s)}}),ky(e,1)}};Yv=function(e){if(e.tag===13){var t=Ms(e,134217728);if(t!==null){var r=sr();xn(t,e,134217728,r)}ky(e,134217728)}};j_=function(e){if(e.tag===13){var t=So(e),r=Ms(e,t);if(r!==null){var n=sr();xn(r,e,t,n)}ky(e,t)}};N_=function(){return We};k_=function(e,t){var r=We;try{return We=e,t()}finally{We=r}};Qp=function(e,t,r){switch(t){case"input":if(Vp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=fh(n);if(!s)throw Error(W(90));s_(n),Vp(n,s)}}}break;case"textarea":a_(e,r);break;case"select":t=r.value,t!=null&&ci(e,!!r.multiple,t,!1)}};h_=_y;m_=ya;var _D={usingClientEntryPoint:!1,Events:[du,ri,fh,d_,f_,_y]},Bl={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SD={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=v_(e),e===null?null:e.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||wD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{lh=sd.inject(SD),Yn=sd}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_D;Lr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(t))throw Error(W(200));return xD(e,t,null,r)};Lr.createRoot=function(e,t){if(!Py(e))throw Error(W(299));var r=!1,n="",s=YS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ny(e,1,!1,null,null,r,!1,n,s),e[Rs]=t.current,Oc(e.nodeType===8?e.parentNode:e),new Ey(t)};Lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=v_(t),e=e===null?null:e.stateNode,e};Lr.flushSync=function(e){return ya(e)};Lr.hydrate=function(e,t,r){if(!bh(t))throw Error(W(200));return _h(null,e,t,!0,r)};Lr.hydrateRoot=function(e,t,r){if(!Py(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=YS;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=GS(t,null,e,1,r??null,s,!1,o,a),e[Rs]=t.current,Oc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new wh(t)};Lr.render=function(e,t,r){if(!bh(t))throw Error(W(200));return _h(null,e,t,!1,r)};Lr.unmountComponentAtNode=function(e){if(!bh(e))throw Error(W(40));return e._reactRootContainer?(ya(function(){_h(null,null,e,!1,function(){e._reactRootContainer=null,e[Rs]=null})}),!0):!1};Lr.unstable_batchedUpdates=_y;Lr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bh(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return _h(e,t,r,!1,n)};Lr.version="18.3.1-next-f1338f8080-20240426";function QS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QS)}catch(e){console.error(e)}}QS(),Q1.exports=Lr;var Ta=Q1.exports;const CD=L1(Ta);var bw=Ta;Ip.createRoot=bw.createRoot,Ip.hydrateRoot=bw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}var go;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(go||(go={}));const _w="popstate";function jD(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:a,hash:l}=n.location;return Pg("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:yf(s)}return kD(t,r,null,e)}function bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ZS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ND(){return Math.random().toString(36).substr(2,8)}function Sw(e,t){return{usr:e.state,key:e.key,idx:t}}function Pg(e,t,r,n){return r===void 0&&(r=null),Vc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ll(t):t,{state:r,key:t&&t.key||n||ND()})}function yf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ll(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function kD(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=go.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(Vc({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=go.Pop;let w=f(),y=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:y})}function h(w,y){l=go.Push;let x=Pg(v.location,w,y);u=f()+1;let b=Sw(x,u),_=v.createHref(x);try{a.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&c&&c({action:l,location:v.location,delta:1})}function p(w,y){l=go.Replace;let x=Pg(v.location,w,y);u=f();let b=Sw(x,u),_=v.createHref(x);a.replaceState(b,"",_),o&&c&&c({action:l,location:v.location,delta:0})}function g(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:yf(w);return x=x.replace(/ $/,"%20"),bt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(_w,d),c=w,()=>{s.removeEventListener(_w,d),c=null}},createHref(w){return t(s,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(w){return a.go(w)}};return v}var Cw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cw||(Cw={}));function ED(e,t,r){return r===void 0&&(r="/"),PD(e,t,r,!1)}function PD(e,t,r,n){let s=typeof t=="string"?ll(t):t,o=Ty(s.pathname||"/",r);if(o==null)return null;let a=XS(e);TD(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=UD(o);l=FD(a[c],u,n)}return l}function XS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(bt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=jo([n,c.relativePath]),f=r.concat(c);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XS(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:LD(u,o.index),routesMeta:f})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of JS(o.path))s(o,a,c)}),t}function JS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=JS(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function TD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$D(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const RD=/^:[\w-]+$/,MD=3,DD=2,OD=1,AD=10,ID=-2,jw=e=>e==="*";function LD(e,t){let r=e.split("/"),n=r.length;return r.some(jw)&&(n+=ID),t&&(n+=DD),r.filter(s=>!jw(s)).reduce((s,o)=>s+(RD.test(o)?MD:o===""?OD:AD),n)}function $D(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function FD(e,t,r){let{routesMeta:n}=e,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=Nw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Nw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:jo([o,d.pathname]),pathnameBase:qD(jo([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=jo([o,d.pathnameBase]))}return a}function Nw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=zD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let v=l[d]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[d];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function zD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ZS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function UD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ZS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ty(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function BD(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ll(e):e;return{pathname:r?r.startsWith("/")?r:VD(r,t):t,search:HD(n),hash:KD(s)}}function VD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Km(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function eC(e,t){let r=WD(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function tC(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ll(e):(s=Vc({},e),bt(!s.pathname||!s.pathname.includes("?"),Km("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),Km("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),Km("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=BD(s,l),u=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const jo=e=>e.join("/").replace(/\/\/+/g,"/"),qD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),HD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rC=["post","put","patch","delete"];new Set(rC);const YD=["get",...rC];new Set(YD);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(this,arguments)}const Ry=m.createContext(null),QD=m.createContext(null),Ra=m.createContext(null),Sh=m.createContext(null),$o=m.createContext({outlet:null,matches:[],isDataRoute:!1}),nC=m.createContext(null);function ZD(e,t){let{relative:r}=t===void 0?{}:t;hu()||bt(!1);let{basename:n,navigator:s}=m.useContext(Ra),{hash:o,pathname:a,search:l}=oC(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:jo([n,a])),s.createHref({pathname:c,search:l,hash:o})}function hu(){return m.useContext(Sh)!=null}function Fo(){return hu()||bt(!1),m.useContext(Sh).location}function sC(e){m.useContext(Ra).static||m.useLayoutEffect(e)}function ns(){let{isDataRoute:e}=m.useContext($o);return e?fO():XD()}function XD(){hu()||bt(!1);let e=m.useContext(Ry),{basename:t,future:r,navigator:n}=m.useContext(Ra),{matches:s}=m.useContext($o),{pathname:o}=Fo(),a=JSON.stringify(eC(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return sC(()=>{l.current=!0}),m.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=tC(u,JSON.parse(a),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:jo([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,a,o,e])}const JD=m.createContext(null);function eO(e){let t=m.useContext($o).outlet;return t&&m.createElement(JD.Provider,{value:e},t)}function oC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Ra),{matches:s}=m.useContext($o),{pathname:o}=Fo(),a=JSON.stringify(eC(s,n.v7_relativeSplatPath));return m.useMemo(()=>tC(e,JSON.parse(a),o,r==="path"),[e,a,o,r])}function tO(e,t){return rO(e,t)}function rO(e,t,r,n){hu()||bt(!1);let{navigator:s,static:o}=m.useContext(Ra),{matches:a}=m.useContext($o),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let f=Fo(),d;if(t){var h;let y=typeof t=="string"?ll(t):t;u==="/"||(h=y.pathname)!=null&&h.startsWith(u)||bt(!1),d=y}else d=f;let p=d.pathname||"/",g=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=!o&&r&&r.matches&&r.matches.length>0?r.matches:ED(e,{pathname:g}),w=iO(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:jo([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:jo([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&w?m.createElement(Sh.Provider,{value:{location:Wc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:go.Pop}},w):w}function nO(){let e=dO(),t=GD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const sO=m.createElement(nO,null);class oO extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement($o.Provider,{value:this.props.routeContext},m.createElement(nC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aO(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Ry);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement($o.Provider,{value:t},n)}function iO(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||bt(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,h)=>{let p,g=!1,v=null,w=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,v=d.route.errorElement||sO,c&&(u<0&&h===0?(g=!0,w=null):u===h&&(g=!0,w=d.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,h+1)),x=()=>{let b;return p?b=v:g?b=w:d.route.Component?b=m.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,m.createElement(aO,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?m.createElement(oO,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var aC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(aC||{}),xf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xf||{});function lO(e){let t=m.useContext(Ry);return t||bt(!1),t}function cO(e){let t=m.useContext(QD);return t||bt(!1),t}function uO(e){let t=m.useContext($o);return t||bt(!1),t}function iC(e){let t=uO(),r=t.matches[t.matches.length-1];return r.route.id||bt(!1),r.route.id}function dO(){var e;let t=m.useContext(nC),r=cO(xf.UseRouteError),n=iC(xf.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function fO(){let{router:e}=lO(aC.UseNavigateStable),t=iC(xf.UseNavigateStable),r=m.useRef(!1);return sC(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Wc({fromRouteId:t},o)))},[e,t])}function hO(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mO(e){return eO(e.context)}function dr(e){bt(!1)}function pO(e){let{basename:t="/",children:r=null,location:n,navigationType:s=go.Pop,navigator:o,static:a=!1,future:l}=e;hu()&&bt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:a,future:Wc({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=ll(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,v=m.useMemo(()=>{let w=Ty(f,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:g},navigationType:s}},[c,f,d,h,p,g,s]);return v==null?null:m.createElement(Ra.Provider,{value:u},m.createElement(Sh.Provider,{children:r,value:v}))}function gO(e){let{children:t,location:r}=e;return tO(Tg(t),r)}new Promise(()=>{});function Tg(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let o=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Tg(n.props.children,o));return}n.type!==dr&&bt(!1),!n.props.index||!n.props.children||bt(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Tg(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function vO(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function yO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xO(e,t){return e.button===0&&(!t||t==="_self")&&!yO(e)}const wO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bO="6";try{window.__reactRouterVersion=bO}catch{}const _O="startTransition",kw=G1[_O];function SO(e){let{basename:t,children:r,future:n,window:s}=e,o=m.useRef();o.current==null&&(o.current=jD({window:s,v5Compat:!0}));let a=o.current,[l,c]=m.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},f=m.useCallback(d=>{u&&kw?kw(()=>c(d)):c(d)},[c,u]);return m.useLayoutEffect(()=>a.listen(f),[a,f]),m.useEffect(()=>hO(n),[n]),m.createElement(pO,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const CO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wf=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=vO(t,wO),{basename:p}=m.useContext(Ra),g,v=!1;if(typeof u=="string"&&jO.test(u)&&(g=u,CO))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=Ty(_.pathname,p);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:v=!0}catch{}let w=ZD(u,{relative:s}),y=NO(u,{replace:a,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function x(b){n&&n(b),b.defaultPrevented||y(b)}return m.createElement("a",Rg({},h,{href:g||w,onClick:v||o?n:x,ref:r,target:c}))});var Ew;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ew||(Ew={}));var Pw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pw||(Pw={}));function NO(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=ns(),u=Fo(),f=oC(e,{relative:a});return m.useCallback(d=>{if(xO(d,r)){d.preventDefault();let h=n!==void 0?n:yf(u)===yf(f);c(e,{replace:h,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,f,n,s,r,e,o,a,l])}const kO="modulepreload",EO=function(e){return"/"+e},Tw={},cl=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=EO(c),c in Tw)return;Tw[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":kO,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},PO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cl(async()=>{const{default:n}=await Promise.resolve().then(()=>ul);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class My extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class TO extends My{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class RO extends My{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class MO extends My{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Mg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Mg||(Mg={}));var DO=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class OO{constructor(t,{headers:r={},customFetch:n,region:s=Mg.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=PO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return DO(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const f=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new TO(g)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new RO(f);if(!f.ok)throw new MO(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield f.json():h==="application/octet-stream"?p=yield f.blob():h==="text/event-stream"?p=f:h==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var gr={},Dy={},Ch={},mu={},jh={},Nh={},AO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qi=AO();const IO=qi.fetch,lC=qi.fetch.bind(qi),cC=qi.Headers,LO=qi.Request,$O=qi.Response,ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:cC,Request:LO,Response:$O,default:lC,fetch:IO},Symbol.toStringTag,{value:"Module"})),FO=XT(ul);var kh={};Object.defineProperty(kh,"__esModule",{value:!0});let zO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};kh.default=zO;var uC=Zr&&Zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});const UO=uC(FO),BO=uC(kh);let VO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=UO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,f=null,d=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(f=[],u=null,h=200,p="OK")}catch{o.status===404&&v===""?(h=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new BO.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Nh.default=VO;var WO=Zr&&Zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jh,"__esModule",{value:!0});const qO=WO(Nh);let HO=class extends qO.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};jh.default=HO;var KO=Zr&&Zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mu,"__esModule",{value:!0});const GO=KO(jh);let YO=class extends GO.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};mu.default=YO;var QO=Zr&&Zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ch,"__esModule",{value:!0});const Vl=QO(mu);let ZO=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Vl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Vl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Vl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Vl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Vl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ch.default=ZO;var Eh={},Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.version=void 0;Ph.version="0.0.0-automated";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.DEFAULT_HEADERS=void 0;const XO=Ph;Eh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${XO.version}`};var dC=Zr&&Zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dy,"__esModule",{value:!0});const JO=dC(Ch),eA=dC(mu),tA=Eh;let rA=class fC{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},tA.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new JO.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new fC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(a="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new eA.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Dy.default=rA;var dl=Zr&&Zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gr,"__esModule",{value:!0});gr.PostgrestError=gr.PostgrestBuilder=gr.PostgrestTransformBuilder=gr.PostgrestFilterBuilder=gr.PostgrestQueryBuilder=gr.PostgrestClient=void 0;const hC=dl(Dy);gr.PostgrestClient=hC.default;const mC=dl(Ch);gr.PostgrestQueryBuilder=mC.default;const pC=dl(mu);gr.PostgrestFilterBuilder=pC.default;const gC=dl(jh);gr.PostgrestTransformBuilder=gC.default;const vC=dl(Nh);gr.PostgrestBuilder=vC.default;const yC=dl(kh);gr.PostgrestError=yC.default;var nA=gr.default={PostgrestClient:hC.default,PostgrestQueryBuilder:mC.default,PostgrestFilterBuilder:pC.default,PostgrestTransformBuilder:gC.default,PostgrestBuilder:vC.default,PostgrestError:yC.default};const{PostgrestClient:sA,PostgrestQueryBuilder:iK,PostgrestFilterBuilder:lK,PostgrestTransformBuilder:cK,PostgrestBuilder:uK,PostgrestError:dK}=nA;let Dg;typeof window>"u"?Dg=require("ws"):Dg=window.WebSocket;const oA=Dg,aA="2.11.10",iA={"X-Client-Info":`realtime-js/${aA}`},lA="1.0.0",xC=1e4,cA=1e3;var pi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pi||(pi={}));var Xt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xt||(Xt={}));var hn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hn||(hn={}));var Og;(function(e){e.websocket="websocket"})(Og||(Og={}));var Xo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xo||(Xo={}));class uA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class wC{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ge||(Ge={}));const Rw=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,a)=>(o[a]=dA(a,e,t,s),o),{})},dA=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=r[e];return o&&!n.includes(o)?bC(o,a):Ag(a)},bC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return pA(t,r)}switch(e){case Ge.bool:return fA(t);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return hA(t);case Ge.json:case Ge.jsonb:return mA(t);case Ge.timestamp:return gA(t);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Ag(t);default:return Ag(t)}},Ag=e=>e,fA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const a=e.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>bC(t,l))}return e},gA=e=>typeof e=="string"?e.replace(" ","T"):e,_C=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Gm{constructor(t,r,n={},s=xC){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mw||(Mw={}));class vc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vc.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=vc.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vc.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(o,(u,f)=>{a[u]||(c[u]=f)}),this.map(a,(u,f)=>{const d=o[u];if(d){const h=f.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),g=f.filter(w=>p.indexOf(w.presence_ref)<0),v=d.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(l[u]=g),v.length>0&&(c[u]=v)}else l[u]=f}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Dw||(Dw={}));var Ow;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ow||(Ow={}));var vs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vs||(vs={}));class Oy{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gm(this,hn.join,this.params,this.timeout),this.rejoinTimer=new wC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new vc(this),this.broadcastEndpointURL=_C(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:a,private:l}}=this.params;this._onError(f=>t==null?void 0:t(vs.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(vs.CLOSED));const c={},u={broadcast:o,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(vs.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let v=0;v<p;v++){const w=h[v],{filter:{event:y,schema:x,table:b,filter:_}}=w,S=f&&f[v];if(S&&S.event===y&&S.schema===x&&S.table===b&&S.filter===_)g.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),this.state=Xt.errored,t==null||t(vs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(vs.SUBSCRIBED);return}}).receive("error",f=>{this.state=Xt.errored,t==null||t(vs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Gm(this,hn.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gm(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=hn;if(n&&[l,c,u,f].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,v,w;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(v=p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(h,n)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var g,v,w,y,x,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:w,commit_timestamp:y,type:x,errors:b}=g;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Oy.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hn.close,{},t)}_onError(t){this._on(hn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rw(t.columns,t.old_record)),r}}const Aw=()=>{},vA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yA{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=iA,this.params={},this.timeout=xC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Aw,this.ref=0,this.logger=Aw,this.conn=null,this.sendBuffer=[],this.serializer=new uA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>cl(async()=>{const{default:c}=await Promise.resolve().then(()=>ul);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Og.websocket}`,this.httpEndpoint=_C(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,a)=>a(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=oA),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new xA(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lA}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pi.connecting:return Xo.Connecting;case pi.open:return Xo.Open;case pi.closing:return Xo.Closing;default:return Xo.Closed}}isConnected(){return this.connectionState()===Xo.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Oy(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(hn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(cA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(hn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([vA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class xA{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=pi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Ay extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ot(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wA extends Ay{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ig extends Ay{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var bA=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const SC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cl(async()=>{const{default:n}=await Promise.resolve().then(()=>ul);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_A=()=>bA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cl(()=>Promise.resolve().then(()=>ul),void 0)).Response:Response}),Lg=e=>{if(Array.isArray(e))return e.map(r=>Lg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Lg(n)}),t};var Ma=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ym=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SA=(e,t,r)=>Ma(void 0,void 0,void 0,function*(){const n=yield _A();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new wA(Ym(s),e.status||500))}).catch(s=>{t(new Ig(Ym(s),s))}):t(new Ig(Ym(e),e))}),CA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function pu(e,t,r,n,s,o){return Ma(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,CA(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>SA(c,l,n))})})}function bf(e,t,r,n){return Ma(this,void 0,void 0,function*(){return pu(e,"GET",t,r,n)})}function Js(e,t,r,n,s){return Ma(this,void 0,void 0,function*(){return pu(e,"POST",t,n,s,r)})}function jA(e,t,r,n,s){return Ma(this,void 0,void 0,function*(){return pu(e,"PUT",t,n,s,r)})}function NA(e,t,r,n){return Ma(this,void 0,void 0,function*(){return pu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function CC(e,t,r,n,s){return Ma(this,void 0,void 0,function*(){return pu(e,"DELETE",t,n,s,r)})}var ur=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const kA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class EA{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=SC(s)}uploadOrUpdate(t,r,n,s){return ur(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Iw),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:o,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}upload(t,r,n){return ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ur(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Iw.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Ot(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ur(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Js(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new Ay("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}update(t,r,n){return ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ur(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ot(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ur(this,void 0,void 0,function*(){try{return{data:{path:(yield Js(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ot(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ur(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Js(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(Ot(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ur(this,void 0,void 0,function*(){try{const s=yield Js(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(Ot(s))return{data:null,error:s};throw s}})}download(t,r){return ur(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield bf(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}info(t){return ur(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield bf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lg(n),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}exists(t){return ur(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield NA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ot(n)&&n instanceof Ig){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ur(this,void 0,void 0,function*(){try{return{data:yield CC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}list(t,r,n){return ur(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},kA),r),{prefix:t||""});return{data:yield Js(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ot(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const PA="2.7.1",TA={"X-Client-Info":`storage-js/${PA}`};var za=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class RA{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},TA),r),this.fetch=SC(n)}listBuckets(){return za(this,void 0,void 0,function*(){try{return{data:yield bf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ot(t))return{data:null,error:t};throw t}})}getBucket(t){return za(this,void 0,void 0,function*(){try{return{data:yield bf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return za(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return za(this,void 0,void 0,function*(){try{return{data:yield jA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}emptyBucket(t){return za(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return za(this,void 0,void 0,function*(){try{return{data:yield CC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}}class MA extends RA{constructor(t,r={},n){super(t,r,n)}from(t){return new EA(this.url,this.headers,t,this.fetch)}}const DA="2.49.10";let tc="";typeof Deno<"u"?tc="deno":typeof document<"u"?tc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tc="react-native":tc="node";const OA={"X-Client-Info":`supabase-js-${tc}/${DA}`},AA={headers:OA},IA={schema:"public"},LA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$A={};var FA=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const zA=e=>{let t;return e?t=e:typeof fetch>"u"?t=lC:t=fetch,(...r)=>t(...r)},UA=()=>typeof Headers>"u"?cC:Headers,BA=(e,t,r)=>{const n=zA(r),s=UA();return(o,a)=>FA(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},a),{headers:u}))})};var VA=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function WA(e){return e.endsWith("/")?e:e+"/"}function qA(e,t){var r,n;const{db:s,auth:o,realtime:a,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>VA(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const jC="2.69.1",Ya=30*1e3,$g=3,Qm=$g*Ya,HA="http://localhost:9999",KA="supabase.auth.token",GA={"X-Client-Info":`gotrue-js/${jC}`},Fg="X-Supabase-Api-Version",NC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QA=6e5;class Iy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ZA extends Iy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function XA(e){return _e(e)&&e.name==="AuthApiError"}class kC extends Iy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zo extends Iy{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ks extends zo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JA(e){return _e(e)&&e.name==="AuthSessionMissingError"}class Zm extends zo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class od extends zo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ad extends zo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function e4(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lw extends zo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zg extends zo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xm(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class $w extends zo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yc extends zo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zw=` 	
\r=`.split(""),t4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zw.length;t+=1)e[zw[t].charCodeAt(0)]=-2;for(let t=0;t<Fw.length;t+=1)e[Fw[t].charCodeAt(0)]=t;return e})();function EC(e,t,r){const n=t4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Uw(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{s4(a,n,r)};for(let a=0;a<e.length;a+=1)EC(e.charCodeAt(a),s,o);return t.join("")}function r4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function n4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}r4(n,t)}}function s4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function o4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)EC(e.charCodeAt(s),r,n);return new Uint8Array(t)}function a4(e){const t=[];return n4(e,r=>t.push(r)),new Uint8Array(t)}function i4(e){return Math.round(Date.now()/1e3)+e}function l4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Tn=()=>typeof window<"u"&&typeof document<"u",Ho={tested:!1,writable:!1},xc=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ho.tested)return Ho.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ho.tested=!0,Ho.writable=!0}catch{Ho.tested=!0,Ho.writable=!1}return Ho.writable};function c4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const PC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cl(async()=>{const{default:n}=await Promise.resolve().then(()=>ul);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},u4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",TC=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},id=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ld=async(e,t)=>{await e.removeItem(t)};class Th{constructor(){this.promise=new Th.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Th.promiseConstructor=Promise;function Jm(e){const t=e.split(".");if(t.length!==3)throw new yc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!YA.test(t[n]))throw new yc("JWT not in base64url format");return{header:JSON.parse(Uw(t[0])),payload:JSON.parse(Uw(t[1])),signature:o4(t[2]),raw:{header:t[0],payload:t[1]}}}async function d4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function f4(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function h4(e){return("0"+e.toString(16)).substr(-2)}function m4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,h4).join("")}async function p4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function g4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await p4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ua(e,t,r=!1){const n=m4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await TC(e,`${t}-code-verifier`,s);const o=await g4(n);return[o,n===o?"plain":"s256"]}const v4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y4(e){const t=e.headers.get(Fg);if(!t||!t.match(v4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function x4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function w4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var b4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Qo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_4=[502,503,504];async function Bw(e){var t;if(!u4(e))throw new zg(Qo(e),0);if(_4.includes(e.status))throw new zg(Qo(e),e.status);let r;try{r=await e.json()}catch(o){throw new kC(Qo(o),o)}let n;const s=y4(e);if(s&&s.getTime()>=NC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $w(Qo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ks}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new $w(Qo(r),e.status,r.weak_password.reasons);throw new ZA(Qo(r),e.status||500,n)}const S4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Re(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Fg]||(o[Fg]=NC["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await C4(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function C4(e,t,r,n,s,o){const a=S4(t,n,s,o);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new zg(Qo(c),0)}if(l.ok||await Bw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Bw(c)}}function Gs(e){var t;let r=null;E4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=i4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Vw(e){const t=Gs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ro(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function j4(e){return{data:e,error:null}}function N4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,a=b4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function k4(e){return e}function E4(e){return e.access_token&&e.refresh_token&&e.expires_in}var P4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class T4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=PC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ro})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=P4(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:N4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ro})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:k4});if(f.error)throw f.error;const d=await f.json(),h=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_e(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ro})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ro})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ro})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}const R4={getItem:e=>xc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{xc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{xc()&&globalThis.localStorage.removeItem(e)}};function Ww(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function M4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ba={debug:!!(globalThis&&xc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class D4 extends RC{}async function O4(e,t,r){Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new D4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ba.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}M4();const A4={url:HA,storageKey:KA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qw(e,t,r){return await r()}class qc{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qc.nextInstanceID,qc.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},A4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new T4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=PC(s.fetch),this.lock=s.lock||qw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Tn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=O4:this.lock=qw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:xc()?this.storage=R4:(this.memoryStorage={},this.storage=Ww(this.memoryStorage)):(this.memoryStorage={},this.storage=Ww(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=c4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Tn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),e4(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _e(r)?{error:r}:{error:new kC("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gs}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ua(this.storage,this.storageKey)),o=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Gs})}else if("phone"in t){const{phone:f,password:d,options:h}=t;o=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gs})}else throw new od("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:a,options:l}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vw})}else if("phone"in t){const{phone:o,password:a,options:l}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vw})}else throw new od("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Zm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await id(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:a}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gs});if(await ld(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Zm}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(_e(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=t,l=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zm}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ua(this.storage,this.storageKey));const{error:d}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new od("You must provide either an email or phone number.")}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Gs});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Ua(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:j4})}catch(o){if(_e(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ks;const{error:s}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:a}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:a,error:l}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new od("You must provide either an email or phone number and a type")}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await id(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Qm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ro}):await this._useSession(async r=>{var n,s,o;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ks}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ro})})}catch(r){if(_e(r))return JA(r)&&(await this._removeSession(),await ld(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Ks;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ua(this.storage,this.storageKey));const{data:u,error:f}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:ro});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ks;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=Jm(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(_e(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ks;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Tn())throw new ad("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ad(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ad("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lw("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new ad("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=Ya&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=h-d;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,f);const{data:v,error:w}=await this._getUser(o);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(_e(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await id(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(XA(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ld(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=l4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ua(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(_e(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,l,c,u,f;const{data:d,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Tn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(_e(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await f4(async s=>(s>0&&await d4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gs})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Xm(o)&&Date.now()+a-n<Ya})}catch(n){if(this._debug(r,"error",n),_e(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await id(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Qm;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Qm}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Xm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Th;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Ks;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),_e(o)){const a={session:null,error:o};return Xm(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await TC(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ld(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ya);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ya);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ya}ms, refresh threshold is ${$g} ticks`),s<=$g&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof RC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ua(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:l}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(_e(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_e(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Jm(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+QA>Date.now()))return n;const{data:s,error:o}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new yc("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new yc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=Jm(n);if(x4(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:a},error:null}}const u=w4(s.alg),f=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,a4(`${l}.${c}`)))throw new yc("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}}qc.nextInstanceID=0;const I4=qc;class L4 extends I4{constructor(t){super(t)}}var $4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?o(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class F4{constructor(t,r,n){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=WA(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:IA,realtime:$A,auth:Object.assign(Object.assign({},LA),{storageKey:u}),global:AA},d=qA(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=BA(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new sA(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new OO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new MA(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return $4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:a,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L4({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new yA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const z4=(e,t,r)=>new F4(e,t,r),U4="https://vddpxkoycgawgdapigvl.supabase.co",B4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkZHB4a295Y2dhd2dkYXBpZ3ZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg4MDM4MzUsImV4cCI6MjA1NDM3OTgzNX0.2hudtSXcnmmLb1d9_I_6H7AWhI9Y_9p8PYkV7sIjgt0",L=z4(U4,B4),MC=m.createContext({}),Ne=()=>{const e=m.useContext(MC);if(!e)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return e},V4=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(null),[o,a]=m.useState(!0);m.useEffect(()=>{L.auth.getSession().then(({data:{session:p}})=>{s(p),r((p==null?void 0:p.user)??null),a(!1)});const{data:{subscription:h}}=L.auth.onAuthStateChange((p,g)=>{console.log("Estado de autenticao mudou:",p),s(g),r((g==null?void 0:g.user)??null),a(!1)});return()=>h.unsubscribe()},[]);const l=async(h,p)=>{const{error:g}=await L.auth.signInWithPassword({email:h,password:p});if(g)throw console.error("Erro ao fazer login:",g.message),g},c=async(h,p)=>{const{error:g}=await L.auth.signUp({email:h,password:p,options:{emailRedirectTo:window.location.origin}});if(g)throw console.error("Erro ao criar conta:",g.message),g},u=async()=>{try{const{error:h}=await L.auth.signOut();if(h)throw h;r(null),s(null)}catch(h){throw console.error("Erro ao fazer logout:",h),h}},d={user:t,session:n,signIn:l,signUp:c,signOut:u,logout:u};return i.jsx(MC.Provider,{value:d,children:!o&&e})},DC=m.createContext({theme:"light",setTheme:async()=>{},isUpdating:!1}),W4=()=>{const e=m.useContext(DC);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},q4=({children:e})=>{const{user:t}=Ne(),[r,n]=m.useState(()=>localStorage.getItem("theme")||"light"),[s,o]=m.useState(!1);m.useEffect(()=>{(async()=>{if(t)try{const{data:c,error:u}=await L.from("profiles").select("active_theme").eq("id",t.id).single();if(u)throw u;c&&c.active_theme&&(n(c.active_theme),localStorage.setItem("theme",c.active_theme))}catch(c){console.error("Error loading user theme:",c)}})()},[t]);const a=m.useCallback(async l=>{o(!0);try{if(n(l),localStorage.setItem("theme",l),t){const{error:c}=await L.from("profiles").update({active_theme:l}).eq("id",t.id);if(c)throw c}}catch(c){console.error("Error saving theme preference:",c)}finally{o(!1)}},[t]);return m.useEffect(()=>{document.documentElement.setAttribute("data-theme",r)},[r]),i.jsx(DC.Provider,{value:{theme:r,setTheme:a,isUpdating:s},children:e})};var fl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xa=typeof window>"u"||"Deno"in globalThis;function Vr(){}function H4(e,t){return typeof e=="function"?e(t):e}function Ug(e){return typeof e=="number"&&e>=0&&e!==1/0}function OC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gi(e,t){return typeof e=="function"?e(t):e}function pn(e,t){return typeof e=="function"?e(t):e}function Hw(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==Ly(a,t.options))return!1}else if(!Hc(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function Kw(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(wa(t.options.mutationKey)!==wa(o))return!1}else if(!Hc(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Ly(e,t){return((t==null?void 0:t.queryKeyHashFn)||wa)(e)}function wa(e){return JSON.stringify(e,(t,r)=>Bg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Hc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Hc(e[r],t[r])):!1}function AC(e,t){if(e===t)return e;const r=Gw(e)&&Gw(t);if(r||Bg(e)&&Bg(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),a=o.length,l=r?[]:{};let c=0;for(let u=0;u<a;u++){const f=r?u:o[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=AC(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function _f(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Gw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bg(e){if(!Yw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Yw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yw(e){return Object.prototype.toString.call(e)==="[object Object]"}function K4(e){return new Promise(t=>{setTimeout(t,e)})}function Vg(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?AC(e,t):t}function G4(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Y4(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var $y=Symbol();function IC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$y?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var oa,so,ji,k1,Q4=(k1=class extends fl{constructor(){super();de(this,oa);de(this,so);de(this,ji);te(this,ji,t=>{if(!xa&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){P(this,so)||this.setEventListener(P(this,ji))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,so))==null||t.call(this),te(this,so,void 0))}setEventListener(t){var r;te(this,ji,t),(r=P(this,so))==null||r.call(this),te(this,so,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){P(this,oa)!==t&&(te(this,oa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof P(this,oa)=="boolean"?P(this,oa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},oa=new WeakMap,so=new WeakMap,ji=new WeakMap,k1),Fy=new Q4,Ni,oo,ki,E1,Z4=(E1=class extends fl{constructor(){super();de(this,Ni,!0);de(this,oo);de(this,ki);te(this,ki,t=>{if(!xa&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){P(this,oo)||this.setEventListener(P(this,ki))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,oo))==null||t.call(this),te(this,oo,void 0))}setEventListener(t){var r;te(this,ki,t),(r=P(this,oo))==null||r.call(this),te(this,oo,t(this.setOnline.bind(this)))}setOnline(t){P(this,Ni)!==t&&(te(this,Ni,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return P(this,Ni)}},Ni=new WeakMap,oo=new WeakMap,ki=new WeakMap,E1),Sf=new Z4;function Wg(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function X4(e){return Math.min(1e3*2**e,3e4)}function LC(e){return(e??"online")==="online"?Sf.isOnline():!0}var $C=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ep(e){return e instanceof $C}function FC(e){let t=!1,r=0,n=!1,s;const o=Wg(),a=v=>{var w;n||(h(new $C(v)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Fy.isFocused()&&(e.networkMode==="always"||Sf.isOnline())&&e.canRun(),f=()=>LC(e.networkMode)&&e.canRun(),d=v=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,v),s==null||s(),o.resolve(v))},h=v=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,v),s==null||s(),o.reject(v))},p=()=>new Promise(v=>{var w;s=y=>{(n||u())&&v(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(n)return;let v;const w=r===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(d).catch(y=>{var j;if(n)return;const x=e.retry??(xa?0:3),b=e.retryDelay??X4,_=typeof b=="function"?b(r,y):b,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!S){h(y);return}r++,(j=e.onFail)==null||j.call(e,r,y),K4(_).then(()=>u()?void 0:p()).then(()=>{t?h(y):g()})})};return{promise:o,cancel:a,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?g():p().then(g),o)}}function J4(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var kt=J4(),aa,P1,zC=(P1=class{constructor(){de(this,aa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ug(this.gcTime)&&te(this,aa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xa?1/0:5*60*1e3))}clearGcTimeout(){P(this,aa)&&(clearTimeout(P(this,aa)),te(this,aa,void 0))}},aa=new WeakMap,P1),Ei,Pi,Br,Ht,su,ia,dn,hs,T1,eI=(T1=class extends zC{constructor(t){super();de(this,dn);de(this,Ei);de(this,Pi);de(this,Br);de(this,Ht);de(this,su);de(this,ia);te(this,ia,!1),te(this,su,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,Br,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,Ei,tI(this.options)),this.state=t.state??P(this,Ei),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Ht))==null?void 0:t.promise}setOptions(t){this.options={...P(this,su),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Br).remove(this)}setData(t,r){const n=Vg(this.state.data,t,this.options);return je(this,dn,hs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){je(this,dn,hs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=P(this,Ht))==null?void 0:n.promise;return(s=P(this,Ht))==null||s.cancel(t),r?r.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,Ei))}isActive(){return this.observers.some(t=>pn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$y||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!OC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Ht))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Ht))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,Br).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(P(this,Ht)&&(P(this,ia)?P(this,Ht).cancel({revert:!0}):P(this,Ht).cancelRetry()),this.scheduleGc()),P(this,Br).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,dn,hs).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,Ht))return P(this,Ht).continueRetry(),P(this,Ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(te(this,ia,!0),n.signal)})},o=()=>{const d=IC(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),te(this,ia,!1),this.options.persister?this.options.persister(d,h,this):d(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),te(this,Pi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&je(this,dn,hs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,p,g,v;ep(d)&&d.silent||je(this,dn,hs).call(this,{type:"error",error:d}),ep(d)||((p=(h=P(this,Br).config).onError)==null||p.call(h,d,this),(v=(g=P(this,Br).config).onSettled)==null||v.call(g,this.state.data,d,this)),this.scheduleGc()};return te(this,Ht,FC({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,p,g,v;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){l(w);return}(p=(h=P(this,Br).config).onSuccess)==null||p.call(h,d,this),(v=(g=P(this,Br).config).onSettled)==null||v.call(g,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{je(this,dn,hs).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{je(this,dn,hs).call(this,{type:"pause"})},onContinue:()=>{je(this,dn,hs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),P(this,Ht).start()}},Ei=new WeakMap,Pi=new WeakMap,Br=new WeakMap,Ht=new WeakMap,su=new WeakMap,ia=new WeakMap,dn=new WeakSet,hs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...UC(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return ep(s)&&s.revert&&P(this,Pi)?{...P(this,Pi),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),P(this,Br).notify({query:this,type:"updated",action:t})})},T1);function UC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var On,R1,rI=(R1=class extends fl{constructor(t={}){super();de(this,On);this.config=t,te(this,On,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??Ly(s,r);let a=this.get(o);return a||(a=new eI({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){P(this,On).has(t.queryHash)||(P(this,On).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=P(this,On).get(t.queryHash);r&&(t.destroy(),r===t&&P(this,On).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,On).get(t)}getAll(){return[...P(this,On).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Hw(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Hw(t,n)):r}notify(t){kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},On=new WeakMap,R1),An,Jt,la,In,Ys,M1,nI=(M1=class extends zC{constructor(t){super();de(this,In);de(this,An);de(this,Jt);de(this,la);this.mutationId=t.mutationId,te(this,Jt,t.mutationCache),te(this,An,[]),this.state=t.state||BC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,An).includes(t)||(P(this,An).push(t),this.clearGcTimeout(),P(this,Jt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,An,P(this,An).filter(r=>r!==t)),this.scheduleGc(),P(this,Jt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,An).length||(this.state.status==="pending"?this.scheduleGc():P(this,Jt).remove(this))}continue(){var t;return((t=P(this,la))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,u,f,d,h,p,g,v,w,y,x,b,_,S,j,C;te(this,la,FC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{je(this,In,Ys).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{je(this,In,Ys).call(this,{type:"pause"})},onContinue:()=>{je(this,In,Ys).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Jt).canRun(this)}));const r=this.state.status==="pending",n=!P(this,la).canStart();try{if(!r){je(this,In,Ys).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(s=P(this,Jt).config).onMutate)==null?void 0:o.call(s,t,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));k!==this.state.context&&je(this,In,Ys).call(this,{type:"pending",context:k,variables:t,isPaused:n})}const N=await P(this,la).start();return await((u=(c=P(this,Jt).config).onSuccess)==null?void 0:u.call(c,N,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,N,t,this.state.context)),await((p=(h=P(this,Jt).config).onSettled)==null?void 0:p.call(h,N,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,t,this.state.context)),je(this,In,Ys).call(this,{type:"success",data:N}),N}catch(N){try{throw await((y=(w=P(this,Jt).config).onError)==null?void 0:y.call(w,N,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,N,t,this.state.context)),await((S=(_=P(this,Jt).config).onSettled)==null?void 0:S.call(_,void 0,N,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,N,t,this.state.context)),N}finally{je(this,In,Ys).call(this,{type:"error",error:N})}}finally{P(this,Jt).runNext(this)}}},An=new WeakMap,Jt=new WeakMap,la=new WeakMap,In=new WeakSet,Ys=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{P(this,An).forEach(n=>{n.onMutationUpdate(t)}),P(this,Jt).notify({mutation:this,type:"updated",action:t})})},M1);function BC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,ou,D1,sI=(D1=class extends fl{constructor(t={}){super();de(this,kr);de(this,ou);this.config=t,te(this,kr,new Map),te(this,ou,Date.now())}build(t,r,n){const s=new nI({mutationCache:this,mutationId:++Uu(this,ou)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=cd(t),n=P(this,kr).get(r)??[];n.push(t),P(this,kr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=cd(t);if(P(this,kr).has(r)){const s=(n=P(this,kr).get(r))==null?void 0:n.filter(o=>o!==t);s&&(s.length===0?P(this,kr).delete(r):P(this,kr).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=P(this,kr).get(cd(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=P(this,kr).get(cd(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...P(this,kr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Kw(r,n))}findAll(t={}){return this.getAll().filter(r=>Kw(t,r))}notify(t){kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return kt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Vr))))}},kr=new WeakMap,ou=new WeakMap,D1);function cd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Qw(e){return{onFetch:(t,r)=>{var f,d,h,p,g;const n=t.options,s=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=IC(t.options,t.fetchOptions),x=async(b,_,S)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const j={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};w(j);const C=await y(j),{maxPages:N}=t.options,k=S?Y4:G4;return{pages:k(b.pages,C,N),pageParams:k(b.pageParams,_,N)}};if(s&&o.length){const b=s==="backward",_=b?oI:Zw,S={pages:o,pageParams:a},j=_(n,S);l=await x(S,j,b)}else{const b=e??o.length;do{const _=c===0?a[0]??n.initialPageParam:Zw(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Zw(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function oI(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ft,ao,io,Ti,Ri,lo,Mi,Di,O1,aI=(O1=class{constructor(e={}){de(this,ft);de(this,ao);de(this,io);de(this,Ti);de(this,Ri);de(this,lo);de(this,Mi);de(this,Di);te(this,ft,e.queryCache||new rI),te(this,ao,e.mutationCache||new sI),te(this,io,e.defaultOptions||{}),te(this,Ti,new Map),te(this,Ri,new Map),te(this,lo,0)}mount(){Uu(this,lo)._++,P(this,lo)===1&&(te(this,Mi,Fy.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,ft).onFocus())})),te(this,Di,Sf.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,ft).onOnline())})))}unmount(){var e,t;Uu(this,lo)._--,P(this,lo)===0&&((e=P(this,Mi))==null||e.call(this),te(this,Mi,void 0),(t=P(this,Di))==null||t.call(this),te(this,Di,void 0))}isFetching(e){return P(this,ft).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,ao).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,ft).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=P(this,ft).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(gi(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return P(this,ft).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=P(this,ft).get(n.queryHash),o=s==null?void 0:s.state.data,a=H4(t,o);if(a!==void 0)return P(this,ft).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return kt.batch(()=>P(this,ft).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,ft).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=P(this,ft);kt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=P(this,ft),n={type:"active",...e};return kt.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=kt.batch(()=>P(this,ft).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Vr).catch(Vr)}invalidateQueries(e={},t={}){return kt.batch(()=>{if(P(this,ft).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=kt.batch(()=>P(this,ft).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Vr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Vr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=P(this,ft).build(this,t);return r.isStaleByTime(gi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vr).catch(Vr)}fetchInfiniteQuery(e){return e.behavior=Qw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vr).catch(Vr)}ensureInfiniteQueryData(e){return e.behavior=Qw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sf.isOnline()?P(this,ao).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,ft)}getMutationCache(){return P(this,ao)}getDefaultOptions(){return P(this,io)}setDefaultOptions(e){te(this,io,e)}setQueryDefaults(e,t){P(this,Ti).set(wa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,Ti).values()];let r={};return t.forEach(n=>{Hc(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){P(this,Ri).set(wa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,Ri).values()];let r={};return t.forEach(n=>{Hc(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,io).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ly(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===$y&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,io).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,ft).clear(),P(this,ao).clear()}},ft=new WeakMap,ao=new WeakMap,io=new WeakMap,Ti=new WeakMap,Ri=new WeakMap,lo=new WeakMap,Mi=new WeakMap,Di=new WeakMap,O1),fr,De,au,er,ca,Oi,co,Ln,iu,Ai,Ii,ua,da,uo,Li,Ue,rc,qg,Hg,Kg,Gg,Yg,Qg,Zg,VC,A1,iI=(A1=class extends fl{constructor(t,r){super();de(this,Ue);de(this,fr);de(this,De);de(this,au);de(this,er);de(this,ca);de(this,Oi);de(this,co);de(this,Ln);de(this,iu);de(this,Ai);de(this,Ii);de(this,ua);de(this,da);de(this,uo);de(this,Li,new Set);this.options=r,te(this,fr,t),te(this,Ln,null),te(this,co,Wg()),this.options.experimental_prefetchInRender||P(this,co).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,De).addObserver(this),Xw(P(this,De),this.options)?je(this,Ue,rc).call(this):this.updateResult(),je(this,Ue,Gg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xg(P(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xg(P(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,Ue,Yg).call(this),je(this,Ue,Qg).call(this),P(this,De).removeObserver(this)}setOptions(t,r){const n=this.options,s=P(this,De);if(this.options=P(this,fr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pn(this.options.enabled,P(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,Ue,Zg).call(this),P(this,De).setOptions(this.options),n._defaulted&&!_f(this.options,n)&&P(this,fr).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,De),observer:this});const o=this.hasListeners();o&&Jw(P(this,De),s,this.options,n)&&je(this,Ue,rc).call(this),this.updateResult(r),o&&(P(this,De)!==s||pn(this.options.enabled,P(this,De))!==pn(n.enabled,P(this,De))||gi(this.options.staleTime,P(this,De))!==gi(n.staleTime,P(this,De)))&&je(this,Ue,qg).call(this);const a=je(this,Ue,Hg).call(this);o&&(P(this,De)!==s||pn(this.options.enabled,P(this,De))!==pn(n.enabled,P(this,De))||a!==P(this,uo))&&je(this,Ue,Kg).call(this,a)}getOptimisticResult(t){const r=P(this,fr).getQueryCache().build(P(this,fr),t),n=this.createResult(r,t);return cI(this,n)&&(te(this,er,n),te(this,Oi,this.options),te(this,ca,P(this,De).state)),n}getCurrentResult(){return P(this,er)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){P(this,Li).add(t)}getCurrentQuery(){return P(this,De)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=P(this,fr).defaultQueryOptions(t),n=P(this,fr).getQueryCache().build(P(this,fr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return je(this,Ue,rc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,er)))}createResult(t,r){var N;const n=P(this,De),s=this.options,o=P(this,er),a=P(this,ca),l=P(this,Oi),u=t!==n?t.state:P(this,au),{state:f}=t;let d={...f},h=!1,p;if(r._optimisticResults){const k=this.hasListeners(),R=!k&&Xw(t,r),O=k&&Jw(t,n,r,s);(R||O)&&(d={...d,...UC(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:w}=d;if(r.select&&d.data!==void 0)if(o&&d.data===(a==null?void 0:a.data)&&r.select===P(this,iu))p=P(this,Ai);else try{te(this,iu,r.select),p=r.select(d.data),p=Vg(o==null?void 0:o.data,p,r),te(this,Ai,p),te(this,Ln,null)}catch(k){te(this,Ln,k)}else p=d.data;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let k;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))k=o.data;else if(k=typeof r.placeholderData=="function"?r.placeholderData((N=P(this,Ii))==null?void 0:N.state.data,P(this,Ii)):r.placeholderData,r.select&&k!==void 0)try{k=r.select(k),te(this,Ln,null)}catch(R){te(this,Ln,R)}k!==void 0&&(w="success",p=Vg(o==null?void 0:o.data,k,r),h=!0)}P(this,Ln)&&(g=P(this,Ln),p=P(this,Ai),v=Date.now(),w="error");const y=d.fetchStatus==="fetching",x=w==="pending",b=w==="error",_=x&&y,S=p!==void 0,C={status:w,fetchStatus:d.fetchStatus,isPending:x,isSuccess:w==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:b&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:zy(t,r),refetch:this.refetch,promise:P(this,co)};if(this.options.experimental_prefetchInRender){const k=M=>{C.status==="error"?M.reject(C.error):C.data!==void 0&&M.resolve(C.data)},R=()=>{const M=te(this,co,C.promise=Wg());k(M)},O=P(this,co);switch(O.status){case"pending":t.queryHash===n.queryHash&&k(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&R();break}}return C}updateResult(t){const r=P(this,er),n=this.createResult(P(this,De),this.options);if(te(this,ca,P(this,De).state),te(this,Oi,this.options),P(this,ca).data!==void 0&&te(this,Ii,P(this,De)),_f(n,r))return;te(this,er,n);const s={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!P(this,Li).size)return!0;const c=new Set(l??P(this,Li));return this.options.throwOnError&&c.add("error"),Object.keys(P(this,er)).some(u=>{const f=u;return P(this,er)[f]!==r[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&o()&&(s.listeners=!0),je(this,Ue,VC).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,Ue,Gg).call(this)}},fr=new WeakMap,De=new WeakMap,au=new WeakMap,er=new WeakMap,ca=new WeakMap,Oi=new WeakMap,co=new WeakMap,Ln=new WeakMap,iu=new WeakMap,Ai=new WeakMap,Ii=new WeakMap,ua=new WeakMap,da=new WeakMap,uo=new WeakMap,Li=new WeakMap,Ue=new WeakSet,rc=function(t){je(this,Ue,Zg).call(this);let r=P(this,De).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Vr)),r},qg=function(){je(this,Ue,Yg).call(this);const t=gi(this.options.staleTime,P(this,De));if(xa||P(this,er).isStale||!Ug(t))return;const n=OC(P(this,er).dataUpdatedAt,t)+1;te(this,ua,setTimeout(()=>{P(this,er).isStale||this.updateResult()},n))},Hg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,De)):this.options.refetchInterval)??!1},Kg=function(t){je(this,Ue,Qg).call(this),te(this,uo,t),!(xa||pn(this.options.enabled,P(this,De))===!1||!Ug(P(this,uo))||P(this,uo)===0)&&te(this,da,setInterval(()=>{(this.options.refetchIntervalInBackground||Fy.isFocused())&&je(this,Ue,rc).call(this)},P(this,uo)))},Gg=function(){je(this,Ue,qg).call(this),je(this,Ue,Kg).call(this,je(this,Ue,Hg).call(this))},Yg=function(){P(this,ua)&&(clearTimeout(P(this,ua)),te(this,ua,void 0))},Qg=function(){P(this,da)&&(clearInterval(P(this,da)),te(this,da,void 0))},Zg=function(){const t=P(this,fr).getQueryCache().build(P(this,fr),this.options);if(t===P(this,De))return;const r=P(this,De);te(this,De,t),te(this,au,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},VC=function(t){kt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(P(this,er))}),P(this,fr).getQueryCache().notify({query:P(this,De),type:"observerResultsUpdated"})})},A1);function lI(e,t){return pn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Xw(e,t){return lI(e,t)||e.state.data!==void 0&&Xg(e,t,t.refetchOnMount)}function Xg(e,t,r){if(pn(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&zy(e,t)}return!1}function Jw(e,t,r,n){return(e!==t||pn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zy(e,r)}function zy(e,t){return pn(t.enabled,e)!==!1&&e.isStaleByTime(gi(t.staleTime,e))}function cI(e,t){return!_f(e.getCurrentResult(),t)}var fo,ho,hr,xs,Ps,Od,Jg,I1,uI=(I1=class extends fl{constructor(r,n){super();de(this,Ps);de(this,fo);de(this,ho);de(this,hr);de(this,xs);te(this,fo,r),this.setOptions(n),this.bindMethods(),je(this,Ps,Od).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=P(this,fo).defaultMutationOptions(r),_f(this.options,n)||P(this,fo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,hr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&wa(n.mutationKey)!==wa(this.options.mutationKey)?this.reset():((s=P(this,hr))==null?void 0:s.state.status)==="pending"&&P(this,hr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=P(this,hr))==null||r.removeObserver(this)}onMutationUpdate(r){je(this,Ps,Od).call(this),je(this,Ps,Jg).call(this,r)}getCurrentResult(){return P(this,ho)}reset(){var r;(r=P(this,hr))==null||r.removeObserver(this),te(this,hr,void 0),je(this,Ps,Od).call(this),je(this,Ps,Jg).call(this)}mutate(r,n){var s;return te(this,xs,n),(s=P(this,hr))==null||s.removeObserver(this),te(this,hr,P(this,fo).getMutationCache().build(P(this,fo),this.options)),P(this,hr).addObserver(this),P(this,hr).execute(r)}},fo=new WeakMap,ho=new WeakMap,hr=new WeakMap,xs=new WeakMap,Ps=new WeakSet,Od=function(){var n;const r=((n=P(this,hr))==null?void 0:n.state)??BC();te(this,ho,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Jg=function(r){kt.batch(()=>{var n,s,o,a,l,c,u,f;if(P(this,xs)&&this.hasListeners()){const d=P(this,ho).variables,h=P(this,ho).context;(r==null?void 0:r.type)==="success"?((s=(n=P(this,xs)).onSuccess)==null||s.call(n,r.data,d,h),(a=(o=P(this,xs)).onSettled)==null||a.call(o,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((c=(l=P(this,xs)).onError)==null||c.call(l,r.error,d,h),(f=(u=P(this,xs)).onSettled)==null||f.call(u,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(P(this,ho))})})},I1),WC=m.createContext(void 0),Qe=e=>{const t=m.useContext(WC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},dI=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(WC.Provider,{value:e,children:t})),qC=m.createContext(!1),fI=()=>m.useContext(qC);qC.Provider;function hI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mI=m.createContext(hI()),pI=()=>m.useContext(mI);function HC(e,t){return typeof e=="function"?e(...t):!!e}function KC(){}var gI=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},vI=e=>{m.useEffect(()=>{e.clearReset()},[e])},yI=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&HC(r,[e.error,n]),xI=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},wI=(e,t)=>e.isLoading&&e.isFetching&&!t,bI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,eb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function _I(e,t,r){var f,d,h,p,g;const n=Qe(),s=fI(),o=pI(),a=n.defaultQueryOptions(e);(d=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,a),a._optimisticResults=s?"isRestoring":"optimistic",xI(a),gI(a,o),vI(o);const l=!n.getQueryCache().get(a.queryHash),[c]=m.useState(()=>new t(n,a)),u=c.getOptimisticResult(a);if(m.useSyncExternalStore(m.useCallback(v=>{const w=s?()=>{}:c.subscribe(kt.batchCalls(v));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),bI(a,u))throw eb(a,c,o);if(yI({result:u,errorResetBoundary:o,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,a,u),a.experimental_prefetchInRender&&!xa&&wI(u,s)){const v=l?eb(a,c,o):(g=n.getQueryCache().get(a.queryHash))==null?void 0:g.promise;v==null||v.catch(KC).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Tt(e,t){return _I(e,iI)}function Pt(e,t){const r=Qe(),[n]=m.useState(()=>new uI(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(a=>n.subscribe(kt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=m.useCallback((a,l)=>{n.mutate(a,l).catch(KC)},[n]);if(s.error&&HC(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const SI=3,CI=1e4;let tp=0;function jI(){return tp=(tp+1)%Number.MAX_SAFE_INTEGER,tp.toString()}const rp=new Map,tb=e=>{if(rp.has(e))return;const t=setTimeout(()=>{rp.delete(e),wc({type:"REMOVE_TOAST",toastId:e})},CI);rp.set(e,t)},NI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,SI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?tb(r):e.toasts.forEach(n=>{tb(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ad=[];let Id={toasts:[]};function wc(e){Id=NI(Id,e),Ad.forEach(t=>{t(Id)})}function kI({...e}){const t=jI(),r=s=>wc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>wc({type:"DISMISS_TOAST",toastId:t});return wc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{var o;s||n(),(o=e.onOpenChange)==null||o.call(e,s)}}}),{id:t,dismiss:n,update:r}}function pt(){const[e,t]=m.useState(Id);return m.useEffect(()=>(Ad.push(t),()=>{const r=Ad.indexOf(t);r>-1&&Ad.splice(r,1)}),[e]),{...e,toast:kI,dismiss:r=>wc({type:"DISMISS_TOAST",toastId:r})}}function V(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function EI(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Rh(...e){return t=>e.forEach(r=>EI(r,t))}function ye(...e){return m.useCallback(Rh(...e),e)}function PI(e,t=[]){let r=[];function n(o,a){const l=m.createContext(a),c=r.length;r=[...r,a];function u(d){const{scope:h,children:p,...g}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=m.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,TI(s,...t)]}function TI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var _r=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),o=s.find(RI);if(o){const a=o.props.children,l=s.map(c=>c===o?m.Children.count(a)>1?m.Children.only(null):m.isValidElement(a)?a.props.children:null:c);return i.jsx(ev,{...n,ref:t,children:m.isValidElement(a)?m.cloneElement(a,void 0,l):null})}return i.jsx(ev,{...n,ref:t,children:r})});_r.displayName="Slot";var ev=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=DI(r);return m.cloneElement(r,{...MI(n,r.props),ref:t?Rh(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});ev.displayName="SlotClone";var Uy=({children:e})=>i.jsx(i.Fragment,{children:e});function RI(e){return m.isValidElement(e)&&e.type===Uy}function MI(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function DI(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Mh(e){const t=e+"CollectionProvider",[r,n]=PI(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:v}=p,w=G.useRef(null),y=G.useRef(new Map).current;return i.jsx(s,{scope:g,itemMap:y,collectionRef:w,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=G.forwardRef((p,g)=>{const{scope:v,children:w}=p,y=o(l,v),x=ye(g,y.collectionRef);return i.jsx(_r,{ref:x,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=G.forwardRef((p,g)=>{const{scope:v,children:w,...y}=p,x=G.useRef(null),b=ye(g,x),_=o(u,v);return G.useEffect(()=>(_.itemMap.set(x,{ref:x,...y}),()=>void _.itemMap.delete(x))),i.jsx(_r,{[f]:"",ref:b,children:w})});d.displayName=u;function h(p){const g=o(e+"CollectionConsumer",p);return G.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:d},h,n]}function OI(e,t){const r=m.createContext(t),n=o=>{const{children:a,...l}=o,c=m.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(o){const a=m.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function jr(e,t=[]){let r=[];function n(o,a){const l=m.createContext(a),c=r.length;r=[...r,a];const u=d=>{var y;const{scope:h,children:p,...g}=d,v=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})};u.displayName=o+"Provider";function f(d,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=m.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const s=()=>{const o=r.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,AI(s,...t)]}function AI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var II=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ie=II.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:o,...a}=n,l=o?_r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function By(e,t){e&&Ta.flushSync(()=>e.dispatchEvent(t))}function st(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function LI(e,t=globalThis==null?void 0:globalThis.document){const r=st(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var $I="DismissableLayer",tv="dismissableLayer.update",FI="dismissableLayer.pointerDownOutside",zI="dismissableLayer.focusOutside",rb,GC=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Da=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=m.useContext(GC),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),g=ye(t,C=>d(C)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(w),x=f?v.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,S=BI(C=>{const N=C.target,k=[...u.branches].some(R=>R.contains(N));!_||k||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},h),j=VI(C=>{const N=C.target;[...u.branches].some(R=>R.contains(N))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},h);return LI(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),nb(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=rb)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),nb())},[f,u]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(tv,C),()=>document.removeEventListener(tv,C)},[]),i.jsx(ie.div,{...c,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:V(e.onFocusCapture,j.onFocusCapture),onBlurCapture:V(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:V(e.onPointerDownCapture,S.onPointerDownCapture)})});Da.displayName=$I;var UI="DismissableLayerBranch",YC=m.forwardRef((e,t)=>{const r=m.useContext(GC),n=m.useRef(null),s=ye(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(ie.div,{...e,ref:s})});YC.displayName=UI;function BI(e,t=globalThis==null?void 0:globalThis.document){const r=st(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){QC(FI,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function VI(e,t=globalThis==null?void 0:globalThis.document){const r=st(e),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&QC(zI,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function nb(){const e=new CustomEvent(tv);document.dispatchEvent(e)}function QC(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?By(s,o):s.dispatchEvent(o)}var WI=Da,qI=YC,Rt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},HI="Portal",hl=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=m.useState(!1);Rt(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?CD.createPortal(i.jsx(ie.div,{...n,ref:t}),a):null});hl.displayName=HI;function KI(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Dt=e=>{const{present:t,children:r}=e,n=GI(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=ye(n.ref,YI(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};Dt.displayName="Presence";function GI(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),o=m.useRef("none"),a=e?"mounted":"unmounted",[l,c]=KI(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=ud(n.current);o.current=l==="mounted"?u:"none"},[l]),Rt(()=>{const u=n.current,f=s.current;if(f!==e){const h=o.current,p=ud(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Rt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const v=ud(n.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(o.current=ud(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function ud(e){return(e==null?void 0:e.animationName)||"none"}function YI(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=QI({defaultProp:t,onChange:r}),o=e!==void 0,a=o?e:n,l=st(r),c=m.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[o,e,s,l]);return[a,c]}function QI({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),o=st(t);return m.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var ZI="VisuallyHidden",gu=m.forwardRef((e,t)=>i.jsx(ie.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));gu.displayName=ZI;var XI=gu,Vy="ToastProvider",[Wy,JI,eL]=Mh("Toast"),[ZC,hK]=jr("Toast",[eL]),[tL,Dh]=ZC(Vy),XC=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[l,c]=m.useState(null),[u,f]=m.useState(0),d=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vy}\`. Expected non-empty \`string\`.`),i.jsx(Wy.Provider,{scope:t,children:i.jsx(tL,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>f(p=>p+1),[]),onToastRemove:m.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:a})})};XC.displayName=Vy;var JC="ToastViewport",rL=["F8"],rv="toast.viewportPause",nv="toast.viewportResume",ej=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=rL,label:s="Notifications ({hotkey})",...o}=e,a=Dh(JC,r),l=JI(r),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),d=m.useRef(null),h=ye(t,d,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;m.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,y=d.current;if(g&&w&&y){const x=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(rv);y.dispatchEvent(j),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(nv);y.dispatchEvent(j),a.isClosePausedRef.current=!1}},_=j=>{!w.contains(j.relatedTarget)&&b()},S=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",_),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:w})=>{const x=l().map(b=>{const _=b.ref.current,S=[_,...pL(_)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return m.useEffect(()=>{const w=d.current;if(w){const y=x=>{var S,j,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const N=document.activeElement,k=x.shiftKey;if(x.target===w&&k){(S=u.current)==null||S.focus();return}const M=v({tabbingDirection:k?"backwards":"forwards"}),$=M.findIndex(I=>I===N);np(M.slice($+1))?x.preventDefault():k?(j=u.current)==null||j.focus():(C=f.current)==null||C.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,v]),i.jsxs(qI,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(sv,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});np(w)}}),i.jsx(Wy.Slot,{scope:r,children:i.jsx(ie.ol,{tabIndex:-1,...o,ref:h})}),g&&i.jsx(sv,{ref:f,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});np(w)}})]})});ej.displayName=JC;var tj="ToastFocusProxy",sv=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Dh(tj,r);return i.jsx(gu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});sv.displayName=tj;var Oh="Toast",nL="toast.swipeStart",sL="toast.swipeMove",oL="toast.swipeCancel",aL="toast.swipeEnd",rj=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...a}=e,[l=!0,c]=bn({prop:n,defaultProp:s,onChange:o});return i.jsx(Dt,{present:r||l,children:i.jsx(cL,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:st(e.onPause),onResume:st(e.onResume),onSwipeStart:V(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:V(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:V(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:V(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});rj.displayName=Oh;var[iL,lL]=ZC(Oh,{onClose(){}}),cL=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...g}=e,v=Dh(Oh,r),[w,y]=m.useState(null),x=ye(t,I=>y(I)),b=m.useRef(null),_=m.useRef(null),S=s||v.duration,j=m.useRef(0),C=m.useRef(S),N=m.useRef(0),{onToastAdd:k,onToastRemove:R}=v,O=st(()=>{var B;(w==null?void 0:w.contains(document.activeElement))&&((B=v.viewport)==null||B.focus()),a()}),M=m.useCallback(I=>{!I||I===1/0||(window.clearTimeout(N.current),j.current=new Date().getTime(),N.current=window.setTimeout(O,I))},[O]);m.useEffect(()=>{const I=v.viewport;if(I){const B=()=>{M(C.current),u==null||u()},q=()=>{const F=new Date().getTime()-j.current;C.current=C.current-F,window.clearTimeout(N.current),c==null||c()};return I.addEventListener(rv,q),I.addEventListener(nv,B),()=>{I.removeEventListener(rv,q),I.removeEventListener(nv,B)}}},[v.viewport,S,c,u,M]),m.useEffect(()=>{o&&!v.isClosePausedRef.current&&M(S)},[o,S,v.isClosePausedRef,M]),m.useEffect(()=>(k(),()=>R()),[k,R]);const $=m.useMemo(()=>w?cj(w):null,[w]);return v.viewport?i.jsxs(i.Fragment,{children:[$&&i.jsx(uL,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),i.jsx(iL,{scope:r,onClose:O,children:Ta.createPortal(i.jsx(Wy.ItemSlot,{scope:r,children:i.jsx(WI,{asChild:!0,onEscapeKeyDown:V(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:V(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:V(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:V(e.onPointerMove,I=>{if(!b.current)return;const B=I.clientX-b.current.x,q=I.clientY-b.current.y,F=!!_.current,T=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,H=T?D(0,B):0,re=T?0:D(0,q),he=I.pointerType==="touch"?10:2,Oe={x:H,y:re},Ie={originalEvent:I,delta:Oe};F?(_.current=Oe,dd(sL,d,Ie,{discrete:!1})):sb(Oe,v.swipeDirection,he)?(_.current=Oe,dd(nL,f,Ie,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(B)>he||Math.abs(q)>he)&&(b.current=null)}),onPointerUp:V(e.onPointerUp,I=>{const B=_.current,q=I.target;if(q.hasPointerCapture(I.pointerId)&&q.releasePointerCapture(I.pointerId),_.current=null,b.current=null,B){const F=I.currentTarget,T={originalEvent:I,delta:B};sb(B,v.swipeDirection,v.swipeThreshold)?dd(aL,p,T,{discrete:!0}):dd(oL,h,T,{discrete:!0}),F.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),uL=e=>{const{__scopeToast:t,children:r,...n}=e,s=Dh(Oh,t),[o,a]=m.useState(!1),[l,c]=m.useState(!1);return hL(()=>a(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(hl,{asChild:!0,children:i.jsx(gu,{...n,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},dL="ToastTitle",nj=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ie.div,{...n,ref:t})});nj.displayName=dL;var fL="ToastDescription",sj=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ie.div,{...n,ref:t})});sj.displayName=fL;var oj="ToastAction",aj=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(lj,{altText:r,asChild:!0,children:i.jsx(qy,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${oj}\`. Expected non-empty \`string\`.`),null)});aj.displayName=oj;var ij="ToastClose",qy=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=lL(ij,r);return i.jsx(lj,{asChild:!0,children:i.jsx(ie.button,{type:"button",...n,ref:t,onClick:V(e.onClick,s.onClose)})})});qy.displayName=ij;var lj=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function cj(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),mL(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...cj(n))}}),t}function dd(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?By(s,o):s.dispatchEvent(o)}var sb=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function hL(e=()=>{}){const t=st(e);Rt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function mL(e){return e.nodeType===e.ELEMENT_NODE}function pL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function np(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var gL=XC,uj=ej,dj=rj,fj=nj,hj=sj,mj=aj,pj=qy;function gj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=gj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vj(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=gj(e))&&(n&&(n+=" "),n+=t);return n}const ob=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ab=vj,Oa=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ab(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=o==null?void 0:o[u];if(f===null)return null;const h=ob(f)||ob(d);return s[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(g=>{let[v,w]=g;return Array.isArray(w)?w.includes({...o,...l}[v]):{...o,...l}[v]===w})?[...u,d,h]:u},[]);return ab(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yj=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...l},c)=>m.createElement("svg",{ref:c,...yL,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:yj("lucide",s),...l},[...a.map(([u,f])=>m.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(xL,{ref:o,iconNode:t,className:yj(`lucide-${vL(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=X("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=X("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=X("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=X("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=X("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=X("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=X("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=X("Computer",[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=X("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=X("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=X("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=X("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=X("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=X("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=X("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=X("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=X("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=X("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=X("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=X("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=X("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=X("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=X("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=X("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=X("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=X("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=X("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=X("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=X("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=X("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=X("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=X("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=X("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=X("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=X("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=X("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=X("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=X("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=X("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=X("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=X("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=X("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=X("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=X("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=X("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=X("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=X("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=X("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ky="-",a5=e=>{const t=l5(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(Ky);return l[0]===""&&l.length!==1&&l.shift(),Mj(l,t)||i5(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Mj=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Mj(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Ky);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},db=/^\[(.+)\]$/,i5=e=>{if(db.test(e)){const t=db.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},l5=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return u5(Object.entries(e.classGroups),r).forEach(([o,a])=>{av(a,n,o,t)}),n},av=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:fb(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(c5(s)){av(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{av(a,fb(t,o),r,n)})})},fb=(e,t)=>{let r=e;return t.split(Ky).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},c5=e=>e.isThemeGetter,u5=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[t+a,l])):o);return[r,s]}):e,d5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},Dj="!",f5=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,a=l=>{const c=[];let u=0,f=0,d;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(n||l.slice(w,w+o)===t)){c.push(l.slice(f,w)),f=w+o;continue}if(y==="/"){d=w;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(Dj),g=p?h.substring(1):h,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:a}):a},h5=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},m5=e=>({cache:d5(e.cacheSize),parseClassName:f5(e),...a5(e)}),p5=/\s+/,g5=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(p5);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,v=n(g?h.substring(0,p):h);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=n(h),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const w=h5(f).join(":"),y=d?w+Dj:w,x=y+v;if(o.includes(x))continue;o.push(x);const b=s(v,g);for(let _=0;_<b.length;++_){const S=b[_];o.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function v5(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Oj(t))&&(n&&(n+=" "),n+=r);return n}const Oj=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Oj(e[n]))&&(r&&(r+=" "),r+=t);return r};function y5(e,...t){let r,n,s,o=a;function a(c){const u=t.reduce((f,d)=>d(f),e());return r=m5(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=g5(c,r);return s(c,f),f}return function(){return o(v5.apply(null,arguments))}}const Je=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Aj=/^\[(?:([a-z-]+):)?(.+)\]$/i,x5=/^\d+\/\d+$/,w5=new Set(["px","full","screen"]),b5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,us=e=>yi(e)||w5.has(e)||x5.test(e),Ws=e=>ml(e,"length",D5),yi=e=>!!e&&!Number.isNaN(Number(e)),sp=e=>ml(e,"number",yi),Wl=e=>!!e&&Number.isInteger(Number(e)),N5=e=>e.endsWith("%")&&yi(e.slice(0,-1)),be=e=>Aj.test(e),qs=e=>b5.test(e),k5=new Set(["length","size","percentage"]),E5=e=>ml(e,k5,Ij),P5=e=>ml(e,"position",Ij),T5=new Set(["image","url"]),R5=e=>ml(e,T5,A5),M5=e=>ml(e,"",O5),ql=()=>!0,ml=(e,t,r)=>{const n=Aj.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},D5=e=>_5.test(e)&&!S5.test(e),Ij=()=>!1,O5=e=>C5.test(e),A5=e=>j5.test(e),I5=()=>{const e=Je("colors"),t=Je("spacing"),r=Je("blur"),n=Je("brightness"),s=Je("borderColor"),o=Je("borderRadius"),a=Je("borderSpacing"),l=Je("borderWidth"),c=Je("contrast"),u=Je("grayscale"),f=Je("hueRotate"),d=Je("invert"),h=Je("gap"),p=Je("gradientColorStops"),g=Je("gradientColorStopPositions"),v=Je("inset"),w=Je("margin"),y=Je("opacity"),x=Je("padding"),b=Je("saturate"),_=Je("scale"),S=Je("sepia"),j=Je("skew"),C=Je("space"),N=Je("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",be,t],M=()=>[be,t],$=()=>["",us,Ws],I=()=>["auto",yi,be],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",be],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[yi,be];return{cacheSize:500,separator:":",theme:{colors:[ql],spacing:[us,Ws],blur:["none","",qs,be],brightness:re(),borderColor:[e],borderRadius:["none","","full",qs,be],borderSpacing:M(),borderWidth:$(),contrast:re(),grayscale:D(),hueRotate:re(),invert:D(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[N5,Ws],inset:O(),margin:O(),opacity:re(),padding:M(),saturate:re(),scale:re(),sepia:D(),skew:re(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[qs]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),be]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wl,be]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Wl,be]}],"grid-cols":[{"grid-cols":[ql]}],"col-start-end":[{col:["auto",{span:["full",Wl,be]},be]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ql]}],"row-start-end":[{row:["auto",{span:[Wl,be]},be]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,t]}],"min-w":[{"min-w":[be,t,"min","max","fit"]}],"max-w":[{"max-w":[be,t,"none","full","min","max","fit","prose",{screen:[qs]},qs]}],h:[{h:[be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qs,Ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sp]}],"font-family":[{font:[ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",yi,sp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",us,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",us,Ws]}],"underline-offset":[{"underline-offset":["auto",us,be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),P5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",E5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[us,be]}],"outline-w":[{outline:[us,Ws]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[us,Ws]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qs,M5]}],"shadow-color":[{shadow:[ql]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qs,be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Wl,be]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[us,Ws,sp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L5=y5(I5);function U(...e){return L5(vj(e))}const $5=gL,Lj=m.forwardRef(({className:e,...t},r)=>i.jsx(uj,{ref:r,className:U("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Lj.displayName=uj.displayName;const F5=Oa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$j=m.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(dj,{ref:n,className:U(F5({variant:t}),e),...r}));$j.displayName=dj.displayName;const z5=m.forwardRef(({className:e,...t},r)=>i.jsx(mj,{ref:r,className:U("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));z5.displayName=mj.displayName;const Fj=m.forwardRef(({className:e,...t},r)=>i.jsx(pj,{ref:r,className:U("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(wu,{className:"h-4 w-4"})}));Fj.displayName=pj.displayName;const zj=m.forwardRef(({className:e,...t},r)=>i.jsx(fj,{ref:r,className:U("text-sm font-semibold",e),...t}));zj.displayName=fj.displayName;const Uj=m.forwardRef(({className:e,...t},r)=>i.jsx(hj,{ref:r,className:U("text-sm opacity-90",e),...t}));Uj.displayName=hj.displayName;function U5(){const{toasts:e}=pt();return i.jsxs($5,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return i.jsxs($j,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(zj,{children:r}),n&&i.jsx(Uj,{children:n})]}),s,i.jsx(Fj,{})]},t)}),i.jsx(Lj,{})]})}const Gc=Oa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const a=n?_r:"button";return i.jsx(a,{className:U(Gc({variant:t,size:r,className:e})),ref:o,...s})});Q.displayName="Button";const B5=()=>{const{user:e}=Ne(),t=ns();return m.useEffect(()=>{e&&t("/dashboard")},[e,t]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/30",children:i.jsxs("div",{className:"text-center max-w-3xl px-6",children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Gerencie suas finanas de forma simples"}),i.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Acompanhe suas transaes, gerencie clientes e mantenha o controle de suas finanas pessoais ou do seu negcio."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(Q,{size:"lg",onClick:()=>t("/login"),children:"Comear agora"}),i.jsx(Q,{size:"lg",variant:"outline",onClick:()=>t("/login"),children:"Fazer login"})]})]})})},Mt=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Mt.displayName="Card";const Ar=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("flex flex-col space-y-1.5 p-6",e),...t}));Ar.displayName="CardHeader";const Ir=m.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:U("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ir.displayName="CardTitle";const V5=m.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:U("text-sm text-muted-foreground",e),...t}));V5.displayName="CardDescription";const Lt=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("p-6 pt-0",e),...t}));Lt.displayName="CardContent";const W5=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("flex items-center p-6 pt-0",e),...t}));W5.displayName="CardFooter";const Ae=m.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:U("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ae.displayName="Input";var q5="Label",Bj=m.forwardRef((e,t)=>i.jsx(ie.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Bj.displayName=q5;var Vj=Bj;const H5=Oa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=m.forwardRef(({className:e,...t},r)=>i.jsx(Vj,{ref:r,className:U(H5(),e),...t}));xe.displayName=Vj.displayName;const K5=1,G5=1e6;let op=0;function Y5(){return op=(op+1)%Number.MAX_SAFE_INTEGER,op.toString()}const ap=new Map,hb=e=>{if(ap.has(e))return;const t=setTimeout(()=>{ap.delete(e),bc({type:"REMOVE_TOAST",toastId:e})},G5);ap.set(e,t)},Q5=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,K5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?hb(r):e.toasts.forEach(n=>{hb(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ld=[];let $d={toasts:[]};function bc(e){$d=Q5($d,e),Ld.forEach(t=>{t($d)})}function Z5({...e}){const t=Y5(),r=s=>bc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>bc({type:"DISMISS_TOAST",toastId:t});return bc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Bt(){const[e,t]=m.useState($d);return m.useEffect(()=>(Ld.push(t),()=>{const r=Ld.indexOf(t);r>-1&&Ld.splice(r,1)}),[e]),{...e,toast:Z5,dismiss:r=>bc({type:"DISMISS_TOAST",toastId:r})}}const X5=({toggleView:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState(""),[o,a]=m.useState(!1),[l,c]=m.useState(!1),{toast:u}=Bt(),f=async d=>{d.preventDefault(),a(!0);try{const{data:h,error:p}=await L.auth.signInWithPassword({email:t,password:n});if(p)throw p;if(!h.user)throw new Error("No foi possvel autenticar o usurio.");u({title:"Login realizado!",description:"Bem-vindo de volta!"})}catch(h){console.error("Erro ao fazer login:",h),u({variant:"destructive",title:"Erro",description:h instanceof Error&&h.message==="Email not confirmed"?"Por favor, confirme seu email antes de fazer login.":h instanceof Error?h.message:"Erro ao fazer login. Verifique suas credenciais."})}finally{a(!1)}};return i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"email",children:"Email"}),i.jsx(Ae,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:d=>r(d.target.value),required:!0,className:"rounded-xl"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"password",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ae,{id:"password",type:l?"text":"password",placeholder:"",value:n,onChange:d=>s(d.target.value),required:!0,className:"rounded-xl"}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>c(!l),children:l?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Q,{type:"submit",className:"w-full rounded-xl",disabled:o,children:o?"Entrando...":"Entrar"}),i.jsx(Q,{type:"button",variant:"ghost",className:"w-full rounded-xl",onClick:e,children:"No tem uma conta? Crie aqui"})]})]})},J5=Oa("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Hi=m.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:U(J5({variant:t}),e),...r}));Hi.displayName="Alert";const Ef=m.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:U("mb-1 font-medium leading-none tracking-tight",e),...t}));Ef.displayName="AlertTitle";const Ki=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:U("text-sm [&_p]:leading-relaxed",e),...t}));Ki.displayName="AlertDescription";function Gy(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Yy(e){const[t,r]=m.useState(void 0);return Rt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Qy="Checkbox",[e3,mK]=jr(Qy),[t3,r3]=e3(Qy),Wj=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=m.useState(null),g=ye(t,_=>p(_)),v=m.useRef(!1),w=h?f||!!h.closest("form"):!0,[y=!1,x]=bn({prop:s,defaultProp:o,onChange:u}),b=m.useRef(y);return m.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>x(b.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,x]),i.jsxs(t3,{scope:r,state:y,disabled:l,children:[i.jsx(ie.button,{type:"button",role:"checkbox","aria-checked":No(y)?"mixed":y,"aria-required":a,"data-state":Kj(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:g,onKeyDown:V(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:V(e.onClick,_=>{x(S=>No(S)?!0:!S),w&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),w&&i.jsx(n3,{control:h,bubbles:!v.current,name:n,value:c,checked:y,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:No(o)?!1:o})]})});Wj.displayName=Qy;var qj="CheckboxIndicator",Hj=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=r3(qj,r);return i.jsx(Dt,{present:n||No(o.state)||o.state===!0,children:i.jsx(ie.span,{"data-state":Kj(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Hj.displayName=qj;var n3=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,a=m.useRef(null),l=Gy(r),c=Yy(t);m.useEffect(()=>{const f=a.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});f.indeterminate=No(r),p.call(f,No(r)?!1:r),f.dispatchEvent(g)}},[l,r,n]);const u=m.useRef(No(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function No(e){return e==="indeterminate"}function Kj(e){return No(e)?"indeterminate":e?"checked":"unchecked"}var Gj=Wj,s3=Hj;const Ia=m.forwardRef(({className:e,...t},r)=>i.jsx(Gj,{ref:r,className:U("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(s3,{className:U("flex items-center justify-center text-current"),children:i.jsx(Lh,{className:"h-4 w-4"})})}));Ia.displayName=Gj.displayName;const o3=({toggleView:e})=>{Ne();const{toast:t}=Bt();ns();const[r,n]=m.useState(!1),[s,o]=m.useState(""),[a,l]=m.useState(""),[c,u]=m.useState(""),[f,d]=m.useState(""),[h,p]=m.useState(null),[g,v]=m.useState(!1),[w,y]=m.useState(!1),[x,b]=m.useState(!1),[_,S]=m.useState(!1),j=async C=>{C.preventDefault(),n(!0),y(!1);const N="signupRateLimit",k=5,R=60*1e3,O=Date.now();let M=JSON.parse(localStorage.getItem(N)||"{}")||{attempts:0,lastAttempt:0};if(O-M.lastAttempt<R){if(M.attempts>=k){t({variant:"destructive",title:"Erro",description:"Muitas tentativas de cadastro. Por favor, espere e tente novamente mais tarde."}),n(!1);return}M.attempts++}else M.attempts=1;M.lastAttempt=O,localStorage.setItem(N,JSON.stringify(M));try{if(a!==c)throw new Error("As senhas no coincidem");if(!g)throw new Error("Voc precisa aceitar a poltica de dados");const{data:$,error:I}=await L.auth.signUp({email:s,password:a});if(I){if(I.status===429){t({variant:"destructive",title:"Erro",description:"Muitas tentativas de cadastro. Por favor, espere e tente novamente mais tarde."});return}throw I}if(!$.user)throw new Error("Erro ao criar usurio");const B=$.user.id;let q=null;if(h){const T=h.name.split(".").pop(),H=`${B}-${Math.random()}.${T}`;console.log("Uploading avatar during signup:",H);const{data:re}=await L.storage.listBuckets();re!=null&&re.find(Ie=>Ie.name==="avatars")||(console.log("Creating avatars bucket"),await L.storage.createBucket("avatars",{public:!0}));const{error:he}=await L.storage.from("avatars").upload(H,h);if(he)throw console.error("Erro ao fazer upload do avatar:",he),he;const{data:Oe}=L.storage.from("avatars").getPublicUrl(H);if(q=Oe.publicUrl,console.log("Avatar uploaded, public URL:",q),!q)throw new Error("Falha ao obter a URL pblica do avatar")}const{error:F}=await L.from("profiles").insert({id:B,username:f,avatar_url:q,updated_at:new Date().toISOString()});if(F)throw console.error("Erro ao criar perfil:",F),F;console.log("Profile created successfully with username:",f,"and avatar:",q),y(!0),t({title:"Conta criada com sucesso!",description:"Por favor, verifique seu email para confirmar sua conta."})}catch($){console.error("Erro no processo de signup:",$),t({variant:"destructive",title:"Erro",description:$.message||"Ocorreu um erro ao criar a conta"})}finally{n(!1)}};return i.jsxs(i.Fragment,{children:[w&&i.jsx(Hi,{className:"mb-4",children:i.jsxs(Ki,{children:["Enviamos um email de confirmao para ",s,". Por favor, verifique sua caixa de entrada e confirme seu email antes de fazer login."]})}),i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"email",children:"Email"}),i.jsx(Ae,{id:"email",type:"email",placeholder:"seu@email.com",value:s,onChange:C=>o(C.target.value),required:!0,className:"rounded-xl"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"username",children:"Nome de usurio"}),i.jsx(Ae,{id:"username",type:"text",placeholder:"Seu nome de usurio",value:f,onChange:C=>d(C.target.value),required:!0,className:"rounded-xl"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"password",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ae,{id:"password",type:x?"text":"password",placeholder:"",value:a,onChange:C=>l(C.target.value),required:!0,className:"rounded-xl"}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>b(!x),children:x?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ae,{id:"confirmPassword",type:_?"text":"password",placeholder:"",value:c,onChange:C=>u(C.target.value),required:!0,className:"rounded-xl"}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>S(!_),children:_?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"avatar",children:"Foto (opcional)"}),i.jsx(Ae,{id:"avatar",type:"file",accept:"image/*",onChange:C=>{var N;return p(((N=C.target.files)==null?void 0:N[0])||null)},className:"rounded-xl"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ia,{id:"terms",checked:g,onCheckedChange:C=>v(C),required:!0}),i.jsx(xe,{htmlFor:"terms",className:"text-sm",children:"Aceito a poltica de dados e termos de uso"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Q,{type:"submit",className:"w-full rounded-xl",disabled:r,children:r?"Carregando...":"Criar conta"}),i.jsx(Q,{type:"button",variant:"ghost",className:"w-full rounded-xl",onClick:e,children:"J tem uma conta? Entre aqui"})]})]})]})},a3=()=>{const{user:e}=Ne(),t=ns(),[r,n]=m.useState(!1);m.useEffect(()=>{e&&t("/dashboard")},[e,t]);const s=()=>{n(!r)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:i.jsx("div",{className:"w-full max-w-md p-4 animate-fade-in",children:i.jsxs(Mt,{className:"rounded-2xl border-0 shadow-xl backdrop-blur-lg bg-white/90 dark:bg-gray-950/90",children:[i.jsx(Ar,{className:"space-y-1",children:i.jsx(Ir,{className:"text-2xl text-center",children:r?"Criar conta":"Entrar"})}),i.jsx(Lt,{children:r?i.jsx(o3,{toggleView:s}):i.jsx(X5,{toggleView:s})})]})})})};var i3=G1.useId||(()=>{}),l3=0;function Gr(e){const[t,r]=m.useState(i3());return Rt(()=>{r(n=>n??String(l3++))},[e]),t?`radix-${t}`:""}var ip="focusScope.autoFocusOnMount",lp="focusScope.autoFocusOnUnmount",mb={bubbles:!1,cancelable:!0},c3="FocusScope",bu=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[l,c]=m.useState(null),u=st(s),f=st(o),d=m.useRef(null),h=ye(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?d.current=_:Qs(d.current,{select:!0})},w=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Qs(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Qs(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),x.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){gb.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(ip,mb);l.addEventListener(ip,u),l.dispatchEvent(y),y.defaultPrevented||(u3(p3(Yj(l)),{select:!0}),document.activeElement===v&&Qs(l))}return()=>{l.removeEventListener(ip,u),setTimeout(()=>{const y=new CustomEvent(lp,mb);l.addEventListener(lp,f),l.dispatchEvent(y),y.defaultPrevented||Qs(v??document.body,{select:!0}),l.removeEventListener(lp,f),gb.remove(p)},0)}}},[l,u,f,p]);const g=m.useCallback(v=>{if(!r&&!n||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(w&&y){const x=v.currentTarget,[b,_]=d3(x);b&&_?!v.shiftKey&&y===_?(v.preventDefault(),r&&Qs(b,{select:!0})):v.shiftKey&&y===b&&(v.preventDefault(),r&&Qs(_,{select:!0})):y===x&&v.preventDefault()}},[r,n,p.paused]);return i.jsx(ie.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});bu.displayName=c3;function u3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qs(n,{select:t}),document.activeElement!==r)return}function d3(e){const t=Yj(e),r=pb(t,e),n=pb(t.reverse(),e);return[r,n]}function Yj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pb(e,t){for(const r of e)if(!f3(r,{upTo:t}))return r}function f3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function h3(e){return e instanceof HTMLInputElement&&"select"in e}function Qs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&h3(e)&&t&&e.select()}}var gb=m3();function m3(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=vb(e,t),e.unshift(t)},remove(t){var r;e=vb(e,t),(r=e[0])==null||r.resume()}}}function vb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function p3(e){return e.filter(t=>t.tagName!=="A")}var cp=0;function Fh(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yb()),document.body.insertAdjacentElement("beforeend",e[1]??yb()),cp++,()=>{cp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cp--}},[])}function yb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zn=function(){return zn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},zn.apply(this,arguments)};function Qj(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function g3(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Fd="right-scroll-bar-position",zd="width-before-scroll-bar",v3="with-scroll-bars-hidden",y3="--removed-body-scroll-bar-size";function up(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function x3(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var w3=typeof window<"u"?m.useLayoutEffect:m.useEffect,xb=new WeakMap;function b3(e,t){var r=x3(null,function(n){return e.forEach(function(s){return up(s,n)})});return w3(function(){var n=xb.get(r);if(n){var s=new Set(n),o=new Set(e),a=r.current;s.forEach(function(l){o.has(l)||up(l,null)}),o.forEach(function(l){s.has(l)||up(l,a)})}xb.set(r,e)},[e]),r}function _3(e){return e}function S3(e,t){t===void 0&&(t=_3);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var a=t(o,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var f=a;a=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),r}}}};return s}function C3(e){e===void 0&&(e={});var t=S3(null);return t.options=zn({async:!0,ssr:!1},e),t}var Zj=function(e){var t=e.sideCar,r=Qj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,zn({},r))};Zj.isSideCarExport=!0;function j3(e,t){return e.useMedium(t),Zj}var Xj=C3(),dp=function(){},zh=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:dp,onWheelCapture:dp,onTouchMoveCapture:dp}),s=n[0],o=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,x=e.gapMode,b=Qj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=b3([r,t]),j=zn(zn({},b),s);return m.createElement(m.Fragment,null,f&&m.createElement(_,{sideCar:Xj,removeScrollBar:u,shards:d,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:x}),a?m.cloneElement(m.Children.only(l),zn(zn({},j),{ref:S})):m.createElement(y,zn({},j,{className:c,ref:S}),l))});zh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zh.classNames={fullWidth:zd,zeroRight:Fd};var N3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=N3();return t&&e.setAttribute("nonce",t),e}function E3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function P3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var T3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=k3())&&(E3(t,r),P3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},R3=function(){var e=T3();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Jj=function(){var e=R3(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},M3={left:0,top:0,right:0,gap:0},fp=function(e){return parseInt(e||"",10)||0},D3=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[fp(r),fp(n),fp(s)]},O3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return M3;var t=D3(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},A3=Jj(),xi="data-scroll-locked",I3=function(e,t,r,n){var s=e.left,o=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(v3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(xi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fd,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(zd,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xi,`] {
    `).concat(y3,": ").concat(l,`px;
  }
`)},wb=function(){var e=parseInt(document.body.getAttribute(xi)||"0",10);return isFinite(e)?e:0},L3=function(){m.useEffect(function(){return document.body.setAttribute(xi,(wb()+1).toString()),function(){var e=wb()-1;e<=0?document.body.removeAttribute(xi):document.body.setAttribute(xi,e.toString())}},[])},$3=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;L3();var o=m.useMemo(function(){return O3(s)},[s]);return m.createElement(A3,{styles:I3(o,!t,s,r?"":"!important")})},iv=!1;if(typeof window<"u")try{var fd=Object.defineProperty({},"passive",{get:function(){return iv=!0,!0}});window.addEventListener("test",fd,fd),window.removeEventListener("test",fd,fd)}catch{iv=!1}var Va=iv?{passive:!1}:!1,F3=function(e){return e.tagName==="TEXTAREA"},eN=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!F3(e)&&r[t]==="visible")},z3=function(e){return eN(e,"overflowY")},U3=function(e){return eN(e,"overflowX")},bb=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=tN(e,n);if(s){var o=rN(e,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},B3=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},V3=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},tN=function(e,t){return e==="v"?z3(t):U3(t)},rN=function(e,t){return e==="v"?B3(t):V3(t)},W3=function(e,t){return e==="h"&&t==="rtl"?-1:1},q3=function(e,t,r,n,s){var o=W3(e,window.getComputedStyle(t).direction),a=o*n,l=r.target,c=t.contains(l),u=!1,f=a>0,d=0,h=0;do{var p=rN(e,l),g=p[0],v=p[1],w=p[2],y=v-w-o*g;(g||y)&&tN(e,l)&&(d+=y,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!s)||!f&&(Math.abs(h)<1||!s))&&(u=!0),u},hd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_b=function(e){return[e.deltaX,e.deltaY]},Sb=function(e){return e&&"current"in e?e.current:e},H3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},K3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},G3=0,Wa=[];function Y3(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(G3++)[0],o=m.useState(Jj)[0],a=m.useRef(e);m.useEffect(function(){a.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=g3([e.lockRef.current],(e.shards||[]).map(Sb),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var y=hd(v),x=r.current,b="deltaX"in v?v.deltaX:x[0]-y[0],_="deltaY"in v?v.deltaY:x[1]-y[1],S,j=v.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in v&&C==="h"&&j.type==="range")return!1;var N=bb(C,j);if(!N)return!0;if(N?S=C:(S=C==="v"?"h":"v",N=bb(C,j)),!N)return!1;if(!n.current&&"changedTouches"in v&&(b||_)&&(n.current=S),!S)return!0;var k=n.current||S;return q3(k,w,v,k==="h"?b:_,!0)},[]),c=m.useCallback(function(v){var w=v;if(!(!Wa.length||Wa[Wa.length-1]!==o)){var y="deltaY"in w?_b(w):hd(w),x=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&H3(S.delta,y)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(a.current.shards||[]).map(Sb).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=b.length>0?l(w,b[0]):!a.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(v,w,y,x){var b={name:v,delta:w,target:y,should:x,shadowParent:Q3(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),f=m.useCallback(function(v){r.current=hd(v),n.current=void 0},[]),d=m.useCallback(function(v){u(v.type,_b(v),v.target,l(v,e.lockRef.current))},[]),h=m.useCallback(function(v){u(v.type,hd(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return Wa.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Va),document.addEventListener("touchmove",c,Va),document.addEventListener("touchstart",f,Va),function(){Wa=Wa.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Va),document.removeEventListener("touchmove",c,Va),document.removeEventListener("touchstart",f,Va)}},[]);var p=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(o,{styles:K3(s)}):null,p?m.createElement($3,{gapMode:e.gapMode}):null)}function Q3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Z3=j3(Xj,Y3);var _u=m.forwardRef(function(e,t){return m.createElement(zh,zn({},e,{ref:t,sideCar:Z3}))});_u.classNames=zh.classNames;var X3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qa=new WeakMap,md=new WeakMap,pd={},hp=0,nN=function(e){return e&&(e.host||nN(e.parentNode))},J3=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=nN(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},e$=function(e,t,r,n){var s=J3(t,Array.isArray(e)?e:[e]);pd[r]||(pd[r]=new WeakMap);var o=pd[r],a=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",v=(qa.get(h)||0)+1,w=(o.get(h)||0)+1;qa.set(h,v),o.set(h,w),a.push(h),v===1&&g&&md.set(h,!0),w===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(t),l.clear(),hp++,function(){a.forEach(function(d){var h=qa.get(d)-1,p=o.get(d)-1;qa.set(d,h),o.set(d,p),h||(md.has(d)||d.removeAttribute(n),md.delete(d)),p||d.removeAttribute(r)}),hp--,hp||(qa=new WeakMap,qa=new WeakMap,md=new WeakMap,pd={})}},Uh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=X3(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),e$(n,s,r,"aria-hidden")):function(){return null}},Zy="Dialog",[sN,oN]=jr(Zy),[t$,Nn]=sN(Zy),aN=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,f]=bn({prop:n,defaultProp:s,onChange:o});return i.jsx(t$,{scope:t,triggerRef:l,contentRef:c,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(d=>!d),[f]),modal:a,children:r})};aN.displayName=Zy;var iN="DialogTrigger",lN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(iN,r),o=ye(t,s.triggerRef);return i.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ex(s.open),...n,ref:o,onClick:V(e.onClick,s.onOpenToggle)})});lN.displayName=iN;var Xy="DialogPortal",[r$,cN]=sN(Xy,{forceMount:void 0}),uN=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Nn(Xy,t);return i.jsx(r$,{scope:t,forceMount:r,children:m.Children.map(n,a=>i.jsx(Dt,{present:r||o.open,children:i.jsx(hl,{asChild:!0,container:s,children:a})}))})};uN.displayName=Xy;var Pf="DialogOverlay",dN=m.forwardRef((e,t)=>{const r=cN(Pf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Nn(Pf,e.__scopeDialog);return o.modal?i.jsx(Dt,{present:n||o.open,children:i.jsx(n$,{...s,ref:t})}):null});dN.displayName=Pf;var n$=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(Pf,r);return i.jsx(_u,{as:_r,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ie.div,{"data-state":ex(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),_a="DialogContent",fN=m.forwardRef((e,t)=>{const r=cN(_a,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Nn(_a,e.__scopeDialog);return i.jsx(Dt,{present:n||o.open,children:o.modal?i.jsx(s$,{...s,ref:t}):i.jsx(o$,{...s,ref:t})})});fN.displayName=_a;var s$=m.forwardRef((e,t)=>{const r=Nn(_a,e.__scopeDialog),n=m.useRef(null),s=ye(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return Uh(o)},[]),i.jsx(hN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:V(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:V(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:V(e.onFocusOutside,o=>o.preventDefault())})}),o$=m.forwardRef((e,t)=>{const r=Nn(_a,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return i.jsx(hN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),hN=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,l=Nn(_a,r),c=m.useRef(null),u=ye(t,c);return Fh(),i.jsxs(i.Fragment,{children:[i.jsx(bu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Da,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ex(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(i$,{titleId:l.titleId}),i.jsx(c$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Jy="DialogTitle",mN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(Jy,r);return i.jsx(ie.h2,{id:s.titleId,...n,ref:t})});mN.displayName=Jy;var pN="DialogDescription",gN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(pN,r);return i.jsx(ie.p,{id:s.descriptionId,...n,ref:t})});gN.displayName=pN;var vN="DialogClose",yN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Nn(vN,r);return i.jsx(ie.button,{type:"button",...n,ref:t,onClick:V(e.onClick,()=>s.onOpenChange(!1))})});yN.displayName=vN;function ex(e){return e?"open":"closed"}var xN="DialogTitleWarning",[a$,wN]=OI(xN,{contentName:_a,titleName:Jy,docsSlug:"dialog"}),i$=({titleId:e})=>{const t=wN(xN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},l$="DialogDescriptionWarning",c$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wN(l$).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Bh=aN,Vh=lN,Wh=uN,pl=dN,gl=fN,vl=mN,yl=gN,Su=yN;const Os=Bh,u$=Vh,d$=Wh,bN=m.forwardRef(({className:e,...t},r)=>i.jsx(pl,{ref:r,className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bN.displayName=pl.displayName;const Xn=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(d$,{children:[i.jsx(bN,{}),i.jsxs(gl,{ref:n,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(Su,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(wu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xn.displayName=gl.displayName;const Jn=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jn.displayName="DialogHeader";const _N=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_N.displayName="DialogFooter";const es=m.forwardRef(({className:e,...t},r)=>i.jsx(vl,{ref:r,className:U("text-lg font-semibold leading-none tracking-tight",e),...t}));es.displayName=vl.displayName;const SN=m.forwardRef(({className:e,...t},r)=>i.jsx(yl,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));SN.displayName=yl.displayName;function lv(e,[t,r]){return Math.min(r,Math.max(t,e))}var f$=m.createContext(void 0);function xl(e){const t=m.useContext(f$);return e||t||"ltr"}const h$=["top","right","bottom","left"],To=Math.min,Pr=Math.max,Tf=Math.round,gd=Math.floor,Ro=e=>({x:e,y:e}),m$={left:"right",right:"left",bottom:"top",top:"bottom"},p$={start:"end",end:"start"};function cv(e,t,r){return Pr(e,To(t,r))}function As(e,t){return typeof e=="function"?e(t):e}function Is(e){return e.split("-")[0]}function wl(e){return e.split("-")[1]}function tx(e){return e==="x"?"y":"x"}function rx(e){return e==="y"?"height":"width"}function Mo(e){return["top","bottom"].includes(Is(e))?"y":"x"}function nx(e){return tx(Mo(e))}function g$(e,t,r){r===void 0&&(r=!1);const n=wl(e),s=nx(e),o=rx(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Rf(a)),[a,Rf(a)]}function v$(e){const t=Rf(e);return[uv(e),t,uv(t)]}function uv(e){return e.replace(/start|end/g,t=>p$[t])}function y$(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:a;default:return[]}}function x$(e,t,r,n){const s=wl(e);let o=y$(Is(e),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(uv)))),o}function Rf(e){return e.replace(/left|right|bottom|top/g,t=>m$[t])}function w$(e){return{top:0,right:0,bottom:0,left:0,...e}}function CN(e){return typeof e!="number"?w$(e):{top:e,right:e,bottom:e,left:e}}function Mf(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Cb(e,t,r){let{reference:n,floating:s}=e;const o=Mo(t),a=nx(t),l=rx(a),c=Is(t),u=o==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-s.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(wl(t)){case"start":p[a]-=h*(r&&u?-1:1);break;case"end":p[a]+=h*(r&&u?-1:1);break}return p}const b$=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=Cb(u,n,c),h=n,p={},g=0;for(let v=0;v<l.length;v++){const{name:w,fn:y}=l[v],{x,y:b,data:_,reset:S}=await y({x:f,y:d,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});f=x??f,d=b??d,p={...p,[w]:{...p[w],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:f,y:d}=Cb(u,h,c)),v=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:p}};async function Yc(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=As(t,e),g=CN(p),w=l[h?d==="floating"?"reference":"floating":d],y=Mf(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),x=d==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Mf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-S.top+g.top)/_.y,bottom:(S.bottom-y.bottom+g.bottom)/_.y,left:(y.left-S.left+g.left)/_.x,right:(S.right-y.right+g.right)/_.x}}const _$=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=As(e,t)||{};if(u==null)return{};const d=CN(f),h={x:r,y:n},p=nx(s),g=rx(p),v=await a.getDimensions(u),w=p==="y",y=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",_=o.reference[g]+o.reference[p]-h[p]-o.floating[g],S=h[p]-o.reference[p],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=j?j[b]:0;(!C||!await(a.isElement==null?void 0:a.isElement(j)))&&(C=l.floating[b]||o.floating[g]);const N=_/2-S/2,k=C/2-v[g]/2-1,R=To(d[y],k),O=To(d[x],k),M=R,$=C-v[g]-O,I=C/2-v[g]/2+N,B=cv(M,I,$),q=!c.arrow&&wl(s)!=null&&I!==B&&o.reference[g]/2-(I<M?R:O)-v[g]/2<0,F=q?I<M?I-M:I-$:0;return{[p]:h[p]+F,data:{[p]:B,centerOffset:I-B-F,...q&&{alignmentOffset:F}},reset:q}}}),S$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...w}=As(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=Is(s),x=Mo(l),b=Is(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!v?[Rf(l)]:v$(l)),j=g!=="none";!h&&j&&S.push(...x$(l,v,g,_));const C=[l,...S],N=await Yc(t,w),k=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&k.push(N[y]),d){const I=g$(s,a,_);k.push(N[I[0]],N[I[1]])}if(R=[...R,{placement:s,overflows:k}],!k.every(I=>I<=0)){var O,M;const I=(((O=o.flip)==null?void 0:O.index)||0)+1,B=C[I];if(B)return{data:{index:I,overflows:R},reset:{placement:B}};let q=(M=R.filter(F=>F.overflows[0]<=0).sort((F,T)=>F.overflows[1]-T.overflows[1])[0])==null?void 0:M.placement;if(!q)switch(p){case"bestFit":{var $;const F=($=R.filter(T=>{if(j){const D=Mo(T.placement);return D===x||D==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((T,D)=>T[1]-D[1])[0])==null?void 0:$[0];F&&(q=F);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function jb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nb(e){return h$.some(t=>e[t]>=0)}const C$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=As(e,t);switch(n){case"referenceHidden":{const o=await Yc(t,{...s,elementContext:"reference"}),a=jb(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Nb(a)}}}case"escaped":{const o=await Yc(t,{...s,altBoundary:!0}),a=jb(o,r.floating);return{data:{escapedOffsets:a,escaped:Nb(a)}}}default:return{}}}}};async function j$(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Is(r),l=wl(r),c=Mo(r)==="y",u=["left","top"].includes(a)?-1:1,f=o&&c?-1:1,d=As(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const N$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await j$(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},k$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...c}=As(e,t),u={x:r,y:n},f=await Yc(t,c),d=Mo(Is(s)),h=tx(d);let p=u[h],g=u[d];if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=p+f[w],b=p-f[y];p=cv(x,p,b)}if(a){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=g+f[w],b=g-f[y];g=cv(x,g,b)}const v=l.fn({...t,[h]:p,[d]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:o,[d]:a}}}}}},E$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=As(e,t),f={x:r,y:n},d=Mo(s),h=tx(d);let p=f[h],g=f[d];const v=As(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=h==="y"?"height":"width",_=o.reference[h]-o.floating[b]+w.mainAxis,S=o.reference[h]+o.reference[b]-w.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var y,x;const b=h==="y"?"width":"height",_=["top","left"].includes(Is(s)),S=o.reference[d]-o.floating[b]+(_&&((y=a.offset)==null?void 0:y[d])||0)+(_?0:w.crossAxis),j=o.reference[d]+o.reference[b]+(_?0:((x=a.offset)==null?void 0:x[d])||0)-(_?w.crossAxis:0);g<S?g=S:g>j&&(g=j)}return{[h]:p,[d]:g}}}},P$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=As(e,t),f=await Yc(t,u),d=Is(s),h=wl(s),p=Mo(s)==="y",{width:g,height:v}=o.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,w=h==="end"?"top":"bottom");const x=v-f.top-f.bottom,b=g-f.left-f.right,_=To(v-f[w],x),S=To(g-f[y],b),j=!t.middlewareData.shift;let C=_,N=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),j&&!h){const R=Pr(f.left,0),O=Pr(f.right,0),M=Pr(f.top,0),$=Pr(f.bottom,0);p?N=g-2*(R!==0||O!==0?R+O:Pr(f.left,f.right)):C=v-2*(M!==0||$!==0?M+$:Pr(f.top,f.bottom))}await c({...t,availableWidth:N,availableHeight:C});const k=await a.getDimensions(l.floating);return g!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function qh(){return typeof window<"u"}function bl(e){return jN(e)?(e.nodeName||"").toLowerCase():"#document"}function Dr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ss(e){var t;return(t=(jN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jN(e){return qh()?e instanceof Node||e instanceof Dr(e).Node:!1}function _n(e){return qh()?e instanceof Element||e instanceof Dr(e).Element:!1}function ts(e){return qh()?e instanceof HTMLElement||e instanceof Dr(e).HTMLElement:!1}function kb(e){return!qh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Dr(e).ShadowRoot}function Cu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Sn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function T$(e){return["table","td","th"].includes(bl(e))}function Hh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function sx(e){const t=ox(),r=_n(e)?Sn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function R$(e){let t=Do(e);for(;ts(t)&&!Gi(t);){if(sx(t))return t;if(Hh(t))return null;t=Do(t)}return null}function ox(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gi(e){return["html","body","#document"].includes(bl(e))}function Sn(e){return Dr(e).getComputedStyle(e)}function Kh(e){return _n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Do(e){if(bl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kb(e)&&e.host||ss(e);return kb(t)?t.host:t}function NN(e){const t=Do(e);return Gi(t)?e.ownerDocument?e.ownerDocument.body:e.body:ts(t)&&Cu(t)?t:NN(t)}function Qc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=NN(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),a=Dr(s);if(o){const l=dv(a);return t.concat(a,a.visualViewport||[],Cu(s)?s:[],l&&r?Qc(l):[])}return t.concat(s,Qc(s,[],r))}function dv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kN(e){const t=Sn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ts(e),o=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=Tf(r)!==o||Tf(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function ax(e){return _n(e)?e:e.contextElement}function wi(e){const t=ax(e);if(!ts(t))return Ro(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=kN(t);let a=(o?Tf(r.width):r.width)/n,l=(o?Tf(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const M$=Ro(0);function EN(e){const t=Dr(e);return!ox()||!t.visualViewport?M$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function D$(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Dr(e)?!1:t}function Sa(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=ax(e);let a=Ro(1);t&&(n?_n(n)&&(a=wi(n)):a=wi(e));const l=D$(o,r,n)?EN(o):Ro(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,f=s.width/a.x,d=s.height/a.y;if(o){const h=Dr(o),p=n&&_n(n)?Dr(n):n;let g=h,v=dv(g);for(;v&&n&&p!==g;){const w=wi(v),y=v.getBoundingClientRect(),x=Sn(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,_=y.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,d*=w.y,c+=b,u+=_,g=Dr(v),v=dv(g)}}return Mf({width:f,height:d,x:c,y:u})}function O$(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",a=ss(n),l=t?Hh(t.floating):!1;if(n===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Ro(1);const f=Ro(0),d=ts(n);if((d||!d&&!o)&&((bl(n)!=="body"||Cu(a))&&(c=Kh(n)),ts(n))){const h=Sa(n);u=wi(n),f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x,y:r.y*u.y-c.scrollTop*u.y+f.y}}function A$(e){return Array.from(e.getClientRects())}function fv(e,t){const r=Kh(e).scrollLeft;return t?t.left+r:Sa(ss(e)).left+r}function I$(e){const t=ss(e),r=Kh(e),n=e.ownerDocument.body,s=Pr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Pr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+fv(e);const l=-r.scrollTop;return Sn(n).direction==="rtl"&&(a+=Pr(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:l}}function L$(e,t){const r=Dr(e),n=ss(e),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=ox();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}function $$(e,t){const r=Sa(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=ts(e)?wi(e):Ro(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:a,height:l,x:c,y:u}}function Eb(e,t,r){let n;if(t==="viewport")n=L$(e,r);else if(t==="document")n=I$(ss(e));else if(_n(t))n=$$(t,r);else{const s=EN(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Mf(n)}function PN(e,t){const r=Do(e);return r===t||!_n(r)||Gi(r)?!1:Sn(r).position==="fixed"||PN(r,t)}function F$(e,t){const r=t.get(e);if(r)return r;let n=Qc(e,[],!1).filter(l=>_n(l)&&bl(l)!=="body"),s=null;const o=Sn(e).position==="fixed";let a=o?Do(e):e;for(;_n(a)&&!Gi(a);){const l=Sn(a),c=sx(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Cu(a)&&!c&&PN(e,a))?n=n.filter(f=>f!==a):s=l,a=Do(a)}return t.set(e,n),n}function z$(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?Hh(t)?[]:F$(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,f)=>{const d=Eb(t,f,s);return u.top=Pr(d.top,u.top),u.right=To(d.right,u.right),u.bottom=To(d.bottom,u.bottom),u.left=Pr(d.left,u.left),u},Eb(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function U$(e){const{width:t,height:r}=kN(e);return{width:t,height:r}}function B$(e,t,r){const n=ts(t),s=ss(t),o=r==="fixed",a=Sa(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Ro(0);if(n||!n&&!o)if((bl(t)!=="body"||Cu(s))&&(l=Kh(t)),n){const p=Sa(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=fv(s));let u=0,f=0;if(s&&!n&&!o){const p=s.getBoundingClientRect();f=p.top+l.scrollTop,u=p.left+l.scrollLeft-fv(s,p)}const d=a.left+l.scrollLeft-c.x-u,h=a.top+l.scrollTop-c.y-f;return{x:d,y:h,width:a.width,height:a.height}}function mp(e){return Sn(e).position==="static"}function Pb(e,t){if(!ts(e)||Sn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ss(e)===r&&(r=r.ownerDocument.body),r}function TN(e,t){const r=Dr(e);if(Hh(e))return r;if(!ts(e)){let s=Do(e);for(;s&&!Gi(s);){if(_n(s)&&!mp(s))return s;s=Do(s)}return r}let n=Pb(e,t);for(;n&&T$(n)&&mp(n);)n=Pb(n,t);return n&&Gi(n)&&mp(n)&&!sx(n)?r:n||R$(e)||r}const V$=async function(e){const t=this.getOffsetParent||TN,r=this.getDimensions,n=await r(e.floating);return{reference:B$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function W$(e){return Sn(e).direction==="rtl"}const q$={convertOffsetParentRelativeRectToViewportRelativeRect:O$,getDocumentElement:ss,getClippingRect:z$,getOffsetParent:TN,getElementRects:V$,getClientRects:A$,getDimensions:U$,getScale:wi,isElement:_n,isRTL:W$};function H$(e,t){let r=null,n;const s=ss(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:f,width:d,height:h}=e.getBoundingClientRect();if(l||t(),!d||!h)return;const p=gd(f),g=gd(s.clientWidth-(u+d)),v=gd(s.clientHeight-(f+h)),w=gd(u),x={rootMargin:-p+"px "+-g+"px "+-v+"px "+-w+"px",threshold:Pr(0,To(1,c))||1};let b=!0;function _(S){const j=S[0].intersectionRatio;if(j!==c){if(!b)return a();j?a(!1,j):n=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return a(!0),o}function K$(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=ax(e),f=s||o?[...u?Qc(u):[],...Qc(t)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const d=u&&l?H$(u,r):null;let h=-1,p=null;a&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,v=c?Sa(e):null;c&&w();function w(){const y=Sa(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&r(),v=y,g=requestAnimationFrame(w)}return r(),()=>{var y;f.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const G$=N$,Y$=k$,Q$=S$,Z$=P$,X$=C$,Tb=_$,J$=E$,eF=(e,t,r)=>{const n=new Map,s={platform:q$,...r},o={...s.platform,_c:n};return b$(e,t,{...s,platform:o})};var Ud=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Df(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Df(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Df(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function RN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rb(e,t){const r=RN(e);return Math.round(t*r)/r}function pp(e){const t=m.useRef(e);return Ud(()=>{t.current=e}),t}function tF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);Df(h,n)||p(n);const[g,v]=m.useState(null),[w,y]=m.useState(null),x=m.useCallback(T=>{T!==j.current&&(j.current=T,v(T))},[]),b=m.useCallback(T=>{T!==C.current&&(C.current=T,y(T))},[]),_=o||g,S=a||w,j=m.useRef(null),C=m.useRef(null),N=m.useRef(f),k=c!=null,R=pp(c),O=pp(s),M=pp(u),$=m.useCallback(()=>{if(!j.current||!C.current)return;const T={placement:t,strategy:r,middleware:h};O.current&&(T.platform=O.current),eF(j.current,C.current,T).then(D=>{const H={...D,isPositioned:M.current!==!1};I.current&&!Df(N.current,H)&&(N.current=H,Ta.flushSync(()=>{d(H)}))})},[h,t,r,O,M]);Ud(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[u]);const I=m.useRef(!1);Ud(()=>(I.current=!0,()=>{I.current=!1}),[]),Ud(()=>{if(_&&(j.current=_),S&&(C.current=S),_&&S){if(R.current)return R.current(_,S,$);$()}},[_,S,$,R,k]);const B=m.useMemo(()=>({reference:j,floating:C,setReference:x,setFloating:b}),[x,b]),q=m.useMemo(()=>({reference:_,floating:S}),[_,S]),F=m.useMemo(()=>{const T={position:r,left:0,top:0};if(!q.floating)return T;const D=Rb(q.floating,f.x),H=Rb(q.floating,f.y);return l?{...T,transform:"translate("+D+"px, "+H+"px)",...RN(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:H}},[r,l,q.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:$,refs:B,elements:q,floatingStyles:F}),[f,$,B,q,F])}const rF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Tb({element:n.current,padding:s}).fn(r):{}:n?Tb({element:n,padding:s}).fn(r):{}}}},nF=(e,t)=>({...G$(e),options:[e,t]}),sF=(e,t)=>({...Y$(e),options:[e,t]}),oF=(e,t)=>({...J$(e),options:[e,t]}),aF=(e,t)=>({...Q$(e),options:[e,t]}),iF=(e,t)=>({...Z$(e),options:[e,t]}),lF=(e,t)=>({...X$(e),options:[e,t]}),cF=(e,t)=>({...rF(e),options:[e,t]});var uF="Arrow",MN=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return i.jsx(ie.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});MN.displayName=uF;var dF=MN;function fF(e,t=[]){let r=[];function n(o,a){const l=m.createContext(a),c=r.length;r=[...r,a];function u(d){const{scope:h,children:p,...g}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=m.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,hF(s,...t)]}function hF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var ix="Popper",[DN,Uo]=fF(ix),[mF,ON]=DN(ix),AN=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return i.jsx(mF,{scope:t,anchor:n,onAnchorChange:s,children:r})};AN.displayName=ix;var IN="PopperAnchor",LN=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=ON(IN,r),a=m.useRef(null),l=ye(t,a);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:i.jsx(ie.div,{...s,ref:l})});LN.displayName=IN;var lx="PopperContent",[pF,gF]=DN(lx),$N=m.forwardRef((e,t)=>{var ae,ke,Le,Me,Ee,$e;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,w=ON(lx,r),[y,x]=m.useState(null),b=ye(t,le=>x(le)),[_,S]=m.useState(null),j=Yy(_),C=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,k=n+(o!=="center"?"-"+o:""),R=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},O=Array.isArray(u)?u:[u],M=O.length>0,$={padding:R,boundary:O.filter(yF),altBoundary:M},{refs:I,floatingStyles:B,placement:q,isPositioned:F,middlewareData:T}=tF({strategy:"fixed",placement:k,whileElementsMounted:(...le)=>K$(...le,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[nF({mainAxis:s+N,alignmentAxis:a}),c&&sF({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?oF():void 0,...$}),c&&aF({...$}),iF({...$,apply:({elements:le,rects:Vt,availableWidth:is,availableHeight:kn})=>{const{width:Us,height:E}=Vt.reference,A=le.floating.style;A.setProperty("--radix-popper-available-width",`${is}px`),A.setProperty("--radix-popper-available-height",`${kn}px`),A.setProperty("--radix-popper-anchor-width",`${Us}px`),A.setProperty("--radix-popper-anchor-height",`${E}px`)}}),_&&cF({element:_,padding:l}),xF({arrowWidth:C,arrowHeight:N}),h&&lF({strategy:"referenceHidden",...$})]}),[D,H]=UN(q),re=st(g);Rt(()=>{F&&(re==null||re())},[F,re]);const he=(ae=T.arrow)==null?void 0:ae.x,Oe=(ke=T.arrow)==null?void 0:ke.y,Ie=((Le=T.arrow)==null?void 0:Le.centerOffset)!==0,[_t,Be]=m.useState();return Rt(()=>{y&&Be(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:F?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_t,"--radix-popper-transform-origin":[(Me=T.transformOrigin)==null?void 0:Me.x,(Ee=T.transformOrigin)==null?void 0:Ee.y].join(" "),...(($e=T.hide)==null?void 0:$e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(pF,{scope:r,placedSide:D,onArrowChange:S,arrowX:he,arrowY:Oe,shouldHideArrow:Ie,children:i.jsx(ie.div,{"data-side":D,"data-align":H,...v,ref:b,style:{...v.style,animation:F?void 0:"none"}})})})});$N.displayName=lx;var FN="PopperArrow",vF={top:"bottom",right:"left",bottom:"top",left:"right"},zN=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=gF(FN,n),a=vF[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(dF,{...s,ref:r,style:{...s.style,display:"block"}})})});zN.displayName=FN;function yF(e){return e!==null}var xF=e=>({name:"transformOrigin",options:e,fn(t){var w,y,x;const{placement:r,rects:n,middlewareData:s}=t,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=UN(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=a?d:`${h}px`,v=`${-c}px`):u==="top"?(g=a?d:`${h}px`,v=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=a?d:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,v=a?d:`${p}px`),{data:{x:g,y:v}}}});function UN(e){const[t,r="center"]=e.split("-");return[t,r]}var Gh=AN,ju=LN,Yh=$N,Qh=zN,wF=[" ","Enter","ArrowUp","ArrowDown"],bF=[" ","Enter"],Nu="Select",[Zh,Xh,_F]=Mh(Nu),[_l,pK]=jr(Nu,[_F,Uo]),Jh=Uo(),[SF,Bo]=_l(Nu),[CF,jF]=_l(Nu),BN=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:g}=e,v=Jh(t),[w,y]=m.useState(null),[x,b]=m.useState(null),[_,S]=m.useState(!1),j=xl(u),[C=!1,N]=bn({prop:n,defaultProp:s,onChange:o}),[k,R]=bn({prop:a,defaultProp:l,onChange:c}),O=m.useRef(null),M=w?g||!!w.closest("form"):!0,[$,I]=m.useState(new Set),B=Array.from($).map(q=>q.props.value).join(";");return i.jsx(Gh,{...v,children:i.jsxs(SF,{required:p,scope:t,trigger:w,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Gr(),value:k,onValueChange:R,open:C,onOpenChange:N,dir:j,triggerPointerDownPosRef:O,disabled:h,children:[i.jsx(Zh.Provider,{scope:t,children:i.jsx(CF,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(q=>{I(F=>new Set(F).add(q))},[]),onNativeOptionRemove:m.useCallback(q=>{I(F=>{const T=new Set(F);return T.delete(q),T})},[]),children:r})}),M?i.jsxs(hk,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:k,onChange:q=>R(q.target.value),disabled:h,form:g,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from($)]},B):null]})})};BN.displayName=Nu;var VN="SelectTrigger",WN=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Jh(r),a=Bo(VN,r),l=a.disabled||n,c=ye(t,a.onTriggerChange),u=Xh(r),f=m.useRef("touch"),[d,h,p]=mk(v=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===a.value),x=pk(w,v,y);x!==void 0&&a.onValueChange(x.value)}),g=v=>{l||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(ju,{asChild:!0,...o,children:i.jsx(ie.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fk(a.value)?"":void 0,...s,ref:c,onClick:V(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&g(v)}),onPointerDown:V(s.onPointerDown,v=>{f.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:V(s.onKeyDown,v=>{const w=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(w&&v.key===" ")&&wF.includes(v.key)&&(g(),v.preventDefault())})})})});WN.displayName=VN;var qN="SelectValue",HN=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:a="",...l}=e,c=Bo(qN,r),{onValueNodeHasChildrenChange:u}=c,f=o!==void 0,d=ye(t,c.onValueNodeChange);return Rt(()=>{u(f)},[u,f]),i.jsx(ie.span,{...l,ref:d,style:{pointerEvents:"none"},children:fk(c.value)?i.jsx(i.Fragment,{children:a}):o})});HN.displayName=qN;var NF="SelectIcon",KN=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(ie.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});KN.displayName=NF;var kF="SelectPortal",GN=e=>i.jsx(hl,{asChild:!0,...e});GN.displayName=kF;var Ca="SelectContent",YN=m.forwardRef((e,t)=>{const r=Bo(Ca,e.__scopeSelect),[n,s]=m.useState();if(Rt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ta.createPortal(i.jsx(QN,{scope:e.__scopeSelect,children:i.jsx(Zh.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),o):null}return i.jsx(ZN,{...e,ref:t})});YN.displayName=Ca;var ln=10,[QN,Vo]=_l(Ca),EF="SelectContentImpl",ZN=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:w,...y}=e,x=Bo(Ca,r),[b,_]=m.useState(null),[S,j]=m.useState(null),C=ye(t,ae=>_(ae)),[N,k]=m.useState(null),[R,O]=m.useState(null),M=Xh(r),[$,I]=m.useState(!1),B=m.useRef(!1);m.useEffect(()=>{if(b)return Uh(b)},[b]),Fh();const q=m.useCallback(ae=>{const[ke,...Le]=M().map($e=>$e.ref.current),[Me]=Le.slice(-1),Ee=document.activeElement;for(const $e of ae)if($e===Ee||($e==null||$e.scrollIntoView({block:"nearest"}),$e===ke&&S&&(S.scrollTop=0),$e===Me&&S&&(S.scrollTop=S.scrollHeight),$e==null||$e.focus(),document.activeElement!==Ee))return},[M,S]),F=m.useCallback(()=>q([N,b]),[q,N,b]);m.useEffect(()=>{$&&F()},[$,F]);const{onOpenChange:T,triggerPointerDownPosRef:D}=x;m.useEffect(()=>{if(b){let ae={x:0,y:0};const ke=Me=>{var Ee,$e;ae={x:Math.abs(Math.round(Me.pageX)-(((Ee=D.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Me.pageY)-((($e=D.current)==null?void 0:$e.y)??0))}},Le=Me=>{ae.x<=10&&ae.y<=10?Me.preventDefault():b.contains(Me.target)||T(!1),document.removeEventListener("pointermove",ke),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",Le,{capture:!0})}}},[b,T,D]),m.useEffect(()=>{const ae=()=>T(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[T]);const[H,re]=mk(ae=>{const ke=M().filter(Ee=>!Ee.disabled),Le=ke.find(Ee=>Ee.ref.current===document.activeElement),Me=pk(ke,ae,Le);Me&&setTimeout(()=>Me.ref.current.focus())}),he=m.useCallback((ae,ke,Le)=>{const Me=!B.current&&!Le;(x.value!==void 0&&x.value===ke||Me)&&(k(ae),Me&&(B.current=!0))},[x.value]),Oe=m.useCallback(()=>b==null?void 0:b.focus(),[b]),Ie=m.useCallback((ae,ke,Le)=>{const Me=!B.current&&!Le;(x.value!==void 0&&x.value===ke||Me)&&O(ae)},[x.value]),_t=n==="popper"?hv:XN,Be=_t===hv?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:w}:{};return i.jsx(QN,{scope:r,content:b,viewport:S,onViewportChange:j,itemRefCallback:he,selectedItem:N,onItemLeave:Oe,itemTextRefCallback:Ie,focusSelectedItem:F,selectedItemText:R,position:n,isPositioned:$,searchRef:H,children:i.jsx(_u,{as:_r,allowPinchZoom:!0,children:i.jsx(bu,{asChild:!0,trapped:x.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:V(s,ae=>{var ke;(ke=x.trigger)==null||ke.focus({preventScroll:!0}),ae.preventDefault()}),children:i.jsx(Da,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(_t,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ae=>ae.preventDefault(),...y,...Be,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:V(y.onKeyDown,ae=>{const ke=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ke&&ae.key.length===1&&re(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Me=M().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ee=ae.target,$e=Me.indexOf(Ee);Me=Me.slice($e+1)}setTimeout(()=>q(Me)),ae.preventDefault()}})})})})})})});ZN.displayName=EF;var PF="SelectItemAlignedPosition",XN=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Bo(Ca,r),a=Vo(Ca,r),[l,c]=m.useState(null),[u,f]=m.useState(null),d=ye(t,C=>f(C)),h=Xh(r),p=m.useRef(!1),g=m.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:y,focusSelectedItem:x}=a,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&v&&w&&y){const C=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),k=o.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(o.dir!=="rtl"){const Ee=R.left-N.left,$e=k.left-Ee,le=C.left-$e,Vt=C.width+le,is=Math.max(Vt,N.width),kn=window.innerWidth-ln,Us=lv($e,[ln,Math.max(ln,kn-is)]);l.style.minWidth=Vt+"px",l.style.left=Us+"px"}else{const Ee=N.right-R.right,$e=window.innerWidth-k.right-Ee,le=window.innerWidth-C.right-$e,Vt=C.width+le,is=Math.max(Vt,N.width),kn=window.innerWidth-ln,Us=lv($e,[ln,Math.max(ln,kn-is)]);l.style.minWidth=Vt+"px",l.style.right=Us+"px"}const O=h(),M=window.innerHeight-ln*2,$=v.scrollHeight,I=window.getComputedStyle(u),B=parseInt(I.borderTopWidth,10),q=parseInt(I.paddingTop,10),F=parseInt(I.borderBottomWidth,10),T=parseInt(I.paddingBottom,10),D=B+q+$+T+F,H=Math.min(w.offsetHeight*5,D),re=window.getComputedStyle(v),he=parseInt(re.paddingTop,10),Oe=parseInt(re.paddingBottom,10),Ie=C.top+C.height/2-ln,_t=M-Ie,Be=w.offsetHeight/2,ae=w.offsetTop+Be,ke=B+q+ae,Le=D-ke;if(ke<=Ie){const Ee=O.length>0&&w===O[O.length-1].ref.current;l.style.bottom="0px";const $e=u.clientHeight-v.offsetTop-v.offsetHeight,le=Math.max(_t,Be+(Ee?Oe:0)+$e+F),Vt=ke+le;l.style.height=Vt+"px"}else{const Ee=O.length>0&&w===O[0].ref.current;l.style.top="0px";const le=Math.max(Ie,B+v.offsetTop+(Ee?he:0)+Be)+Le;l.style.height=le+"px",v.scrollTop=ke-Ie+v.offsetTop}l.style.margin=`${ln}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,l,u,v,w,y,o.dir,n]);Rt(()=>b(),[b]);const[_,S]=m.useState();Rt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(C=>{C&&g.current===!0&&(b(),x==null||x(),g.current=!1)},[b,x]);return i.jsx(RF,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(ie.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});XN.displayName=PF;var TF="SelectPopperPosition",hv=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ln,...o}=e,a=Jh(r);return i.jsx(Yh,{...a,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hv.displayName=TF;var[RF,cx]=_l(Ca,{}),mv="SelectViewport",JN=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Vo(mv,r),a=cx(mv,r),l=ye(t,o.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Zh.Slot,{scope:r,children:i.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:V(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const g=window.innerHeight-ln*2,v=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),y=Math.max(v,w);if(y<g){const x=y+p,b=Math.min(g,x),_=x-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});JN.displayName=mv;var ek="SelectGroup",[MF,DF]=_l(ek),OF=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Gr();return i.jsx(MF,{scope:r,id:s,children:i.jsx(ie.div,{role:"group","aria-labelledby":s,...n,ref:t})})});OF.displayName=ek;var tk="SelectLabel",rk=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=DF(tk,r);return i.jsx(ie.div,{id:s.id,...n,ref:t})});rk.displayName=tk;var Of="SelectItem",[AF,nk]=_l(Of),sk=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...a}=e,l=Bo(Of,r),c=Vo(Of,r),u=l.value===n,[f,d]=m.useState(o??""),[h,p]=m.useState(!1),g=ye(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,s)}),v=Gr(),w=m.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(AF,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(x=>{d(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(Zh.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:i.jsx(ie.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:g,onFocus:V(a.onFocus,()=>p(!0)),onBlur:V(a.onBlur,()=>p(!1)),onClick:V(a.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:V(a.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:V(a.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:V(a.onPointerMove,x=>{var b;w.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:V(a.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:V(a.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(bF.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});sk.displayName=Of;var nc="SelectItemText",ok=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,a=Bo(nc,r),l=Vo(nc,r),c=nk(nc,r),u=jF(nc,r),[f,d]=m.useState(null),h=ye(t,y=>d(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=f==null?void 0:f.textContent,g=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return Rt(()=>(v(g),()=>w(g)),[v,w,g]),i.jsxs(i.Fragment,{children:[i.jsx(ie.span,{id:c.textId,...o,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ta.createPortal(o.children,a.valueNode):null]})});ok.displayName=nc;var ak="SelectItemIndicator",ik=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return nk(ak,r).isSelected?i.jsx(ie.span,{"aria-hidden":!0,...n,ref:t}):null});ik.displayName=ak;var pv="SelectScrollUpButton",lk=m.forwardRef((e,t)=>{const r=Vo(pv,e.__scopeSelect),n=cx(pv,e.__scopeSelect),[s,o]=m.useState(!1),a=ye(t,n.onScrollButtonChange);return Rt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(uk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});lk.displayName=pv;var gv="SelectScrollDownButton",ck=m.forwardRef((e,t)=>{const r=Vo(gv,e.__scopeSelect),n=cx(gv,e.__scopeSelect),[s,o]=m.useState(!1),a=ye(t,n.onScrollButtonChange);return Rt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;o(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(uk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ck.displayName=gv;var uk=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Vo("SelectScrollButton",r),a=m.useRef(null),l=Xh(r),c=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Rt(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(ie.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:V(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:V(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:V(s.onPointerLeave,()=>{c()})})}),IF="SelectSeparator",dk=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ie.div,{"aria-hidden":!0,...n,ref:t})});dk.displayName=IF;var vv="SelectArrow",LF=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Jh(r),o=Bo(vv,r),a=Vo(vv,r);return o.open&&a.position==="popper"?i.jsx(Qh,{...s,...n,ref:t}):null});LF.displayName=vv;function fk(e){return e===""||e===void 0}var hk=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),o=ye(t,s),a=Gy(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&f){const d=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(d)}},[a,r]),i.jsx(gu,{asChild:!0,children:i.jsx("select",{...n,ref:o,defaultValue:r})})});hk.displayName="BubbleSelect";function mk(e){const t=st(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function pk(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let a=$F(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function $F(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var FF=BN,gk=WN,zF=HN,UF=KN,BF=GN,vk=YN,VF=JN,yk=rk,xk=sk,WF=ok,qF=ik,wk=lk,bk=ck,_k=dk;const _s=FF,Ss=zF,Wn=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(gk,{ref:n,className:U("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(UF,{asChild:!0,children:i.jsx(xj,{className:"h-4 w-4 opacity-50"})})]}));Wn.displayName=gk.displayName;const Sk=m.forwardRef(({className:e,...t},r)=>i.jsx(wk,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(CL,{className:"h-4 w-4"})}));Sk.displayName=wk.displayName;const Ck=m.forwardRef(({className:e,...t},r)=>i.jsx(bk,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(xj,{className:"h-4 w-4"})}));Ck.displayName=bk.displayName;const qn=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(BF,{children:i.jsxs(vk,{ref:s,className:U("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(Sk,{}),i.jsx(VF,{className:U("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(Ck,{})]})}));qn.displayName=vk.displayName;const HF=m.forwardRef(({className:e,...t},r)=>i.jsx(yk,{ref:r,className:U("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));HF.displayName=yk.displayName;const it=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(xk,{ref:n,className:U("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(qF,{children:i.jsx(Lh,{className:"h-4 w-4"})})}),i.jsx(WF,{children:t})]}));it.displayName=xk.displayName;const KF=m.forwardRef(({className:e,...t},r)=>i.jsx(_k,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",e),...t}));KF.displayName=_k.displayName;function GF(e,t=[]){let r=[];function n(o,a){const l=m.createContext(a),c=r.length;r=[...r,a];function u(d){const{scope:h,children:p,...g}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=m.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,YF(s,...t)]}function YF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var gp="rovingFocusGroup.onEntryFocus",QF={bubbles:!1,cancelable:!0},em="RovingFocusGroup",[yv,jk,ZF]=Mh(em),[XF,Sl]=GF(em,[ZF]),[JF,e8]=XF(em),Nk=m.forwardRef((e,t)=>i.jsx(yv.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(yv.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(t8,{...e,ref:t})})}));Nk.displayName=em;var t8=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=m.useRef(null),p=ye(t,h),g=xl(o),[v=null,w]=bn({prop:a,defaultProp:l,onChange:c}),[y,x]=m.useState(!1),b=st(u),_=jk(r),S=m.useRef(!1),[j,C]=m.useState(0);return m.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(gp,b),()=>N.removeEventListener(gp,b)},[b]),i.jsx(JF,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(N=>w(N),[w]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>C(N=>N-1),[]),children:i.jsx(ie.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:V(e.onMouseDown,()=>{S.current=!0}),onFocus:V(e.onFocus,N=>{const k=!S.current;if(N.target===N.currentTarget&&k&&!y){const R=new CustomEvent(gp,QF);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=_().filter(q=>q.focusable),M=O.find(q=>q.active),$=O.find(q=>q.id===v),B=[M,$,...O].filter(Boolean).map(q=>q.ref.current);Pk(B,f)}}S.current=!1}),onBlur:V(e.onBlur,()=>x(!1))})})}),kk="RovingFocusGroupItem",Ek=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...a}=e,l=Gr(),c=o||l,u=e8(kk,r),f=u.currentTabStopId===c,d=jk(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),i.jsx(yv.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(ie.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:V(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:V(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:V(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=s8(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=d().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const x=y.indexOf(g.currentTarget);y=u.loop?o8(y,x+1):y.slice(x+1)}setTimeout(()=>Pk(y))}})})})});Ek.displayName=kk;var r8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function n8(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function s8(e,t,r){const n=n8(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return r8[n]}function Pk(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function o8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ux=Nk,dx=Ek,fx="Radio",[a8,Tk]=jr(fx),[i8,l8]=a8(fx),Rk=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:a,value:l="on",onCheck:c,form:u,...f}=e,[d,h]=m.useState(null),p=ye(t,w=>h(w)),g=m.useRef(!1),v=d?u||!!d.closest("form"):!0;return i.jsxs(i8,{scope:r,checked:s,disabled:a,children:[i.jsx(ie.button,{type:"button",role:"radio","aria-checked":s,"data-state":Ok(s),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:p,onClick:V(e.onClick,w=>{s||c==null||c(),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&i.jsx(c8,{control:d,bubbles:!g.current,name:n,value:l,checked:s,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});Rk.displayName=fx;var Mk="RadioIndicator",Dk=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=l8(Mk,r);return i.jsx(Dt,{present:n||o.checked,children:i.jsx(ie.span,{"data-state":Ok(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});Dk.displayName=Mk;var c8=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=m.useRef(null),a=Gy(r),l=Yy(t);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[a,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ok(e){return e?"checked":"unchecked"}var u8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hx="RadioGroup",[d8,gK]=jr(hx,[Sl,Tk]),Ak=Sl(),Ik=Tk(),[f8,h8]=d8(hx),Lk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:f=!0,onValueChange:d,...h}=e,p=Ak(r),g=xl(u),[v,w]=bn({prop:o,defaultProp:s,onChange:d});return i.jsx(f8,{scope:r,name:n,required:a,disabled:l,value:v,onValueChange:w,children:i.jsx(ux,{asChild:!0,...p,orientation:c,dir:g,loop:f,children:i.jsx(ie.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});Lk.displayName=hx;var $k="RadioGroupItem",Fk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=h8($k,r),a=o.disabled||n,l=Ak(r),c=Ik(r),u=m.useRef(null),f=ye(t,u),d=o.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const p=v=>{u8.includes(v.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),i.jsx(dx,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(Rk,{disabled:a,required:o.required,checked:d,...c,...s,name:o.name,ref:f,onCheck:()=>o.onValueChange(s.value),onKeyDown:V(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:V(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});Fk.displayName=$k;var m8="RadioGroupIndicator",zk=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=Ik(r);return i.jsx(Dk,{...s,...n,ref:t})});zk.displayName=m8;var Uk=Lk,Bk=Fk,p8=zk;const tm=m.forwardRef(({className:e,...t},r)=>i.jsx(Uk,{className:U("grid gap-2",e),...t,ref:r}));tm.displayName=Uk.displayName;const ko=m.forwardRef(({className:e,...t},r)=>i.jsx(Bk,{ref:r,className:U("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(p8,{className:"flex items-center justify-center",children:i.jsx(bj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ko.displayName=Bk.displayName;function g8({amount:e,setAmount:t,description:r,setDescription:n,paymentMethod:s,setPaymentMethod:o,type:a,setType:l,clientId:c,setClientId:u,goalId:f,setGoalId:d,isLoading:h,clients:p,goals:g,onSubmit:v}){return i.jsxs("form",{onSubmit:v,className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(xe,{className:"text-base sm:text-lg font-medium",children:"Tipo"}),i.jsxs(tm,{value:a,onValueChange:w=>l(w),className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs("div",{className:`flex items-center space-x-3 p-3 sm:p-4 border rounded-lg cursor-pointer transition-colors ${a==="expense"?"border-red-500 bg-red-50":"border-input hover:bg-accent"}`,children:[i.jsx(ko,{value:"expense",id:"expense"}),i.jsxs(xe,{htmlFor:"expense",className:"flex items-center gap-2 cursor-pointer",children:[i.jsx(Ah,{className:"w-4 h-4 text-red-500"}),i.jsx("span",{className:"text-red-500 font-medium",children:"Despesa"})]})]}),i.jsxs("div",{className:`flex items-center space-x-3 p-3 sm:p-4 border rounded-lg cursor-pointer transition-colors ${a==="income"?"border-green-500 bg-green-50":"border-input hover:bg-accent"}`,children:[i.jsx(ko,{value:"income",id:"income"}),i.jsxs(xe,{htmlFor:"income",className:"flex items-center gap-2 cursor-pointer",children:[i.jsx(Ih,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:"text-green-500 font-medium",children:"Receita"})]})]}),i.jsxs("div",{className:`flex items-center space-x-3 p-3 sm:p-4 border rounded-lg cursor-pointer transition-colors ${a==="investment"?"border-blue-500 bg-blue-50":"border-input hover:bg-accent"}`,children:[i.jsx(ko,{value:"investment",id:"investment"}),i.jsxs(xe,{htmlFor:"investment",className:"flex items-center gap-2 cursor-pointer",children:[i.jsx(vi,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-blue-500 font-medium",children:"Investimento"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"amount",children:"Valor"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"R$"}),i.jsx(Ae,{id:"amount",type:"number",step:"0.01",min:"0",value:e,onChange:w=>t(w.target.value),placeholder:"0,00",required:!0,className:`pl-8 text-base ${a==="expense"?"border-red-200 focus:border-red-500":a==="income"?"border-green-200 focus:border-green-500":"border-blue-200 focus:border-blue-500"}`})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"description",children:"Descrio"}),i.jsx(Ae,{id:"description",value:r,onChange:w=>n(w.target.value),placeholder:a==="investment"?"Ex: Aes, Fundos, Tesouro Direto...":"Ex: Corrida, Manuteno...",required:!0,className:"focus:border-primary text-base"})]}),a==="investment"&&g&&g.length>0&&d&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"goal",children:"Meta Financeira (Opcional)"}),i.jsxs(_s,{value:f||"none",onValueChange:w=>d(w==="none"?null:w),children:[i.jsx(Wn,{className:"border-blue-200 focus:border-blue-500",children:i.jsx(Ss,{placeholder:"Selecione uma meta para vincular este investimento"})}),i.jsxs(qn,{children:[i.jsx(it,{value:"none",children:"Nenhuma meta"}),g.map(w=>i.jsx(it,{value:w.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:w.goal_icon}),i.jsx("span",{className:"truncate",children:w.description||`Meta de ${w.goal_type}`})]})},w.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"paymentMethod",children:"Forma de Pagamento"}),i.jsxs(_s,{value:s,onValueChange:w=>{o(w),w!=="invoice"&&u(null)},children:[i.jsx(Wn,{children:i.jsx(Ss,{placeholder:"Selecione a forma de pagamento"})}),i.jsxs(qn,{children:[i.jsx(it,{value:"pix",children:"PIX"}),i.jsx(it,{value:"cash",children:"Dinheiro"}),i.jsx(it,{value:"invoice",children:"Faturado"})]})]})]}),s==="invoice"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"client",children:"Cliente"}),i.jsxs(_s,{value:c||"",onValueChange:u,required:!0,children:[i.jsx(Wn,{children:i.jsx(Ss,{placeholder:"Selecione o cliente"})}),i.jsx(qn,{children:p==null?void 0:p.map(w=>i.jsx(it,{value:w.id,children:w.name},w.id))})]})]}),i.jsx(Q,{type:"submit",className:`w-full ${a==="investment"?"bg-blue-500 hover:bg-blue-600":""}`,disabled:h,variant:a==="expense"?"destructive":"default",children:h?"Adicionando...":"Adicionar"})]})}function v8(e){const[t,r]=m.useState(""),[n,s]=m.useState(""),[o,a]=m.useState("pix"),[l,c]=m.useState("expense"),[u,f]=m.useState(null),[d,h]=m.useState(null),[p,g]=m.useState(!1),{toast:v}=Bt(),{user:w}=Ne(),{data:y}=Tt({queryKey:["clients",w==null?void 0:w.id],queryFn:async()=>{if(!w)return[];const{data:S,error:j}=await L.from("clients").select().eq("user_id",w.id).order("name");if(j)throw j;return S},enabled:!!w}),{data:x}=Tt({queryKey:["financial-goals",w==null?void 0:w.id],queryFn:async()=>{if(!w)return[];const{data:S,error:j}=await L.from("financial_goals").select("*").eq("user_id",w.id).eq("active",!0).order("created_at",{ascending:!1});if(j)throw j;return S},enabled:!!w}),b=async S=>{if(S.preventDefault(),!!w){if(g(!0),o==="invoice"&&!u){v({title:"Erro",description:"Selecione um cliente para transaes faturadas",variant:"destructive"}),g(!1);return}try{const j={description:n,amount:l==="expense"?-Math.abs(Number(t)):Math.abs(Number(t)),client_id:u,goal_id:l==="investment"?d:null,type:l,user_id:w.id,payment_method:o,payment_status:l==="investment"||l==="expense"?"confirmed":"pending",date:new Date().toISOString()},{error:C}=await L.from("transactions").insert(j);if(C)throw C;const N={expense:"despesa",income:"receita",investment:"investimento"}[l];v({title:"Sucesso",description:`${N.charAt(0).toUpperCase()+N.slice(1)} adicionada com sucesso${l==="investment"&&d?" e vinculada  meta":""}`}),e==null||e(),_()}catch(j){console.error("Error adding transaction:",j),v({title:"Erro",description:"Falha ao adicionar transao",variant:"destructive"})}finally{g(!1)}}},_=()=>{r(""),s(""),a("pix"),f(null),h(null),c("expense")};return{amount:t,setAmount:r,description:n,setDescription:s,paymentMethod:o,setPaymentMethod:a,type:l,setType:c,clientId:u,setClientId:f,goalId:d,setGoalId:h,isLoading:p,clients:y,goals:x,handleSubmit:b,resetForm:_}}function y8({open:e,onOpenChange:t,onTransactionAdded:r}){const{amount:n,setAmount:s,description:o,setDescription:a,paymentMethod:l,setPaymentMethod:c,type:u,setType:f,clientId:d,setClientId:h,goalId:p,setGoalId:g,isLoading:v,clients:w,goals:y,handleSubmit:x}=v8(()=>{r==null||r(),t(!1)});return i.jsx(Os,{open:e,onOpenChange:t,children:i.jsxs(Xn,{className:"w-[95vw] max-w-md sm:max-w-[425px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[i.jsx(Jn,{className:"pb-4",children:i.jsx(es,{className:"text-xl sm:text-2xl font-bold",children:"Nova Transao"})}),i.jsx(g8,{amount:n,setAmount:s,description:o,setDescription:a,paymentMethod:l,setPaymentMethod:c,type:u,setType:f,clientId:d,setClientId:h,goalId:p,setGoalId:g,isLoading:v,clients:w,goals:y,onSubmit:x})]})})}function fe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Kt(e,t){const r=fe(e);return isNaN(t)?Sr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function en(e,t){const r=fe(e);if(isNaN(t))return Sr(e,NaN);if(!t)return r;const n=r.getDate(),s=Sr(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const mx=6048e5,x8=864e5,Vk=6e4,Wk=36e5,vd=43200,Mb=1440;let w8={};function Cl(){return w8}function Cn(e,t){var l,c,u,f;const r=Cl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=fe(e),o=s.getDay(),a=(o<n?7:0)+o-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function ja(e){return Cn(e,{weekStartsOn:1})}function qk(e){const t=fe(e),r=t.getFullYear(),n=Sr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ja(n),o=Sr(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=ja(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Yt(e){const t=fe(e);return t.setHours(0,0,0,0),t}function Yi(e){const t=fe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function vn(e,t){const r=Yt(e),n=Yt(t),s=+r-Yi(r),o=+n-Yi(n);return Math.round((s-o)/x8)}function b8(e){const t=qk(e),r=Sr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ja(r)}function xv(e,t){const r=t*7;return Kt(e,r)}function Hk(e,t){return en(e,t*12)}function _8(e){let t;return e.forEach(function(r){const n=fe(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function S8(e){let t;return e.forEach(r=>{const n=fe(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Bd(e,t){const r=fe(e),n=fe(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function C8(e){return Sr(e,Date.now())}function yr(e,t){const r=Yt(e),n=Yt(t);return+r==+n}function px(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function j8(e){if(!px(e)&&typeof e!="number")return!1;const t=fe(e);return!isNaN(Number(t))}function Qi(e,t){const r=fe(e),n=fe(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function N8(e,t,r){const n=Cn(e,r),s=Cn(t,r),o=+n-Yi(n),a=+s-Yi(s);return Math.round((o-a)/mx)}function k8(e,t){const r=fe(e),n=fe(t),s=Db(r,n),o=Math.abs(vn(r,n));r.setDate(r.getDate()-s*o);const a=+(Db(r,n)===-s),l=s*(o-a);return l===0?0:l}function Db(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function E8(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function P8(e,t){return+fe(e)-+fe(t)}function Un(e){const t=fe(e);return t.setHours(23,59,59,999),t}function Zi(e){const t=fe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function T8(e){const t=fe(e);return+Un(t)==+Zi(t)}function R8(e,t){const r=fe(e),n=fe(t),s=Bd(r,n),o=Math.abs(Qi(r,n));let a;if(o<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);let l=Bd(r,n)===-s;T8(fe(e))&&o===1&&Bd(e,n)===1&&(l=!1),a=s*(o-Number(l))}return a===0?0:a}function M8(e,t,r){const n=P8(e,t)/1e3;return E8(r==null?void 0:r.roundingMethod)(n)}function zt(e){const t=fe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function gx(e){const t=fe(e),r=Sr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function vx(e,t){var l,c,u,f;const r=Cl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=fe(e),o=s.getDay(),a=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function Kk(e){return vx(e,{weekStartsOn:1})}const D8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O8=(e,t,r)=>{let n;const s=D8[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function bi(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const A8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$8={date:bi({formats:A8,defaultWidth:"full"}),time:bi({formats:I8,defaultWidth:"full"}),dateTime:bi({formats:L8,defaultWidth:"full"})},F8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z8=(e,t,r,n)=>F8[e];function Bn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const U8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K8=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},G8={ordinalNumber:K8,era:Bn({values:U8,defaultWidth:"wide"}),quarter:Bn({values:B8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bn({values:V8,defaultWidth:"wide"}),day:Bn({values:W8,defaultWidth:"wide"}),dayPeriod:Bn({values:q8,defaultWidth:"wide",formattingValues:H8,defaultFormattingWidth:"wide"})};function Vn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const a=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Q8(l,d=>d.test(a)):Y8(l,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}function Y8(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Q8(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Gk(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const Z8=/^(\d+)(th|st|nd|rd)?/i,X8=/\d+/i,J8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},e6={any:[/^b/i,/^(a|c)/i]},t6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},r6={any:[/1/i,/2/i,/3/i,/4/i]},n6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},s6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},o6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},a6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},l6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},c6={ordinalNumber:Gk({matchPattern:Z8,parsePattern:X8,valueCallback:e=>parseInt(e,10)}),era:Vn({matchPatterns:J8,defaultMatchWidth:"wide",parsePatterns:e6,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:t6,defaultMatchWidth:"wide",parsePatterns:r6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vn({matchPatterns:n6,defaultMatchWidth:"wide",parsePatterns:s6,defaultParseWidth:"any"}),day:Vn({matchPatterns:o6,defaultMatchWidth:"wide",parsePatterns:a6,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:i6,defaultMatchWidth:"any",parsePatterns:l6,defaultParseWidth:"any"})},yx={code:"en-US",formatDistance:O8,formatLong:$8,formatRelative:z8,localize:G8,match:c6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function u6(e){const t=fe(e);return vn(t,gx(t))+1}function Yk(e){const t=fe(e),r=+ja(t)-+b8(t);return Math.round(r/mx)+1}function Qk(e,t){var f,d,h,p;const r=fe(e),n=r.getFullYear(),s=Cl(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=Sr(e,0);a.setFullYear(n+1,0,o),a.setHours(0,0,0,0);const l=Cn(a,t),c=Sr(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=Cn(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function d6(e,t){var l,c,u,f;const r=Cl(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=Qk(e,t),o=Sr(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Cn(o,t)}function Zk(e,t){const r=fe(e),n=+Cn(r,t)-+d6(r,t);return Math.round(n/mx)+1}function Ve(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Hs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ve(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ve(r+1,2)},d(e,t){return Ve(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ve(e.getHours()%12||12,t.length)},H(e,t){return Ve(e.getHours(),t.length)},m(e,t){return Ve(e.getMinutes(),t.length)},s(e,t){return Ve(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ve(s,t.length)}},Ha={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ob={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Hs.y(e,t)},Y:function(e,t,r,n){const s=Qk(e,n),o=s>0?s:1-s;if(t==="YY"){const a=o%100;return Ve(a,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ve(o,t.length)},R:function(e,t){const r=qk(e);return Ve(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ve(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ve(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ve(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Hs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ve(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Zk(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ve(s,t.length)},I:function(e,t,r){const n=Yk(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ve(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Hs.d(e,t)},D:function(e,t,r){const n=u6(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ve(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ve(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ve(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ve(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Ha.noon:n===0?s=Ha.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Ha.evening:n>=12?s=Ha.afternoon:n>=4?s=Ha.morning:s=Ha.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Hs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Hs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Hs.s(e,t)},S:function(e,t){return Hs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ib(n);case"XXXX":case"XX":return Zo(n);case"XXXXX":case"XXX":default:return Zo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Ib(n);case"xxxx":case"xx":return Zo(n);case"xxxxx":case"xxx":default:return Zo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ab(n,":");case"OOOO":default:return"GMT"+Zo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ab(n,":");case"zzzz":default:return"GMT"+Zo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ve(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ve(n,t.length)}};function Ab(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+Ve(o,2)}function Ib(e,t){return e%60===0?(e>0?"-":"+")+Ve(Math.abs(e)/60,2):Zo(e,t)}function Zo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ve(Math.trunc(n/60),2),o=Ve(n%60,2);return r+s+t+o}const Lb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Xk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},f6=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Lb(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Lb(n,t)).replace("{{time}}",Xk(s,t))},h6={p:Xk,P:f6},m6=/^D+$/,p6=/^Y+$/,g6=["D","DD","YY","YYYY"];function v6(e){return m6.test(e)}function y6(e){return p6.test(e)}function x6(e,t,r){const n=w6(e,t,r);if(console.warn(n),g6.includes(e))throw new RangeError(n)}function w6(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const b6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S6=/^'([^]*?)'?$/,C6=/''/g,j6=/[a-zA-Z]/;function Se(e,t,r){var f,d,h,p,g,v,w,y;const n=Cl(),s=(r==null?void 0:r.locale)??n.locale??yx,o=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((v=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(w=n.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??0,l=fe(e);if(!j8(l))throw new RangeError("Invalid time value");let c=t.match(_6).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=h6[b];return _(x,s.formatLong)}return x}).join("").match(b6).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:N6(x)};if(Ob[b])return{isToken:!0,value:x};if(b.match(j6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&y6(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&v6(b))&&x6(b,t,String(e));const _=Ob[b[0]];return _(l,b,s.localize,u)}).join("")}function N6(e){const t=e.match(S6);return t?t[1].replace(C6,"'"):e}function k6(e,t,r){const n=Cl(),s=(r==null?void 0:r.locale)??n.locale??yx,o=2520,a=Bd(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=fe(t),u=fe(e)):(c=fe(e),u=fe(t));const f=M8(u,c),d=(Yi(u)-Yi(c))/1e3,h=Math.round((f-d)/60);let p;if(h<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<Mb){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<o)return s.formatDistance("xDays",1,l);if(h<vd){const g=Math.round(h/Mb);return s.formatDistance("xDays",g,l)}else if(h<vd*2)return p=Math.round(h/vd),s.formatDistance("aboutXMonths",p,l)}if(p=R8(u,c),p<12){const g=Math.round(h/vd);return s.formatDistance("xMonths",g,l)}else{const g=p%12,v=Math.trunc(p/12);return g<3?s.formatDistance("aboutXYears",v,l):g<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function E6(e,t){return k6(e,C8(e),t)}function P6(e){const t=fe(e),r=t.getFullYear(),n=t.getMonth(),s=Sr(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function T6(e){return Math.trunc(+fe(e)/1e3)}function R6(e){const t=fe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function M6(e,t){return N8(R6(e),zt(e),t)+1}function wv(e,t){const r=fe(e),n=fe(t);return r.getTime()>n.getTime()}function xx(e,t){const r=fe(e),n=fe(t);return+r<+n}function wx(e,t){const r=fe(e),n=fe(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function D6(e,t){const r=fe(e),n=fe(t);return r.getFullYear()===n.getFullYear()}function $b(e,t){const r=+fe(e),[n,s]=[+fe(t.start),+fe(t.end)].sort((o,a)=>o-a);return r>=n&&r<=s}function _i(e,t){return Kt(e,-t)}function $n(e,t){const n=L6(e);let s;if(n.date){const c=$6(n.date,2);s=F6(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let a=0,l;if(n.time&&(a=z6(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(l=U6(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(o+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(o+a+l)}const yd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},O6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,A6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,I6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function L6(e){const t={},r=e.split(yd.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],yd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(yd.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=yd.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function $6(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function F6(e,t){if(t===null)return new Date(NaN);const r=e.match(O6);if(!r)return new Date(NaN);const n=!!r[4],s=Hl(r[1]),o=Hl(r[2])-1,a=Hl(r[3]),l=Hl(r[4]),c=Hl(r[5])-1;if(n)return H6(t,l,c)?B6(t,l,c):new Date(NaN);{const u=new Date(0);return!W6(t,o,a)||!q6(t,s)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(s,a)),u)}}function Hl(e){return e?parseInt(e):1}function z6(e){const t=e.match(A6);if(!t)return NaN;const r=vp(t[1]),n=vp(t[2]),s=vp(t[3]);return K6(r,n,s)?r*Wk+n*Vk+s*1e3:NaN}function vp(e){return e&&parseFloat(e.replace(",","."))||0}function U6(e){if(e==="Z")return 0;const t=e.match(I6);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return G6(n,s)?r*(n*Wk+s*Vk):NaN}function B6(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,o=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const V6=[31,null,31,30,31,30,31,31,30,31,30,31];function Jk(e){return e%400===0||e%4===0&&e%100!==0}function W6(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(V6[t]||(Jk(e)?29:28))}function q6(e,t){return t>=1&&t<=(Jk(e)?366:365)}function H6(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function K6(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function G6(e,t){return t>=0&&t<=59}function yp(e,t){const r=fe(e),n=r.getFullYear(),s=r.getDate(),o=Sr(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const a=P6(o);return r.setMonth(t,Math.min(s,a)),r}function Fb(e,t){const r=fe(e);return isNaN(+r)?Sr(e,NaN):(r.setFullYear(t),r)}function Af(e,t){return en(e,-t)}function Y6(e,t){return Hk(e,-t)}function Q6({transactions:e}){const t=m.useMemo(()=>{if(!e||e.length===0)return{totalDinheiroReceita:0,totalPixReceita:0,totalFaturado:0,totalLucros:0,totalGastos:0,totalGastosDinheiro:0,totalGastosPix:0,totalPendentes:0,totalAcumulado:0};const r=e.filter(d=>d.payment_method==="cash"&&d.payment_status==="confirmed"&&d.type==="income").reduce((d,h)=>d+h.amount,0),n=e.filter(d=>d.payment_method==="pix"&&d.payment_status==="confirmed"&&d.type==="income").reduce((d,h)=>d+h.amount,0),s=e.filter(d=>d.payment_method==="invoice"&&d.payment_status==="confirmed"&&d.type==="income").reduce((d,h)=>d+h.amount,0),o=e.filter(d=>d.type==="income"&&d.payment_status==="confirmed").reduce((d,h)=>d+h.amount,0),a=e.filter(d=>d.type==="expense"&&d.payment_status==="confirmed").reduce((d,h)=>d+h.amount,0),l=e.filter(d=>d.payment_method==="cash"&&d.payment_status==="confirmed"&&d.type==="expense").reduce((d,h)=>d+h.amount,0),c=e.filter(d=>d.payment_method==="pix"&&d.payment_status==="confirmed"&&d.type==="expense").reduce((d,h)=>d+h.amount,0),u=e.filter(d=>d.payment_status==="pending"&&d.type==="income").reduce((d,h)=>d+h.amount,0),f=o+a;return{totalDinheiroReceita:r,totalPixReceita:n,totalFaturado:s,totalLucros:o,totalGastos:a,totalGastosDinheiro:l,totalGastosPix:c,totalPendentes:u,totalAcumulado:f}},[e]);return i.jsxs("div",{className:"w-full h-full flex flex-col bg-background text-foreground p-6 rounded-xl shadow-md",children:[i.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Resumo Financeiro"}),i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-muted rounded-lg p-4 flex flex-col",children:[i.jsx("h3",{className:"text-base font-medium text-muted-foreground mb-4",children:"Receitas"}),i.jsxs("ul",{className:"space-y-4 flex-1",children:[i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Dinheiro"}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",t.totalDinheiroReceita.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Pix"}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",t.totalPixReceita.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Faturado"}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",t.totalFaturado.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Pendentes"}),i.jsxs("span",{className:"font-semibold text-yellow-600 dark:text-yellow-400",children:["R$ ",t.totalPendentes.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center pt-4 border-t border-border",children:[i.jsx("span",{className:"font-medium",children:"Total de Lucros"}),i.jsxs("span",{className:"font-semibold text-green-700 dark:text-green-300",children:["R$ ",t.totalLucros.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"bg-muted rounded-lg p-4 flex flex-col",children:[i.jsx("h3",{className:"text-base font-medium text-muted-foreground mb-4",children:"Gastos"}),i.jsxs("ul",{className:"space-y-4 flex-1",children:[i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Dinheiro"}),i.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:["R$ ",t.totalGastosDinheiro.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Pix"}),i.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:["R$ ",t.totalGastosPix.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center pt-4 border-t border-border",children:[i.jsx("span",{className:"font-medium",children:"Total de Gastos"}),i.jsxs("span",{className:"font-semibold text-red-700 dark:text-red-300",children:["R$ ",t.totalGastos.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"bg-muted rounded-lg p-4 flex flex-col justify-center items-center",children:[i.jsx("h3",{className:"text-base font-medium text-muted-foreground mb-4",children:"Total"}),i.jsxs("span",{className:`text-3xl font-bold ${t.totalAcumulado>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["R$ ",t.totalAcumulado.toFixed(2)]})]})]})]})}const Z6={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},X6=(e,t,r)=>{let n;const s=Z6[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},J6={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},ez={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},tz={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rz={date:bi({formats:J6,defaultWidth:"full"}),time:bi({formats:ez,defaultWidth:"full"}),dateTime:bi({formats:tz,defaultWidth:"full"})},nz={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},sz=(e,t,r,n)=>{const s=nz[e];return typeof s=="function"?s(t):s},oz={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},az={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},iz={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},lz={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},cz={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},uz={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},dz=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},fz={ordinalNumber:dz,era:Bn({values:oz,defaultWidth:"wide"}),quarter:Bn({values:az,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bn({values:iz,defaultWidth:"wide"}),day:Bn({values:lz,defaultWidth:"wide"}),dayPeriod:Bn({values:cz,defaultWidth:"wide",formattingValues:uz,defaultFormattingWidth:"wide"})},hz=/^(\d+)[o]?/i,mz=/\d+/i,pz={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},gz={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},vz={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},yz={any:[/1/i,/2/i,/3/i,/4/i]},xz={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},wz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},bz={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},_z={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Sz={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Cz={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},jz={ordinalNumber:Gk({matchPattern:hz,parsePattern:mz,valueCallback:e=>parseInt(e,10)}),era:Vn({matchPatterns:pz,defaultMatchWidth:"wide",parsePatterns:gz,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:vz,defaultMatchWidth:"wide",parsePatterns:yz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vn({matchPatterns:xz,defaultMatchWidth:"wide",parsePatterns:wz,defaultParseWidth:"any"}),day:Vn({matchPatterns:bz,defaultMatchWidth:"wide",parsePatterns:_z,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:Sz,defaultMatchWidth:"any",parsePatterns:Cz,defaultParseWidth:"any"})},ct={code:"pt-BR",formatDistance:X6,formatLong:rz,formatRelative:sz,localize:fz,match:jz,options:{weekStartsOn:0,firstWeekContainsDate:1}},Nz=Oa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zc({className:e,variant:t,...r}){return i.jsx("div",{className:U(Nz({variant:t}),e),...r})}function kz({transaction:e,isSelected:t=!1,onToggleSelection:r,onOpenConfirmDialog:n,showSelection:s=!1}){var f;const o=d=>d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),a=d=>{switch(d){case"confirmed":return i.jsx(Cf,{className:"h-4 w-4 text-green-500"});case"pending":return i.jsx($h,{className:"h-4 w-4 text-yellow-500"});case"failed":return i.jsx(xu,{className:"h-4 w-4 text-red-500"});default:return null}},l=d=>{switch(d){case"income":return"text-green-600";case"expense":return"text-red-600";case"investment":return"text-blue-600";default:return"text-foreground"}},c=d=>{switch(d){case"income":return"Receita";case"expense":return"Despesa";case"investment":return"Investimento";default:return d}},u=e.payment_status==="pending"&&e.payment_method!=="invoice"&&e.type!=="investment";return i.jsxs("div",{className:U("flex items-center justify-between p-4 border-l-4 rounded-lg bg-card hover:bg-accent/50 transition-colors",e.type==="investment"?"border-l-blue-500 bg-blue-50/50":e.type==="income"?"border-l-green-500":"border-l-red-500",t&&"bg-accent"),children:[i.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[s&&u&&i.jsx(Ia,{checked:t,onCheckedChange:()=>r==null?void 0:r(e.id)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.type==="investment"&&i.jsx(vi,{className:"h-4 w-4 text-blue-500"}),i.jsx("p",{className:"text-sm font-medium truncate",children:e.description}),i.jsx(Zc,{variant:"outline",className:"text-xs",children:c(e.type)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a(e.payment_status),i.jsx("span",{children:e.payment_method}),((f=e.client)==null?void 0:f.name)&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{children:e.client.name})]})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:U("font-semibold",l(e.type)),children:o(Math.abs(e.amount))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Se(new Date(e.date),"dd/MM",{locale:ct})})]}),e.payment_status==="pending"&&e.payment_method!=="invoice"&&e.type!=="investment"&&i.jsx(Q,{size:"sm",variant:"outline",onClick:()=>n==null?void 0:n([e.id]),className:"ml-2",children:"Confirmar"})]})}function Ez({transactions:e,isLoading:t,selectedTransactions:r,onSelectTransaction:n,onOpenConfirmDialog:s}){if(t)return i.jsx("p",{className:"text-muted-foreground dark:text-gray-400",children:"Carregando..."});if(e.length===0)return i.jsx("p",{className:"text-center text-muted-foreground py-8 dark:text-gray-400",children:"Nenhuma transao para o perodo selecionado."});const o=a=>{const l=e.find(c=>c.id===a);if(l){const c=l.payment_status==="pending"&&l.payment_method!=="invoice"&&l.type!=="investment";n(a,c)}};return i.jsx("div",{className:"space-y-2",children:e.map(a=>i.jsx(kz,{transaction:a,isSelected:r.includes(a.id),onToggleSelection:o,onOpenConfirmDialog:s,showSelection:!0},a.id))})}var eE="AlertDialog",[Pz,vK]=jr(eE,[oN]),zs=oN(),tE=e=>{const{__scopeAlertDialog:t,...r}=e,n=zs(t);return i.jsx(Bh,{...n,...r,modal:!0})};tE.displayName=eE;var Tz="AlertDialogTrigger",Rz=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zs(r);return i.jsx(Vh,{...s,...n,ref:t})});Rz.displayName=Tz;var Mz="AlertDialogPortal",rE=e=>{const{__scopeAlertDialog:t,...r}=e,n=zs(t);return i.jsx(Wh,{...n,...r})};rE.displayName=Mz;var Dz="AlertDialogOverlay",nE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zs(r);return i.jsx(pl,{...s,...n,ref:t})});nE.displayName=Dz;var Si="AlertDialogContent",[Oz,Az]=Pz(Si),sE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=zs(r),a=m.useRef(null),l=ye(t,a),c=m.useRef(null);return i.jsx(a$,{contentName:Si,titleName:oE,docsSlug:"alert-dialog",children:i.jsx(Oz,{scope:r,cancelRef:c,children:i.jsxs(gl,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:V(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(Uy,{children:n}),i.jsx(Lz,{contentRef:a})]})})})});sE.displayName=Si;var oE="AlertDialogTitle",aE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zs(r);return i.jsx(vl,{...s,...n,ref:t})});aE.displayName=oE;var iE="AlertDialogDescription",lE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zs(r);return i.jsx(yl,{...s,...n,ref:t})});lE.displayName=iE;var Iz="AlertDialogAction",cE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zs(r);return i.jsx(Su,{...s,...n,ref:t})});cE.displayName=Iz;var uE="AlertDialogCancel",dE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=Az(uE,r),o=zs(r),a=ye(t,s);return i.jsx(Su,{...o,...n,ref:a})});dE.displayName=uE;var Lz=({contentRef:e})=>{const t=`\`${Si}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Si}\` by passing a \`${iE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Si}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$z=tE,Fz=rE,fE=nE,hE=sE,mE=cE,pE=dE,gE=aE,vE=lE;const ku=$z,zz=Fz,yE=m.forwardRef(({className:e,...t},r)=>i.jsx(fE,{className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));yE.displayName=fE.displayName;const jl=m.forwardRef(({className:e,...t},r)=>i.jsxs(zz,{children:[i.jsx(yE,{}),i.jsx(hE,{ref:r,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));jl.displayName=hE.displayName;const Nl=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col space-y-2 text-center sm:text-left",e),...t});Nl.displayName="AlertDialogHeader";const kl=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kl.displayName="AlertDialogFooter";const El=m.forwardRef(({className:e,...t},r)=>i.jsx(gE,{ref:r,className:U("text-lg font-semibold",e),...t}));El.displayName=gE.displayName;const Pl=m.forwardRef(({className:e,...t},r)=>i.jsx(vE,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));Pl.displayName=vE.displayName;const Tl=m.forwardRef(({className:e,...t},r)=>i.jsx(mE,{ref:r,className:U(Gc(),e),...t}));Tl.displayName=mE.displayName;const Rl=m.forwardRef(({className:e,...t},r)=>i.jsx(pE,{ref:r,className:U(Gc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Rl.displayName=pE.displayName;function xE({open:e,onOpenChange:t,onConfirm:r,count:n}){return i.jsx(ku,{open:e,onOpenChange:t,children:i.jsxs(jl,{className:"bg-card dark:bg-gray-800",children:[i.jsxs(Nl,{children:[i.jsx(El,{className:"text-card-foreground dark:text-gray-200",children:"Confirmar Pagamento(s)"}),i.jsxs(Pl,{className:"dark:text-gray-400",children:["Deseja confirmar o recebimento de ",n," pagamento(s)?"]})]}),i.jsxs(kl,{children:[i.jsx(Rl,{className:"dark:text-gray-200 dark:hover:bg-gray-700",children:"Cancelar"}),i.jsx(Tl,{onClick:r,className:"bg-green-600 text-white hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600",children:"Confirmar Pagamento(s)"})]})]})})}function Uz({searchTerm:e,onSearchTermChange:t,viewMode:r,onToggleViewMode:n}){return i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4 items-center",children:[i.jsxs("div",{className:"relative w-full sm:w-1/2",children:[i.jsx(Nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ae,{type:"text",placeholder:"Pesquisar transaes...",value:e,onChange:s=>t(s.target.value),className:"pl-10"})]}),i.jsx(Q,{variant:"outline",onClick:n,className:"w-full sm:w-auto",children:r==="list"?i.jsxs(i.Fragment,{children:[i.jsx(JL,{className:"mr-2 h-4 w-4"}),"Ver como Tabela"]}):i.jsxs(i.Fragment,{children:[i.jsx(AL,{className:"mr-2 h-4 w-4"}),"Ver como Lista"]})})]})}function Bz({selectedTransactions:e,hasSelectablePending:t,isLoading:r,onSelectAllPending:n,onClearSelection:s,onConfirmSelected:o}){return i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-4",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Q,{variant:"outline",size:"sm",onClick:n,disabled:r||!t,children:"Selecionar Pendentes"}),e.length>0&&i.jsxs(i.Fragment,{children:[i.jsxs(Q,{variant:"outline",size:"sm",onClick:s,children:[i.jsx(wu,{className:"mr-1 h-4 w-4"}),"Limpar Seleo"]}),i.jsxs(Q,{variant:"default",size:"sm",onClick:o,children:[i.jsx(Lh,{className:"mr-1 h-4 w-4"}),"Confirmar Selecionados (",e.length,")"]})]})]})})}const wE=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:U("w-full caption-bottom text-sm",e),...t})}));wE.displayName="Table";const bE=m.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:U("[&_tr]:border-b",e),...t}));bE.displayName="TableHeader";const Vd=m.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:U("[&_tr:last-child]:border-0",e),...t}));Vd.displayName="TableBody";const Vz=m.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:U("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Vz.displayName="TableFooter";const Xc=m.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:U("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Xc.displayName="TableRow";const ms=m.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:U("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ms.displayName="TableHead";const un=m.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:U("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));un.displayName="TableCell";const Wz=m.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:U("mt-4 text-sm text-muted-foreground",e),...t}));Wz.displayName="TableCaption";const xp=768;function Ml(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${xp-1}px)`),n=()=>{t(window.innerWidth<xp)};return r.addEventListener("change",n),t(window.innerWidth<xp),()=>r.removeEventListener("change",n)},[]),!!e}function qz(){const e=Ml();return i.jsx(bE,{children:i.jsxs(Xc,{children:[i.jsx(ms,{className:"w-[40px]"}),i.jsx(ms,{className:"w-[40px]"}),i.jsx(ms,{children:"Cliente"}),!e&&i.jsx(ms,{children:"Descrio"}),i.jsx(ms,{children:"Data"}),!e&&i.jsx(ms,{children:"Ao"}),i.jsx(ms,{children:"Status"}),i.jsx(ms,{children:"Valor"})]})})}function Hz({transaction:e,isSelected:t,onSelectTransaction:r,onOpenConfirmDialog:n}){var s;return i.jsxs(Xc,{children:[i.jsx(un,{children:i.jsx(Ia,{checked:t,onCheckedChange:()=>r(e.id),disabled:e.payment_status!=="pending"||e.payment_method==="invoice"})}),i.jsx(un,{children:e.amount>=0?i.jsx(Ih,{className:"h-4 w-4 text-green-500"}):i.jsx(Ah,{className:"h-4 w-4 text-red-500"})}),i.jsx(un,{children:((s=e.client)==null?void 0:s.name)||"-"}),i.jsx(un,{children:e.description||"-"}),i.jsx(un,{children:Se(new Date(e.date),"dd/MM/yyyy",{locale:ct})}),i.jsx(un,{children:e.payment_status==="pending"&&e.payment_method!=="invoice"&&i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>n([e.id]),children:"Confirmar"})}),i.jsx(un,{children:i.jsx("span",{className:e.payment_status==="pending"?"text-yellow-500":"text-green-500",children:e.payment_status==="pending"?"Pendente":"Confirmado"})}),i.jsx(un,{children:e.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},e.id)}function Kz({transactions:e,isLoading:t,selectedTransactions:r,onSelectTransaction:n,onOpenConfirmDialog:s}){return t?i.jsx(Vd,{children:i.jsx(Xc,{children:i.jsx(un,{colSpan:8,className:"text-center",children:"Carregando..."})})}):e.length===0?i.jsx(Vd,{children:i.jsx(Xc,{children:i.jsx(un,{colSpan:8,className:"text-center",children:"Nenhuma transao encontrada"})})}):i.jsx(Vd,{children:e.map(o=>i.jsx(Hz,{transaction:o,isSelected:r.includes(o.id),onSelectTransaction:n,onOpenConfirmDialog:s},o.id))})}function Gz({transactions:e,isLoading:t,selectedTransactions:r,onSelectTransaction:n,onOpenConfirmDialog:s}){return Ml(),i.jsx("div",{className:"w-full overflow-x-auto",children:i.jsxs(wE,{className:"min-w-full",children:[i.jsx(qz,{}),i.jsx(Kz,{transactions:e,isLoading:t,selectedTransactions:r,onSelectTransaction:n,onOpenConfirmDialog:s})]})})}function Yz(e){const[t,r]=m.useState("list"),{toast:n}=Bt();m.useEffect(()=>{(async()=>{if(e)try{const{data:l,error:c}=await L.from("profiles").select("view_mode").eq("id",e).single();if(c){console.error("Erro ao carregar view_mode:",c);return}l&&l.view_mode&&r(l.view_mode)}catch(l){console.error("Erro ao buscar view_mode:",l)}})()},[e]);const s=async a=>{if(e)try{const{error:l}=await L.from("profiles").update({view_mode:a}).eq("id",e);l&&(n({title:"Erro",description:"Falha ao salvar preferncia de visualizao.",variant:"destructive"}),console.error("Erro ao salvar view_mode:",l))}catch(l){console.error("Erro ao atualizar view_mode:",l)}};return{viewMode:t,toggleViewMode:()=>{const a=t==="list"?"table":"list";return r(a),s(a),a}}}const Qz=({startDate:e,endDate:t})=>{const{user:r}=Ne(),{toast:n}=Bt(),s=Qe(),[o,a]=m.useState(!1),[l,c]=m.useState([]),[u,f]=m.useState(""),{viewMode:d,toggleViewMode:h}=Yz(r==null?void 0:r.id),p=Se(e||new Date,"yyyy-MM-dd'T00:00:00.000Z'"),g=Se(t||new Date,"yyyy-MM-dd'T23:59:59.999Z'"),{data:v,isLoading:w}=Tt({queryKey:["recent-transactions",r==null?void 0:r.id,p,g],queryFn:async()=>{if(!r||!p||!g)return[];const{data:N,error:k}=await L.from("transactions").select("*, client:clients(name)").eq("user_id",r.id).gte("date",p).lte("date",g).order("payment_status",{ascending:!1}).order("date",{ascending:!1});if(k)throw k;return N||[]},enabled:!!r&&!!p&&!!g}),y=async()=>{if(l.length!==0)try{await L.from("transactions").update({payment_status:"confirmed"}).in("id",l).eq("user_id",(r==null?void 0:r.id)||""),n({title:"Pagamentos Confirmados",description:"Os pagamentos foram atualizados."}),s.invalidateQueries({queryKey:["recent-transactions"]}),c([]),a(!1)}catch{n({title:"Erro",description:"Falha ao confirmar pagamentos.",variant:"destructive"})}},x=N=>{const k=j.find(R=>R.id===N);!k||k.payment_status!=="pending"||k.payment_method==="invoice"||c(R=>R.includes(N)?R.filter(O=>O!==N):[...R,N])},b=N=>{N&&c(N.filter(k=>{const R=v==null?void 0:v.find(O=>O.id===k);return(R==null?void 0:R.payment_status)==="pending"&&(R==null?void 0:R.payment_method)!=="invoice"})),(l.length>0||N&&N.length>0)&&a(!0)},_=()=>{const k=(v||[]).filter(R=>R.payment_status==="pending"&&R.payment_method!=="invoice").map(R=>R.id);c(k)},S=()=>{c([])},j=(v||[]).filter(N=>{var R,O;return(((R=N.client)==null?void 0:R.name)||"").toLowerCase().includes(u.toLowerCase())||N.id.toLowerCase().includes(u.toLowerCase())||((O=N.description)==null?void 0:O.toLowerCase().includes(u.toLowerCase()))||N.amount.toString().includes(u)}),C=(v||[]).some(N=>N.payment_status==="pending"&&N.payment_method!=="invoice");return i.jsxs(Mt,{className:"rounded-xl border-border bg-card text-card-foreground",children:[i.jsx(Ar,{children:i.jsx(Ir,{children:"Transaes"})}),i.jsxs(Lt,{className:"space-y-6",children:[i.jsx(Uz,{searchTerm:u,onSearchTermChange:f,viewMode:d,onToggleViewMode:h}),i.jsxs("div",{children:[i.jsx(Bz,{selectedTransactions:l,hasSelectablePending:C,isLoading:w,onSelectAllPending:_,onClearSelection:S,onConfirmSelected:()=>b()}),d==="list"?i.jsx(Ez,{transactions:j,isLoading:w,selectedTransactions:l,onSelectTransaction:x,onOpenConfirmDialog:b}):i.jsx(Gz,{transactions:j,isLoading:w,selectedTransactions:l,onSelectTransaction:x,onOpenConfirmDialog:b})]}),i.jsx(Q6,{transactions:j})]}),i.jsx(xE,{open:o,onOpenChange:a,onConfirm:y,count:l.length})]})};function Zz(e){const[t,r]=m.useState(!0),[n,s]=m.useState(null),[o,a]=m.useState(!1),l=()=>{r(!1),a(!0)};return m.useEffect(()=>{if(!document){const d=new Error(`[ScriptLoadingError] document not defined when attempting to load ${e}`);s(d);return}const c=document.querySelector(`script[src="${e}"]`);if(c!=null&&c.dataset.loaded){l();return}const u=c||document.createElement("script");c||(u.src=e);const f=()=>{u.dataset.loaded="1",l()};u.addEventListener("load",f),u.addEventListener("error",d=>{console.error("Failed to load script:",e,d);const h=new Error(`[ScriptLoadingError] Failed to load script: ${e}`);s(h)}),c||document.head.append(u)},[]),{isLoading:t,error:n,isSuccess:o}}const Xz=e=>e&&e.charts,zb=(e,t)=>{const{controls:r,toolbarItems:n,getChartEditor:s}=e;return t&&t.charts&&t.visualization&&t.visualization.ChartWrapper&&t.visualization.Dashboard&&(!r||t.visualization.ChartWrapper)&&(!s||t.visualization.ChartEditor)&&(!n||t.visualization.drawToolbar)},Jz=e=>window.google;function eU(e){const{chartVersion:t="current",chartPackages:r=["corechart","controls"],chartLanguage:n="en",mapsApiKey:s}=e,[o,a]=m.useState(null),[l,c]=m.useState(null),[u,f]=m.useState(null),{isLoading:d,error:h,isSuccess:p}=Zz(e.chartLoaderScriptUrl||"https://www.gstatic.com/charts/loader.js");return m.useEffect(()=>{if(!p)return;const g=Jz();if(!Xz(g)){const v=new Error("[ScriptInitializationError] Script loaded but Google not attached to window.");c(v);return}if(zb(e,g)){a(g);return}g.charts.load(t,{packages:r,language:n,mapsApiKey:s}),g.charts.setOnLoadCallback(()=>{if(!zb(e,g)){const v=new Error("[GoogleChartsInitializationError] Google Charts not ready after load callback.");console.error(v),f(v);return}a(g)})},[p]),{error:h||l||u,isLoading:d,google:o}}const _E={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},chartLoaderScriptUrl:"https://www.gstatic.com/charts/loader.js"},tU=e=>{const{isReady:t,chartControls:r,filter:n}=e;return!t||!r||!(r!=null&&r.length)?null:G.createElement(G.Fragment,null,r.filter(s=>{let{controlProp:o,control:a}=s;return n?n({control:a,controlProp:o}):!0}).map(s=>{let{control:o}=s;return G.createElement("div",{key:o.getContainerId(),id:o.getContainerId()})}))};let Ub=0;const SE=()=>(Ub+=1,`reactgooglegraph-${Ub}`),Mn=class Mn{};cr(Mn,"initializeControls",t=>{for(let r=0;r<t.length;r+=1){const{controlType:n,options:s,controlWrapperParams:o}=t[r].controlProp;o&&"state"in o&&t[r].control.setState(o.state),t[r].control.setOptions(s),t[r].control.setControlType(n)}}),cr(Mn,"listenToControlEvents",(t,r)=>{const{google:n}=r;return t.flatMap(s=>{const{control:o,controlProp:a}=s,{controlEvents:l=[]}=a;return l.map(c=>{const{callback:u,eventName:f}=c;return n.visualization.events.addListener(o,f,function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];u({chartWrapper:null,controlWrapper:o,props:r,google:n,eventArgs:h})})})})}),cr(Mn,"createControlId",t=>{let r;return typeof t>"u"?r=`googlechart-control-${SE()}`:r=t,r}),cr(Mn,"createChartControls",t=>{const{controls:r,google:n}=t;return r?r.map((s,o)=>{const{controlID:a,controlType:l,options:c,controlWrapperParams:u}=s,f=Mn.createControlId(a);return{controlProp:s,control:new n.visualization.ControlWrapper({containerId:f,controlType:l,options:c,...u})}}):null}),cr(Mn,"addControls",t=>{const{chartWrapper:r,chartDashboard:n}=t,s=Mn.createChartControls(t);return!s||!n||!r?null:(n.bind(s.map(o=>{let{control:a}=o;return a}),r),Mn.initializeControls(s),s)});let If=Mn;const rU=e=>{const[t,r]=m.useState(null);return[m.useMemo(()=>!t||!e?null:e.map((s,o)=>{const a=t[o];return a?{controlProp:s,control:a}:void 0}).flatMap(s=>s?[s]:[]),[t,e]),r]},nU=(e,t)=>{m.useEffect(()=>{const r=If.listenToControlEvents(e??[],t);return()=>{r.forEach(n=>{t.google.visualization.events.removeListener(n)})}},[e,t])},sU=e=>{const[t,r]=rU(e.controls);return nU(t??[],e),{addControls:s=>{const o=If.addControls(s);r((o==null?void 0:o.map(a=>a.control))??null)},renderControl:s=>{const{chartWrapper:o,chartDashboard:a}=e;return m.createElement(tU,{...e,isReady:!!(o&&a),chartControls:t,filter:s})}}},oU=e=>{const t=m.useRef(null);return{chartId:(()=>{const{graphID:s,graph_id:o}=e,a=s||o;let l;return a?l=a:l=t.current||SE(),t.current=l,t.current})()}},aU=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],iU=async function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((n,s)=>{const o=`${r.headers?`headers=${r.headers}`:"headers=0"}`,a=`${r.query?`&tq=${encodeURIComponent(r.query)}`:""}`,l=`${r.gid?`&gid=${r.gid}`:""}`,c=`${r.sheet?`&sheet=${r.sheet}`:""}`,u=`${r.access_token?`&access_token=${r.access_token}`:""}`,f=`${o}${l}${c}${a}${u}`,d=`${t}/gviz/tq?${f}`;new e.visualization.Query(d).send(p=>{p.isError()?s(`Error in query:  ${p.getMessage()} ${p.getDetailedMessage()}`):n(p.getDataTable())})})},lU="#CCCCCC",Ur=class Ur{};cr(Ur,"grayOutHiddenColumnsLabel",(t,r)=>{const{googleChartWrapper:n,options:s}=t;if(!n){console.error("googleChartWrapper is not defined");return}const o=n.getDataTable();if(!o)return;const a=o.getNumberOfColumns();if(r.length>0===!1)return;const c=Array.from({length:a-1}).map((u,f)=>{const d=Ur.getColumnId(o,f+1);return r.includes(d)?lU:s&&s.colors?s.colors[f]:aU[f]});n.setOptions({...s,colors:c}),n.draw()}),cr(Ur,"listenToLegendToggle",(t,r)=>{const[n,s]=r,{google:o,googleChartWrapper:a}=t;if(!a){console.error("googleChartWrapper is not defined");return}return o.visualization.events.addListener(a,"select",()=>{const c=a.getChart().getSelection(),u=a.getDataTable();if(c.length===0||c[0].row!==null||!u)return;const f=c[0].column,d=Ur.getColumnId(u,f);n!=null&&n.includes(d)?s(h=>[...h.filter(p=>p!==d)]):s(h=>[...h,d])})}),cr(Ur,"draw",async t=>{const{data:r,diffdata:n,rows:s,columns:o,options:a,chartType:l,formatters:c,spreadSheetUrl:u,spreadSheetQueryParameters:f,googleChartDashboard:d,googleChartWrapper:h,google:p,hiddenColumns:g,legendToggle:v,legend_toggle:w}=t;if(!h){console.error("draw was called with googleChartWrapper = null");return}let y,x=null;if(n){const C=p.visualization.arrayToDataTable(n.old),N=p.visualization.arrayToDataTable(n.new);x=p.visualization[l].prototype.computeDiff(C,N)}r?r instanceof p.visualization.DataTable?y=r:Array.isArray(r)?y=p.visualization.arrayToDataTable(r):y=new p.visualization.DataTable(r):s&&o?y=p.visualization.arrayToDataTable([o,...s]):u?y=await iU(p,u,f):y=p.visualization.arrayToDataTable([]);const b=y.getNumberOfColumns(),_=Array(b).fill(0).map((C,N)=>{const k=Ur.getColumnId(y,N);return g.includes(k)?{label:y.getColumnLabel(N),type:y.getColumnType(N),calc:()=>null}:N}),S=h.getChart();h.getChartType()==="Timeline"&&S&&S.clearChart(),h.setChartType(l),h.setOptions(a||{});const j=new p.visualization.DataView(y);j.setColumns(_),h.setDataTable(j),h.draw(),d&&d.draw(y),x&&(h.setDataTable(x),h.draw()),c&&(Ur.applyFormatters({dataTable:y,formatters:c,google:p}),h.setDataTable(y),h.draw()),(v===!0||w===!0)&&Ur.grayOutHiddenColumnsLabel(t,g)}),cr(Ur,"getColumnId",(t,r)=>t.getColumnId(r)||t.getColumnLabel(r)),cr(Ur,"applyFormatters",t=>{let{dataTable:r,formatters:n,google:s}=t;for(let o of n)switch(o.type){case"ArrowFormat":{new s.visualization.ArrowFormat(o.options).format(r,o.column);return}case"BarFormat":{new s.visualization.BarFormat(o.options).format(r,o.column);return}case"ColorFormat":{const a=new s.visualization.ColorFormat(o.options),{ranges:l}=o;if(l)for(let c of l)a.addRange(...c);a.format(r,o.column);return}case"DateFormat":{new s.visualization.DateFormat(o.options).format(r,o.column);return}case"NumberFormat":{new s.visualization.NumberFormat(o.options).format(r,o.column);return}case"PatternFormat":{new s.visualization.PatternFormat(o.options).format(r,o.column);return}default:{console.warn(`Unknown formatter type: ${o.type}`);return}}});let _c=Ur;const cU=e=>{const{google:t,googleChartWrapper:r,googleChartDashboard:n}=e,[s,o]=m.useState([]);m.useEffect(()=>{r&&_c.draw({...e,hiddenColumns:s,googleChartWrapper:r,googleChartDashboard:n,google:t})},[s,e.data,e.rows,e.columns,e.options,e.chartLoaderScriptUrl,e.chartType,e.formatters,e.spreadSheetUrl,e.spreadSheetQueryParameters,e.legendToggle,e.legend_toggle]);const a=()=>{const{googleChartWrapper:u}=e;u&&u.draw()},l=u=>{const f=[],{legendToggle:d,legend_toggle:h}=e;if(_c.draw({...e,hiddenColumns:s,googleChartWrapper:u,googleChartDashboard:n,google:t}),window.addEventListener("resize",a),h||d){const p=_c.listenToLegendToggle(e,[s,o]);p&&f.push(p)}return f},c=(u,f)=>{window.removeEventListener("resize",a),f.forEach(d=>{t.visualization.events.removeListener(d)}),u.getChartType()==="Timeline"&&u.getChart()&&u.getChart().clearChart()};m.useEffect(()=>{if(!r)return;const u=l(r);return()=>{c(r,u)}},[r,l,c])},uU=e=>{const{chartEvents:t,google:r,googleChartWrapper:n}=e;if(t){if(!n){console.warn("listenToEvents was called before chart wrapper ready.");return}return t.map(s=>{let{eventName:o,callback:a}=s;return r.visualization.events.addListener(n,o,function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];a({chartWrapper:n,props:e,google:r,eventArgs:c})})})}},dU=e=>{m.useEffect(()=>{if(!e.googleChartWrapper)return;const t=uU(e);return()=>{t==null||t.forEach(r=>{e.google.visualization.events.removeListener(r)})}},[e])},fU=e=>{const[t,r]=m.useState(null),[n,s]=m.useState(null),{addControls:o,renderControl:a}=sU({...e,chartDashboard:n,chartWrapper:t});dU({...e,googleChartWrapper:t});const{chartId:l}=oU(e),c=m.useRef(null),u=m.useRef(null);m.useEffect(()=>{const{options:y,google:x,chartType:b,chartWrapperParams:_,toolbarItems:S,getChartEditor:j,getChartWrapper:C,onLoad:N}=e,k={chartType:b,options:y,containerId:l,..._},R=new x.visualization.ChartWrapper(k);R.setOptions(y||{}),C==null||C(R,x);const O=new x.visualization.Dashboard(c.current);S&&x.visualization.drawToolbar(u.current,S);let M=null;j&&(M=new x.visualization.ChartEditor,j({chartEditor:M,chartWrapper:R,google:x})),o({...e,chartDashboard:O,chartWrapper:R}),r(R),s(O),N==null||N(x,{google:x,chartWrapper:R,chartEditor:M,chartDashboard:O})},[]),cU({...e,googleChartWrapper:t,googleChartDashboard:n});const f=()=>{const{width:y,height:x,options:b,style:_,className:S,rootProps:j,google:C}=e,N={height:x||b&&b.height,width:y||b&&b.width,..._};return m.createElement("div",{id:l,style:N,className:S,...j})},d=()=>e.toolbarItems?m.createElement("div",{ref:u}):null,{width:h,height:p,options:g,style:v}=e,w={height:p||g&&g.height,width:h||g&&g.width,...v};return e.render?m.createElement("div",{ref:c,style:w},m.createElement("div",{ref:u,id:"toolbar"}),e.render({renderChart:f,renderControl:a,renderToolbar:d})):m.createElement("div",{ref:c,style:w},a(y=>{let{controlProp:x}=y;return x.controlPosition!=="bottom"}),f(),a(y=>{let{controlProp:x}=y;return x.controlPosition==="bottom"}),d())},hU=m.createContext(_E),mU=e=>{let{children:t,value:r}=e;return m.createElement(hU.Provider,{value:r},t)},pU=e=>{const{google:t,isLoading:r,error:n}=eU(e);return r?e.loader??null:n?e.errorElement??null:t?G.createElement(fU,{google:t,...e}):null},gU=e=>{const t={..._E,...e};return G.createElement(mU,{value:t},G.createElement(pU,t))};var Bb;(function(e){e.annotation="annotation",e.annotationText="annotationText",e.certainty="certainty",e.emphasis="emphasis",e.interval="interval",e.scope="scope",e.style="style",e.tooltip="tooltip",e.domain="domain"})(Bb||(Bb={}));function vU({transactions:e,chartType:t,timeRange:r,isLoading:n}){const s=m.useMemo(()=>{if(!e||e.length===0)return[["Data","Menor","Abertura","Fechamento","Maior"]];let o=0;const a=[];return r==="individual"?[["Data","Menor","Abertura","Fechamento","Maior"],...e.map(l=>{const c=Se($n(l.date),"dd/MM",{locale:ct}),u=o,f=o+l.amount,d=Math.min(u,f),h=Math.max(u,f);return o=f,[c,d,u,f,h]})]:(e.forEach(l=>{let c;switch(r){case"daily":c=Se(Yt($n(l.date)),"dd/MM",{locale:ct});break;case"weekly":c=Se(Cn($n(l.date),{locale:ct}),"dd/MM/yyyy",{locale:ct});break;case"monthly":c=Se(zt($n(l.date)),"MM/yyyy",{locale:ct});break;case"yearly":c=Se(gx($n(l.date)),"yyyy",{locale:ct});break;default:c=Se($n(l.date),"dd/MM",{locale:ct})}const u=a.find(f=>f.date===c);u?u.amount+=l.amount:a.push({date:c,amount:l.amount})}),t==="CandlestickChart"?[["Data","Menor","Abertura","Fechamento","Maior"],...a.map(l=>{const c=o,u=o+l.amount,f=Math.min(c,u),d=Math.max(c,u);return o=u,[l.date,f,c,u,d]})]:[["Data","Valor"],...a.map(l=>[l.date,l.amount])])},[e,t,r]);return n?i.jsx("div",{className:"w-full h-full bg-gray-100 animate-pulse rounded-lg"}):e.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8 dark:text-gray-400",children:"Nenhuma transao confirmada registrada neste perodo."}):i.jsx(gU,{width:"100%",height:"100%",chartType:t,loader:i.jsx("div",{children:"Carregando Grfico..."}),data:s,options:{legend:"none",candlestick:{fallingColor:{strokeWidth:0,fill:"#ef4444"},risingColor:{strokeWidth:0,fill:"#22c55e"}},vAxis:{title:"Valor Acumulado (R$)",format:"decimal"},hAxis:{title:"Data"},backgroundColor:"transparent",chartArea:{width:"80%",height:"80%"}}})}function yU(e,t){return m.useMemo(()=>{if(!e||!t)return"todas as transaes";const r=Se(e,"dd/MM/yyyy",{locale:ct}),n=Se(t,"dd/MM/yyyy",{locale:ct});return r===n?`${r}`:`${r} at ${n}`},[e,t])}function xU(e,t,r,n){const{user:s}=Ne();return Tt({queryKey:["expense-chart",s==null?void 0:s.id,e,t,r,n],queryFn:async()=>{if(!s)return[];let o=L.from("transactions").select("date, amount").eq("user_id",s.id).eq("payment_status","confirmed").order("date");r&&(o=o.gte("date",r)),n&&(o=o.lte("date",n));const{data:a,error:l}=await o;if(l)throw l;return a||[]},enabled:!!s})}function wU({timeRange:e,onTimeRangeChange:t}){const r=[{value:"individual",label:"P"},{value:"daily",label:"D"},{value:"weekly",label:"S"},{value:"monthly",label:"M"},{value:"yearly",label:"A"}];return i.jsx("div",{className:"flex space-x-2",children:r.map(n=>i.jsx("button",{onClick:()=>t(n.value),className:`w-6 h-6 flex items-center justify-center text-xs font-medium rounded border border-gray-300 dark:border-gray-600 transition-colors ${e===n.value?"bg-blue-500 text-white dark:bg-blue-700 dark:text-white border-blue-500 dark:border-blue-700":"bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:n.label},n.value))})}function bU({startDate:e,endDate:t}){const[r]=m.useState("CandlestickChart"),[n,s]=m.useState("individual"),o=e?e.toISOString():void 0,a=t?t.toISOString():void 0,{data:l,isLoading:c}=xU(r,n,o,a),u=yU(e,t);return i.jsxs(Mt,{children:[i.jsx(Ar,{children:i.jsxs(Ir,{children:["Seu desempenho de ",u]})}),i.jsxs(Lt,{className:"h-[500px] flex flex-col",children:[i.jsx("div",{className:"flex-1 h-full",children:i.jsx(vU,{transactions:l||[],chartType:r,timeRange:n,isLoading:c})}),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsx(wU,{timeRange:n,onTimeRangeChange:s})})]})]})}var me=function(){return me=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},me.apply(this,arguments)};function _U(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function CE(e,t,r){for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Eu(e){return e.mode==="multiple"}function Pu(e){return e.mode==="range"}function rm(e){return e.mode==="single"}var SU={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function CU(e,t){return Se(e,"LLLL y",t)}function jU(e,t){return Se(e,"d",t)}function NU(e,t){return Se(e,"LLLL",t)}function kU(e){return"".concat(e)}function EU(e,t){return Se(e,"cccccc",t)}function PU(e,t){return Se(e,"yyyy",t)}var TU=Object.freeze({__proto__:null,formatCaption:CU,formatDay:jU,formatMonthCaption:NU,formatWeekNumber:kU,formatWeekdayName:EU,formatYearCaption:PU}),RU=function(e,t,r){return Se(e,"do MMMM (EEEE)",r)},MU=function(){return"Month: "},DU=function(){return"Go to next month"},OU=function(){return"Go to previous month"},AU=function(e,t){return Se(e,"cccc",t)},IU=function(e){return"Week n. ".concat(e)},LU=function(){return"Year: "},$U=Object.freeze({__proto__:null,labelDay:RU,labelMonthDropdown:MU,labelNext:DU,labelPrevious:OU,labelWeekNumber:IU,labelWeekday:AU,labelYearDropdown:LU});function FU(){var e="buttons",t=SU,r=yx,n={},s={},o=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:TU,labels:$U,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:o,styles:a,today:l,mode:"default"}}function zU(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,o=e.fromDate,a=e.toDate;return n?o=zt(n):t&&(o=new Date(t,0,1)),s?a=Zi(s):r&&(a=new Date(r,11,31)),{fromDate:o?Yt(o):void 0,toDate:a?Yt(a):void 0}}var jE=m.createContext(void 0);function UU(e){var t,r=e.initialProps,n=FU(),s=zU(r),o=s.fromDate,a=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!o||!a)&&(l="buttons");var c;(rm(r)||Eu(r)||Pu(r))&&(c=r.onSelect);var u=me(me(me({},n),r),{captionLayout:l,classNames:me(me({},n.classNames),r.classNames),components:me({},r.components),formatters:me(me({},n.formatters),r.formatters),fromDate:o,labels:me(me({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:me(me({},n.modifiers),r.modifiers),modifiersClassNames:me(me({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:me(me({},n.styles),r.styles),toDate:a});return i.jsx(jE.Provider,{value:u,children:e.children})}function Ze(){var e=m.useContext(jE);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function NE(e){var t=Ze(),r=t.locale,n=t.classNames,s=t.styles,o=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function BU(e){return i.jsx("svg",me({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kE(e){var t,r,n=e.onChange,s=e.value,o=e.children,a=e.caption,l=e.className,c=e.style,u=Ze(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:BU;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:o}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,i.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function VU(e){var t,r=Ze(),n=r.fromDate,s=r.toDate,o=r.styles,a=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var d=[];if(D6(n,s))for(var h=zt(n),p=n.getMonth();p<=s.getMonth();p++)d.push(yp(h,p));else for(var h=zt(new Date),p=0;p<=11;p++)d.push(yp(h,p));var g=function(w){var y=Number(w.target.value),x=yp(zt(e.displayMonth),y);e.onChange(x)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kE;return i.jsx(v,{name:"months","aria-label":f(),className:c.dropdown_month,style:o.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:d.map(function(w){return i.jsx("option",{value:w.getMonth(),children:l(w,{locale:a})},w.getMonth())})})}function WU(e){var t,r=e.displayMonth,n=Ze(),s=n.fromDate,o=n.toDate,a=n.locale,l=n.styles,c=n.classNames,u=n.components,f=n.formatters.formatYearCaption,d=n.labels.labelYearDropdown,h=[];if(!s)return i.jsx(i.Fragment,{});if(!o)return i.jsx(i.Fragment,{});for(var p=s.getFullYear(),g=o.getFullYear(),v=p;v<=g;v++)h.push(Fb(gx(new Date),v));var w=function(x){var b=Fb(zt(r),Number(x.target.value));e.onChange(b)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kE;return i.jsx(y,{name:"years","aria-label":d(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:r.getFullYear(),caption:f(r,{locale:a}),children:h.map(function(x){return i.jsx("option",{value:x.getFullYear(),children:f(x,{locale:a})},x.getFullYear())})})}function qU(e,t){var r=m.useState(e),n=r[0],s=r[1],o=t===void 0?n:t;return[o,s]}function HU(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,o=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&Qi(o,s)<0){var u=-1*(c-1);s=en(o,u)}return a&&Qi(s,a)<0&&(s=a),zt(s)}function KU(){var e=Ze(),t=HU(e),r=qU(t,e.month),n=r[0],s=r[1],o=function(a){var l;if(!e.disableNavigation){var c=zt(a);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,o]}function GU(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=zt(e),o=zt(en(s,n)),a=Qi(o,s),l=[],c=0;c<a;c++){var u=en(s,c);l.push(u)}return r&&(l=l.reverse()),l}function YU(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,a=n?o:1,l=zt(e);if(!r)return en(l,a);var c=Qi(r,e);if(!(c<o))return en(l,a)}}function QU(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,a=n?o:1,l=zt(e);if(!r)return en(l,-a);var c=Qi(l,r);if(!(c<=0))return en(l,-a)}}var EE=m.createContext(void 0);function ZU(e){var t=Ze(),r=KU(),n=r[0],s=r[1],o=GU(n,t),a=YU(n,t),l=QU(n,t),c=function(d){return o.some(function(h){return wx(d,h)})},u=function(d,h){c(d)||(h&&xx(d,h)?s(en(d,1+t.numberOfMonths*-1)):s(d))},f={currentMonth:n,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return i.jsx(EE.Provider,{value:f,children:e.children})}function Tu(){var e=m.useContext(EE);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Vb(e){var t,r=Ze(),n=r.classNames,s=r.styles,o=r.components,a=Tu().goToMonth,l=function(f){a(en(f,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:NE,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(VU,{onChange:l,displayMonth:e.displayMonth}),i.jsx(WU,{onChange:l,displayMonth:e.displayMonth})]})}function XU(e){return i.jsx("svg",me({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function JU(e){return i.jsx("svg",me({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Lf=m.forwardRef(function(e,t){var r=Ze(),n=r.classNames,s=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var a=o.join(" "),l=me(me({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),i.jsx("button",me({},e,{ref:t,type:"button",className:a,style:l}))});function e9(e){var t,r,n=Ze(),s=n.dir,o=n.locale,a=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,f=c.labelNext,d=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:o}),p=[a.nav_button,a.nav_button_previous].join(" "),g=f(e.nextMonth,{locale:o}),v=[a.nav_button,a.nav_button_next].join(" "),w=(t=d==null?void 0:d.IconRight)!==null&&t!==void 0?t:JU,y=(r=d==null?void 0:d.IconLeft)!==null&&r!==void 0?r:XU;return i.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(Lf,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?i.jsx(w,{className:a.nav_icon,style:l.nav_icon}):i.jsx(y,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(Lf,{name:"next-month","aria-label":g,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?i.jsx(y,{className:a.nav_icon,style:l.nav_icon}):i.jsx(w,{className:a.nav_icon,style:l.nav_icon})})]})}function Wb(e){var t=Ze().numberOfMonths,r=Tu(),n=r.previousMonth,s=r.nextMonth,o=r.goToMonth,a=r.displayMonths,l=a.findIndex(function(g){return wx(e.displayMonth,g)}),c=l===0,u=l===a.length-1,f=t>1&&(c||!u),d=t>1&&(u||!c),h=function(){n&&o(n)},p=function(){s&&o(s)};return i.jsx(e9,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:d,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:p})}function t9(e){var t,r=Ze(),n=r.classNames,s=r.disableNavigation,o=r.styles,a=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:NE,u;return s?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=i.jsx(Vb,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(Vb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(Wb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(Wb,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:o.caption,children:u})}function r9(e){var t=Ze(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?i.jsx("tfoot",{className:s,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function n9(e,t,r){for(var n=r?ja(new Date):Cn(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var a=Kt(n,o);s.push(a)}return s}function s9(){var e=Ze(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=n9(s,o,a);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,d){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:s}),children:l(f,{locale:s})},d)})]})}function o9(){var e,t=Ze(),r=t.classNames,n=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:s9;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(o,{})})}function a9(e){var t=Ze(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var bx=m.createContext(void 0);function i9(e){if(!Eu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(bx.Provider,{value:t,children:e.children})}return i.jsx(l9,{initialProps:e.initialProps,children:e.children})}function l9(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,o=t.max,a=function(u,f,d){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,f,d);var g=!!(f.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var v=!!(!f.selected&&o&&(n==null?void 0:n.length)===o);if(!v){var w=n?CE([],n):[];if(f.selected){var y=w.findIndex(function(x){return yr(u,x)});w.splice(y,1)}else w.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,w,u,f,d)}}},l={disabled:[]};n&&l.disabled.push(function(u){var f=o&&n.length>o-1,d=n.some(function(h){return yr(h,u)});return!!(f&&!d)});var c={selected:n,onDayClick:a,modifiers:l};return i.jsx(bx.Provider,{value:c,children:r})}function _x(){var e=m.useContext(bx);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function c9(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?yr(s,e)&&yr(n,e)?void 0:yr(s,e)?{from:s,to:void 0}:yr(n,e)?void 0:wv(n,e)?{from:e,to:s}:{from:n,to:e}:s?wv(e,s)?{from:s,to:e}:{from:e,to:s}:n?xx(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Sx=m.createContext(void 0);function u9(e){if(!Pu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(Sx.Provider,{value:t,children:e.children})}return i.jsx(d9,{initialProps:e.initialProps,children:e.children})}function d9(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},o=s.from,a=s.to,l=t.min,c=t.max,u=function(p,g,v){var w,y;(w=t.onDayClick)===null||w===void 0||w.call(t,p,g,v);var x=c9(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,x,p,g,v)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(f.range_start=[o],a?(f.range_end=[a],yr(o,a)||(f.range_middle=[{after:o,before:a}])):f.range_end=[o]):a&&(f.range_start=[a],f.range_end=[a]),l&&(o&&!a&&f.disabled.push({after:_i(o,l-1),before:Kt(o,l-1)}),o&&a&&f.disabled.push({after:o,before:Kt(o,l-1)}),!o&&a&&f.disabled.push({after:_i(a,l-1),before:Kt(a,l-1)})),c){if(o&&!a&&(f.disabled.push({before:Kt(o,-c+1)}),f.disabled.push({after:Kt(o,c-1)})),o&&a){var d=vn(a,o)+1,h=c-d;f.disabled.push({before:_i(o,h)}),f.disabled.push({after:Kt(a,h)})}!o&&a&&(f.disabled.push({before:Kt(a,-c+1)}),f.disabled.push({after:Kt(a,c-1)}))}return i.jsx(Sx.Provider,{value:{selected:n,onDayClick:u,modifiers:f},children:r})}function Cx(){var e=m.useContext(Sx);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Wd(e){return Array.isArray(e)?CE([],e):e!==void 0?[e]:[]}function f9(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Wd(s)}),t}var jn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(jn||(jn={}));var h9=jn.Selected,ds=jn.Disabled,m9=jn.Hidden,p9=jn.Today,wp=jn.RangeEnd,bp=jn.RangeMiddle,_p=jn.RangeStart,g9=jn.Outside;function v9(e,t,r){var n,s=(n={},n[h9]=Wd(e.selected),n[ds]=Wd(e.disabled),n[m9]=Wd(e.hidden),n[p9]=[e.today],n[wp]=[],n[bp]=[],n[_p]=[],n[g9]=[],n);return e.fromDate&&s[ds].push({before:e.fromDate}),e.toDate&&s[ds].push({after:e.toDate}),Eu(e)?s[ds]=s[ds].concat(t.modifiers[ds]):Pu(e)&&(s[ds]=s[ds].concat(r.modifiers[ds]),s[_p]=r.modifiers[_p],s[bp]=r.modifiers[bp],s[wp]=r.modifiers[wp]),s}var PE=m.createContext(void 0);function y9(e){var t=Ze(),r=_x(),n=Cx(),s=v9(t,r,n),o=f9(t.modifiers),a=me(me({},s),o);return i.jsx(PE.Provider,{value:a,children:e.children})}function TE(){var e=m.useContext(PE);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function x9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function w9(e){return!!(e&&typeof e=="object"&&"from"in e)}function b9(e){return!!(e&&typeof e=="object"&&"after"in e)}function _9(e){return!!(e&&typeof e=="object"&&"before"in e)}function S9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function C9(e,t){var r,n=t.from,s=t.to;if(n&&s){var o=vn(s,n)<0;o&&(r=[s,n],n=r[0],s=r[1]);var a=vn(e,n)>=0&&vn(s,e)>=0;return a}return s?yr(s,e):n?yr(n,e):!1}function j9(e){return px(e)}function N9(e){return Array.isArray(e)&&e.every(px)}function k9(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(j9(r))return yr(e,r);if(N9(r))return r.includes(e);if(w9(r))return C9(e,r);if(S9(r))return r.dayOfWeek.includes(e.getDay());if(x9(r)){var n=vn(r.before,e),s=vn(r.after,e),o=n>0,a=s<0,l=wv(r.before,r.after);return l?a&&o:o||a}return b9(r)?vn(e,r.after)>0:_9(r)?vn(r.before,e)>0:typeof r=="function"?r(e):!1})}function jx(e,t,r){var n=Object.keys(t).reduce(function(o,a){var l=t[a];return k9(e,l)&&o.push(a),o},[]),s={};return n.forEach(function(o){return s[o]=!0}),r&&!wx(e,r)&&(s.outside=!0),s}function E9(e,t){for(var r=zt(e[0]),n=Zi(e[e.length-1]),s,o,a=r;a<=n;){var l=jx(a,t),c=!l.disabled&&!l.hidden;if(!c){a=Kt(a,1);continue}if(l.selected)return a;l.today&&!o&&(o=a),s||(s=a),a=Kt(a,1)}return o||s}var P9=365;function RE(e,t){var r=t.moveBy,n=t.direction,s=t.context,o=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,u=s.fromDate,f=s.toDate,d=s.locale,h={day:Kt,week:xv,month:en,year:Hk,startOfWeek:function(w){return s.ISOWeek?ja(w):Cn(w,{locale:d,weekStartsOn:c})},endOfWeek:function(w){return s.ISOWeek?Kk(w):vx(w,{locale:d,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=_8([u,p]):n==="after"&&f&&(p=S8([f,p]));var g=!0;if(o){var v=jx(p,o);g=!v.disabled&&!v.hidden}return g?p:l.count>P9?l.lastFocused:RE(p,{moveBy:r,direction:n,context:s,modifiers:o,retry:me(me({},l),{count:l.count+1})})}var ME=m.createContext(void 0);function T9(e){var t=Tu(),r=TE(),n=m.useState(),s=n[0],o=n[1],a=m.useState(),l=a[0],c=a[1],u=E9(t.displayMonths,r),f=s??(l&&t.isDateDisplayed(l))?l:u,d=function(){c(s),o(void 0)},h=function(w){o(w)},p=Ze(),g=function(w,y){if(s){var x=RE(s,{moveBy:w,direction:y,context:p,modifiers:r});yr(s,x)||(t.goToDate(x,s),h(x))}},v={focusedDay:s,focusTarget:f,blur:d,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return i.jsx(ME.Provider,{value:v,children:e.children})}function Nx(){var e=m.useContext(ME);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function R9(e,t){var r=TE(),n=jx(e,r,t);return n}var kx=m.createContext(void 0);function M9(e){if(!rm(e.initialProps)){var t={selected:void 0};return i.jsx(kx.Provider,{value:t,children:e.children})}return i.jsx(D9,{initialProps:e.initialProps,children:e.children})}function D9(e){var t=e.initialProps,r=e.children,n=function(o,a,l){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,a,l),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,a,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,o,o,a,l)},s={selected:t.selected,onDayClick:n};return i.jsx(kx.Provider,{value:s,children:r})}function DE(){var e=m.useContext(kx);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function O9(e,t){var r=Ze(),n=DE(),s=_x(),o=Cx(),a=Nx(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,f=a.focusWeekBefore,d=a.blur,h=a.focus,p=a.focusMonthBefore,g=a.focusMonthAfter,v=a.focusYearBefore,w=a.focusYearAfter,y=a.focusStartOfWeek,x=a.focusEndOfWeek,b=function(F){var T,D,H,re;rm(r)?(T=n.onDayClick)===null||T===void 0||T.call(n,e,t,F):Eu(r)?(D=s.onDayClick)===null||D===void 0||D.call(s,e,t,F):Pu(r)?(H=o.onDayClick)===null||H===void 0||H.call(o,e,t,F):(re=r.onDayClick)===null||re===void 0||re.call(r,e,t,F)},_=function(F){var T;h(e),(T=r.onDayFocus)===null||T===void 0||T.call(r,e,t,F)},S=function(F){var T;d(),(T=r.onDayBlur)===null||T===void 0||T.call(r,e,t,F)},j=function(F){var T;(T=r.onDayMouseEnter)===null||T===void 0||T.call(r,e,t,F)},C=function(F){var T;(T=r.onDayMouseLeave)===null||T===void 0||T.call(r,e,t,F)},N=function(F){var T;(T=r.onDayPointerEnter)===null||T===void 0||T.call(r,e,t,F)},k=function(F){var T;(T=r.onDayPointerLeave)===null||T===void 0||T.call(r,e,t,F)},R=function(F){var T;(T=r.onDayTouchCancel)===null||T===void 0||T.call(r,e,t,F)},O=function(F){var T;(T=r.onDayTouchEnd)===null||T===void 0||T.call(r,e,t,F)},M=function(F){var T;(T=r.onDayTouchMove)===null||T===void 0||T.call(r,e,t,F)},$=function(F){var T;(T=r.onDayTouchStart)===null||T===void 0||T.call(r,e,t,F)},I=function(F){var T;(T=r.onDayKeyUp)===null||T===void 0||T.call(r,e,t,F)},B=function(F){var T;switch(F.key){case"ArrowLeft":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":F.preventDefault(),F.stopPropagation(),u();break;case"ArrowUp":F.preventDefault(),F.stopPropagation(),f();break;case"PageUp":F.preventDefault(),F.stopPropagation(),F.shiftKey?v():p();break;case"PageDown":F.preventDefault(),F.stopPropagation(),F.shiftKey?w():g();break;case"Home":F.preventDefault(),F.stopPropagation(),y();break;case"End":F.preventDefault(),F.stopPropagation(),x();break}(T=r.onDayKeyDown)===null||T===void 0||T.call(r,e,t,F)},q={onClick:b,onFocus:_,onBlur:S,onKeyDown:B,onKeyUp:I,onMouseEnter:j,onMouseLeave:C,onPointerEnter:N,onPointerLeave:k,onTouchCancel:R,onTouchEnd:O,onTouchMove:M,onTouchStart:$};return q}function A9(){var e=Ze(),t=DE(),r=_x(),n=Cx(),s=rm(e)?t.selected:Eu(e)?r.selected:Pu(e)?n.selected:void 0;return s}function I9(e){return Object.values(jn).includes(e)}function L9(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(I9(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function $9(e,t){var r=me({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=me(me({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function F9(e,t,r){var n,s,o,a=Ze(),l=Nx(),c=R9(e,t),u=O9(e,c),f=A9(),d=!!(a.onDayClick||a.mode!=="default");m.useEffect(function(){var j;c.outside||l.focusedDay&&d&&yr(l.focusedDay,e)&&((j=r.current)===null||j===void 0||j.focus())},[l.focusedDay,e,r,d,c.outside]);var h=L9(a,c).join(" "),p=$9(a,c),g=!!(c.outside&&!a.showOutsideDays||c.hidden),v=(o=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:a9,w=i.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:h,children:w,role:"gridcell"},x=l.focusTarget&&yr(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&yr(l.focusedDay,e),_=me(me(me({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||x?0:-1,n)),u),S={isButton:d,isHidden:g,activeModifiers:c,selectedDays:f,buttonProps:_,divProps:y};return S}function z9(e){var t=m.useRef(null),r=F9(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Lf,me({name:"day",ref:t},r.buttonProps)):i.jsx("div",me({},r.divProps))}function U9(e){var t=e.number,r=e.dates,n=Ze(),s=n.onWeekNumberClick,o=n.styles,a=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,f=u(Number(t),{locale:l});if(!s)return i.jsx("span",{className:a.weeknumber,style:o.weeknumber,children:f});var d=c(Number(t),{locale:l}),h=function(p){s(t,r,p)};return i.jsx(Lf,{name:"week-number","aria-label":d,className:a.weeknumber,style:o.weeknumber,onClick:h,children:f})}function B9(e){var t,r,n=Ze(),s=n.styles,o=n.classNames,a=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:z9,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:U9,f;return a&&(f=i.jsx("td",{className:o.cell,style:s.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:o.row,style:s.row,children:[f,e.dates.map(function(d){return i.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:d})},T6(d))})]})}function qb(e,t,r){for(var n=r!=null&&r.ISOWeek?Kk(t):vx(t,r),s=r!=null&&r.ISOWeek?ja(e):Cn(e,r),o=vn(n,s),a=[],l=0;l<=o;l++)a.push(Kt(s,l));var c=a.reduce(function(u,f){var d=r!=null&&r.ISOWeek?Yk(f):Zk(f,r),h=u.find(function(p){return p.weekNumber===d});return h?(h.dates.push(f),u):(u.push({weekNumber:d,dates:[f]}),u)},[]);return c}function V9(e,t){var r=qb(zt(e),Zi(e),t);if(t!=null&&t.useFixedWeeks){var n=M6(e,t);if(n<6){var s=r[r.length-1],o=s.dates[s.dates.length-1],a=xv(o,6-n),l=qb(xv(o,1),a,t);r.push.apply(r,l)}}return r}function W9(e){var t,r,n,s=Ze(),o=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,f=s.components,d=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,g=V9(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:d,firstWeekContainsDate:h}),v=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:o9,w=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:B9,y=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:r9;return i.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(v,{}),i.jsx("tbody",{className:a.tbody,style:l.tbody,children:g.map(function(x){return i.jsx(w,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),i.jsx(y,{displayMonth:e.displayMonth})]})}function q9(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var H9=q9()?m.useLayoutEffect:m.useEffect,Sp=!1,K9=0;function Hb(){return"react-day-picker-".concat(++K9)}function G9(e){var t,r=e??(Sp?Hb():null),n=m.useState(r),s=n[0],o=n[1];return H9(function(){s===null&&o(Hb())},[]),m.useEffect(function(){Sp===!1&&(Sp=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Y9(e){var t,r,n=Ze(),s=n.dir,o=n.classNames,a=n.styles,l=n.components,c=Tu().displayMonths,u=G9(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,d=[o.month],h=a.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,v=!p&&!g;s==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(d.push(o.caption_start),h=me(me({},h),a.caption_start)),g&&(d.push(o.caption_end),h=me(me({},h),a.caption_end)),v&&(d.push(o.caption_between),h=me(me({},h),a.caption_between));var w=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:t9;return i.jsxs("div",{className:d.join(" "),style:h,children:[i.jsx(w,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(W9,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Q9(e){var t=Ze(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function Z9(e){var t,r,n=e.initialProps,s=Ze(),o=Nx(),a=Tu(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var d=me(me({},s.styles.root),s.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,v){var w;return me(me({},g),(w={},w[v]=n[v],w))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Q9;return i.jsx("div",me({className:f.join(" "),style:d,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(p,{children:a.displayMonths.map(function(g,v){return i.jsx(Y9,{displayIndex:v,displayMonth:g},v)})})}))}function X9(e){var t=e.children,r=_U(e,["children"]);return i.jsx(UU,{initialProps:r,children:i.jsx(ZU,{children:i.jsx(M9,{initialProps:r,children:i.jsx(i9,{initialProps:r,children:i.jsx(u9,{initialProps:r,children:i.jsx(y9,{children:i.jsx(T9,{children:t})})})})})})})}function J9(e){return i.jsx(X9,me({},e,{children:i.jsx(Z9,{initialProps:e})}))}function Ex({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(J9,{showOutsideDays:r,className:U("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:U(Gc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:U(Gc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>i.jsx(SL,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(wj,{className:"h-4 w-4"})},...n})}Ex.displayName="Calendar";var Px="Popover",[OE,yK]=jr(Px,[Uo]),Ru=Uo(),[e7,Wo]=OE(Px),AE=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!1}=e,l=Ru(t),c=m.useRef(null),[u,f]=m.useState(!1),[d=!1,h]=bn({prop:n,defaultProp:s,onChange:o});return i.jsx(Gh,{...l,children:i.jsx(e7,{scope:t,contentId:Gr(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>f(!0),[]),onCustomAnchorRemove:m.useCallback(()=>f(!1),[]),modal:a,children:r})})};AE.displayName=Px;var IE="PopoverAnchor",t7=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Wo(IE,r),o=Ru(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(a(),()=>l()),[a,l]),i.jsx(ju,{...o,...n,ref:t})});t7.displayName=IE;var LE="PopoverTrigger",$E=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Wo(LE,r),o=Ru(r),a=ye(t,s.triggerRef),l=i.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":VE(s.open),...n,ref:a,onClick:V(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(ju,{asChild:!0,...o,children:l})});$E.displayName=LE;var Tx="PopoverPortal",[r7,n7]=OE(Tx,{forceMount:void 0}),FE=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Wo(Tx,t);return i.jsx(r7,{scope:t,forceMount:r,children:i.jsx(Dt,{present:r||o.open,children:i.jsx(hl,{asChild:!0,container:s,children:n})})})};FE.displayName=Tx;var Xi="PopoverContent",zE=m.forwardRef((e,t)=>{const r=n7(Xi,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Wo(Xi,e.__scopePopover);return i.jsx(Dt,{present:n||o.open,children:o.modal?i.jsx(s7,{...s,ref:t}):i.jsx(o7,{...s,ref:t})})});zE.displayName=Xi;var s7=m.forwardRef((e,t)=>{const r=Wo(Xi,e.__scopePopover),n=m.useRef(null),s=ye(t,n),o=m.useRef(!1);return m.useEffect(()=>{const a=n.current;if(a)return Uh(a)},[]),i.jsx(_u,{as:_r,allowPinchZoom:!0,children:i.jsx(UE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:V(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:V(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:V(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),o7=m.forwardRef((e,t)=>{const r=Wo(Xi,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return i.jsx(UE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),UE=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,h=Wo(Xi,r),p=Ru(r);return Fh(),i.jsx(bu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(Da,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(Yh,{"data-state":VE(h.open),role:"dialog",id:h.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),BE="PopoverClose",a7=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Wo(BE,r);return i.jsx(ie.button,{type:"button",...n,ref:t,onClick:V(e.onClick,()=>s.onOpenChange(!1))})});a7.displayName=BE;var i7="PopoverArrow",l7=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ru(r);return i.jsx(Qh,{...s,...n,ref:t})});l7.displayName=i7;function VE(e){return e?"open":"closed"}var c7=AE,u7=$E,d7=FE,WE=zE;const Rx=c7,Mx=u7,nm=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>i.jsx(d7,{children:i.jsx(WE,{ref:s,align:t,sideOffset:r,className:U("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));nm.displayName=WE.displayName;function Kb({selected:e,onSelect:t,placeholder:r="Selecione uma data",className:n}){return i.jsxs(Rx,{children:[i.jsx(Mx,{asChild:!0,children:i.jsxs(Q,{variant:"outline",className:U("w-[280px] justify-start text-left font-normal",!e&&"text-muted-foreground",n),children:[i.jsx(vu,{className:"mr-2 h-4 w-4"}),e?Se(e,"PPP",{locale:ct}):i.jsx("span",{children:r})]})}),i.jsx(nm,{className:"w-auto p-0",children:i.jsx(Ex,{mode:"single",selected:e,onSelect:t,initialFocus:!0,locale:ct})})]})}function sm({dateRange:e,startDate:t,endDate:r,onDateRangeChange:n,onStartDateChange:s,onEndDateChange:o}){return m.useEffect(()=>{if(e!=="custom"){const a=new Date;switch(e){case"today":s(Yt(a)),o(Un(a));break;case"last7days":s(Yt(_i(a,7))),o(Un(a));break;case"last30days":s(Yt(_i(a,30))),o(Un(a));break;case"last6months":s(Yt(Af(a,6))),o(Un(a));break;case"lastyear":s(Yt(Y6(a,1))),o(Un(a));break}}},[e,s,o]),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[i.jsxs(_s,{value:e,onValueChange:n,children:[i.jsx(Wn,{className:"w-full sm:w-[200px]",children:i.jsx(Ss,{placeholder:"Selecione o perodo"})}),i.jsxs(qn,{children:[i.jsx(it,{value:"today",children:"Hoje"}),i.jsx(it,{value:"last7days",children:"ltimos 7 dias"}),i.jsx(it,{value:"last30days",children:"ltimos 30 dias"}),i.jsx(it,{value:"last6months",children:"ltimos 6 meses"}),i.jsx(it,{value:"lastyear",children:"ltimo ano"}),i.jsx(it,{value:"custom",children:"Perodo personalizado"})]})]}),e==="custom"&&i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx(Kb,{placeholder:"Data inicial",selected:t,onSelect:a=>{a&&r&&xx(r,a)&&o(Kt(a,1)),s(a)},className:"w-full sm:w-auto"}),i.jsx(Kb,{placeholder:"Data final",selected:r,onSelect:o,className:"w-full sm:w-auto"})]})]})}function qE(){const{user:e}=Ne(),t=new Date;return Tt({queryKey:["financial-insights",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const r=Af(t,3),{data:n,error:s}=await L.from("transactions").select("*").eq("user_id",e.id).gte("date",r.toISOString()).order("date",{ascending:!1});if(s)throw s;return n.map(o=>({id:o.id,date:o.date,description:o.description,type:o.type,amount:o.amount,payment_status:o.payment_status||"pending",payment_method:f7(o.payment_method),client_id:o.client_id,goal_id:o.goal_id,category:o.category,recurring:o.recurring,created_at:o.created_at}))},enabled:!!e,staleTime:5*60*1e3})}function f7(e){const t={dinheiro:"cash",cash:"cash","carto de crdito":"credit_card","cartao de credito":"credit_card",credit_card:"credit_card","carto de dbito":"debit_card","cartao de debito":"debit_card",debit_card:"debit_card",pix:"pix",transferncia:"transfer",transferencia:"transfer",transfer:"transfer",boleto:"invoice",invoice:"invoice"},r=e.toLowerCase();return t[r]||"cash"}function Dx(){const{user:e}=Ne(),{toast:t}=Bt(),r=Qe(),{data:n=[],isLoading:s}=Tt({queryKey:["financial-goals",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:u,error:f}=await L.from("financial_goals").select("*").eq("user_id",e.id).eq("active",!0).order("created_at",{ascending:!1});if(f)throw f;return u},enabled:!!e}),o=Pt({mutationFn:async u=>{if(!e)throw new Error("User not authenticated");const{data:f,error:d}=await L.from("financial_goals").insert({...u,user_id:e.id,current_amount:0,period:"monthly",start_date:new Date().toISOString().split("T")[0]}).select().single();if(d)throw d;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-goals"]}),t({title:"Meta criada",description:"Sua meta financeira foi criada com sucesso."})},onError:()=>{t({title:"Erro",description:"No foi possvel criar a meta.",variant:"destructive"})}}),a=Pt({mutationFn:async({id:u,...f})=>{const{data:d,error:h}=await L.from("financial_goals").update(f).eq("id",u).select().single();if(h)throw h;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-goals"]}),t({title:"Meta atualizada",description:"Sua meta foi atualizada com sucesso."})}}),l=Pt({mutationFn:async u=>{const{error:f}=await L.from("financial_goals").update({active:!1}).eq("id",u);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-goals"]}),t({title:"Meta removida",description:"A meta foi removida com sucesso."})}}),c=Pt({mutationFn:async({goalId:u,amount:f,description:d})=>{if(!e)throw new Error("User not authenticated");const{error:h}=await L.from("goal_contributions").insert({goal_id:u,user_id:e.id,amount:f,description:d});if(h)throw h;const{data:p}=await L.from("financial_goals").select("current_amount").eq("id",u).single();p&&await L.from("financial_goals").update({current_amount:(p.current_amount||0)+f}).eq("id",u)},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-goals"]}),t({title:"Contribuio adicionada",description:"Sua contribuio foi registrada com sucesso."})}});return{goals:n,isLoading:s,createGoal:o.mutate,updateGoal:a.mutate,deleteGoal:l.mutate,addContribution:c.mutate,isCreating:o.isPending,isUpdating:a.isPending,isDeleting:l.isPending,isAddingContribution:c.isPending}}function HE(e){const{data:t=[]}=qE();return m.useMemo(()=>{const r=new Date;return e.map(n=>{const s=n.current_amount||0,o=n.amount,a=o>0?s/o*100:0,l=n.target_date?$n(n.target_date):null,c=l?Math.max(0,k8(l,r)):0,u=c>0?Math.max(1,Math.ceil(c/30)):1,f=Math.max(0,o-s),d=f/u;let h;a>=100?h="achieved":n.monthly_contribution&&n.monthly_contribution>=d||a>=70?h="on_track":c>0&&c<90?h="warning":h="behind";let p;if(n.monthly_contribution&&n.monthly_contribution>0&&f>0){const g=Math.ceil(f/n.monthly_contribution),v=new Date;v.setMonth(v.getMonth()+g),p=v.toISOString().split("T")[0]}return{goal:n,current:s,target:o,percentage:Math.min(a,100),status:h,daysRemaining:c,monthlyTarget:d,projectedCompletion:p}})},[e,t])}function h7(e,t=[]){let r=[];function n(o,a){const l=m.createContext(a),c=r.length;r=[...r,a];function u(d){const{scope:h,children:p,...g}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=m.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,f]}const s=()=>{const o=r.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,m7(s,...t)]}function m7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Ox="Progress",Ax=100,[p7,xK]=h7(Ox),[g7,v7]=p7(Ox),KE=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=y7,...a}=e;(s||s===0)&&!Gb(s)&&console.error(x7(`${s}`,"Progress"));const l=Gb(s)?s:Ax;n!==null&&!Yb(n,l)&&console.error(w7(`${n}`,"Progress"));const c=Yb(n,l)?n:null,u=$f(c)?o(c,l):void 0;return i.jsx(g7,{scope:r,value:c,max:l,children:i.jsx(ie.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":$f(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":QE(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});KE.displayName=Ox;var GE="ProgressIndicator",YE=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=v7(GE,r);return i.jsx(ie.div,{"data-state":QE(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});YE.displayName=GE;function y7(e,t){return`${Math.round(e/t*100)}%`}function QE(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function $f(e){return typeof e=="number"}function Gb(e){return $f(e)&&!isNaN(e)&&e>0}function Yb(e,t){return $f(e)&&!isNaN(e)&&e<=t&&e>=0}function x7(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ax}\`.`}function w7(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ax} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZE=KE,b7=YE;const Sc=m.forwardRef(({className:e,value:t,...r},n)=>i.jsx(ZE,{ref:n,className:U("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(b7,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Sc.displayName=ZE.displayName;const _7=e=>{switch(e){case"emergency_fund":return i.jsx(ov,{className:"h-5 w-5"});case"purchase_goal":return i.jsx(KL,{className:"h-5 w-5"});case"investment_goal":return i.jsx(vi,{className:"h-5 w-5"});default:return i.jsx(ks,{className:"h-5 w-5"})}},Qb=e=>{switch(e){case"emergency_fund":return"Reserva de Emergncia";case"purchase_goal":return"Meta de Compra";case"investment_goal":return"Meta de Investimento";default:return"Meta Personalizada"}},S7=e=>{switch(e){case"achieved":return"bg-green-500";case"on_track":return"bg-blue-500";case"warning":return"bg-yellow-500";case"behind":return"bg-red-500";default:return"bg-gray-500"}},C7=e=>{switch(e){case"achieved":return" Conquistado";case"on_track":return" No Caminho";case"warning":return" Ateno";case"behind":return" Atrasado";default:return" Em Progresso"}};function j7({progress:e,onEdit:t,onDelete:r}){const[n,s]=m.useState(""),[o,a]=m.useState(!1),{addContribution:l,isAddingContribution:c}=Dx(),{goal:u,current:f,target:d,percentage:h,status:p,daysRemaining:g,monthlyTarget:v}=e,w=()=>{const x=parseFloat(n);x>0&&(l({goalId:u.id,amount:x,description:`Contribuio de R$ ${x.toLocaleString("pt-BR",{minimumFractionDigits:2})}`}),s(""),a(!1))},y=x=>`R$ ${x.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return i.jsxs(Mt,{className:"relative",children:[i.jsx(Ar,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:_7(u.goal_type)}),i.jsxs("div",{children:[i.jsx(Ir,{className:"text-lg",children:u.description||Qb(u.goal_type)}),i.jsx(Zc,{variant:"outline",className:"text-xs",children:Qb(u.goal_type)})]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Q,{variant:"ghost",size:"sm",onClick:t,children:i.jsx(Pj,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:r,children:i.jsx(ba,{className:"h-4 w-4"})})]})]})}),i.jsxs(Lt,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Progresso"}),i.jsx(Zc,{className:S7(p),children:C7(p)})]}),i.jsx(Sc,{value:h,className:"h-3"}),i.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[i.jsx("span",{children:y(f)}),i.jsx("span",{children:y(d)})]}),i.jsxs("div",{className:"text-center text-sm font-medium",children:[h.toFixed(1),"% concludo"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.target_date&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vu,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Meta para"}),i.jsx("div",{className:"text-muted-foreground",children:Se($n(u.target_date),"dd/MM/yyyy",{locale:ct})})]})]}),g>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Dias restantes"}),i.jsxs("div",{className:"text-muted-foreground",children:[g," dias"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(PL,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Faltam"}),i.jsx("div",{className:"text-muted-foreground",children:y(d-f)})]})]}),v>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Meta mensal"}),i.jsx("div",{className:"text-muted-foreground",children:y(v)})]})]}),u.monthly_contribution&&u.monthly_contribution>0&&i.jsx("div",{className:"bg-muted p-3 rounded-lg",children:i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Contribuio mensal: "}),y(u.monthly_contribution)]})}),p!=="achieved"&&i.jsxs(Os,{open:o,onOpenChange:a,children:[i.jsx(u$,{asChild:!0,children:i.jsxs(Q,{variant:"outline",className:"w-full",children:[i.jsx(jf,{className:"h-4 w-4 mr-2"}),"Adicionar Contribuio"]})}),i.jsxs(Xn,{children:[i.jsx(Jn,{children:i.jsx(es,{children:"Adicionar Contribuio"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Valor da Contribuio (R$)"}),i.jsx(Ae,{type:"number",step:"0.01",value:n,onChange:x=>s(x.target.value),placeholder:"0,00"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Q,{variant:"outline",onClick:()=>a(!1),className:"flex-1",children:"Cancelar"}),i.jsx(Q,{onClick:w,disabled:c||!n||parseFloat(n)<=0,className:"flex-1",children:c?"Adicionando...":"Confirmar"})]})]})]})]})]})]})}var Mu=e=>e.type==="checkbox",na=e=>e instanceof Date,rr=e=>e==null;const XE=e=>typeof e=="object";var yt=e=>!rr(e)&&!Array.isArray(e)&&XE(e)&&!na(e),N7=e=>yt(e)&&e.target?Mu(e.target)?e.target.checked:e.target.value:e,k7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,E7=(e,t)=>e.has(k7(t)),P7=e=>{const t=e.constructor&&e.constructor.prototype;return yt(t)&&t.hasOwnProperty("isPrototypeOf")},Ix=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zr(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ix&&(e instanceof Blob||e instanceof FileList))&&(r||yt(e)))if(t=r?[]:{},!r&&!P7(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=zr(e[n]));else return e;return t}var om=e=>Array.isArray(e)?e.filter(Boolean):[],gt=e=>e===void 0,se=(e,t,r)=>{if(!t||!yt(e))return r;const n=om(t.split(/[,[\].]+?/)).reduce((s,o)=>rr(s)?s:s[o],e);return gt(n)||n===e?gt(e[t])?r:e[t]:n},Dn=e=>typeof e=="boolean",Lx=e=>/^\w*$/.test(e),JE=e=>om(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ke=(e,t,r)=>{let n=-1;const s=Lx(t)?[t]:JE(t),o=s.length,a=o-1;for(;++n<o;){const l=s[n];let c=r;if(n!==a){const u=e[l];c=yt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const Zb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};G.createContext(null);var T7=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const a=o;return t._proxyFormState[a]!==gn.all&&(t._proxyFormState[a]=!n||gn.all),e[a]}});return s},mr=e=>yt(e)&&!Object.keys(e).length,R7=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return mr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(a=>t[a]===gn.all)},qd=e=>Array.isArray(e)?e:[e];function M7(e){const t=G.useRef(e);t.current=e,G.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Hn=e=>typeof e=="string",D7=(e,t,r,n,s)=>Hn(e)?(n&&t.watch.add(e),se(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),se(r,o))):(n&&(t.watchAll=!0),r),e2=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Xb=e=>({isOnSubmit:!e||e===gn.onSubmit,isOnBlur:e===gn.onBlur,isOnChange:e===gn.onChange,isOnAll:e===gn.all,isOnTouch:e===gn.onTouched}),Jb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Cc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=se(e,s);if(o){const{_f:a,...l}=o;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Cc(l,t))break}else if(yt(l)&&Cc(l,t))break}}};var O7=(e,t,r)=>{const n=qd(se(e,r));return Ke(n,"root",t[r]),Ke(e,r,n),e},$x=e=>e.type==="file",Cs=e=>typeof e=="function",Ff=e=>{if(!Ix)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Hd=e=>Hn(e),Fx=e=>e.type==="radio",zf=e=>e instanceof RegExp;const e1={value:!1,isValid:!1},t1={value:!0,isValid:!0};var t2=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gt(e[0].attributes.value)?gt(e[0].value)||e[0].value===""?t1:{value:e[0].value,isValid:!0}:t1:e1}return e1};const r1={isValid:!1,value:null};var r2=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,r1):r1;function n1(e,t,r="validate"){if(Hd(e)||Array.isArray(e)&&e.every(Hd)||Dn(e)&&!e)return{type:r,message:Hd(e)?e:"",ref:t}}var Ka=e=>yt(e)&&!zf(e)?e:{value:e,message:""},s1=async(e,t,r,n,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:f,max:d,pattern:h,validate:p,name:g,valueAsNumber:v,mount:w,disabled:y}=e._f,x=se(t,g);if(!w||y)return{};const b=a?a[0]:o,_=M=>{n&&b.reportValidity&&(b.setCustomValidity(Dn(M)?"":M||""),b.reportValidity())},S={},j=Fx(o),C=Mu(o),N=j||C,k=(v||$x(o))&&gt(o.value)&&gt(x)||Ff(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,R=e2.bind(null,g,r,S),O=(M,$,I,B=fs.maxLength,q=fs.minLength)=>{const F=M?$:I;S[g]={type:M?B:q,message:F,ref:o,...R(M?B:q,F)}};if(s?!Array.isArray(x)||!x.length:l&&(!N&&(k||rr(x))||Dn(x)&&!x||C&&!t2(a).isValid||j&&!r2(a).isValid)){const{value:M,message:$}=Hd(l)?{value:!!l,message:l}:Ka(l);if(M&&(S[g]={type:fs.required,message:$,ref:b,...R(fs.required,$)},!r))return _($),S}if(!k&&(!rr(f)||!rr(d))){let M,$;const I=Ka(d),B=Ka(f);if(!rr(x)&&!isNaN(x)){const q=o.valueAsNumber||x&&+x;rr(I.value)||(M=q>I.value),rr(B.value)||($=q<B.value)}else{const q=o.valueAsDate||new Date(x),F=H=>new Date(new Date().toDateString()+" "+H),T=o.type=="time",D=o.type=="week";Hn(I.value)&&x&&(M=T?F(x)>F(I.value):D?x>I.value:q>new Date(I.value)),Hn(B.value)&&x&&($=T?F(x)<F(B.value):D?x<B.value:q<new Date(B.value))}if((M||$)&&(O(!!M,I.message,B.message,fs.max,fs.min),!r))return _(S[g].message),S}if((c||u)&&!k&&(Hn(x)||s&&Array.isArray(x))){const M=Ka(c),$=Ka(u),I=!rr(M.value)&&x.length>+M.value,B=!rr($.value)&&x.length<+$.value;if((I||B)&&(O(I,M.message,$.message),!r))return _(S[g].message),S}if(h&&!k&&Hn(x)){const{value:M,message:$}=Ka(h);if(zf(M)&&!x.match(M)&&(S[g]={type:fs.pattern,message:$,ref:o,...R(fs.pattern,$)},!r))return _($),S}if(p){if(Cs(p)){const M=await p(x,t),$=n1(M,b);if($&&(S[g]={...$,...R(fs.validate,$.message)},!r))return _($.message),S}else if(yt(p)){let M={};for(const $ in p){if(!mr(M)&&!r)break;const I=n1(await p[$](x,t),b,$);I&&(M={...I,...R($,I.message)},_(I.message),r&&(S[g]=M))}if(!mr(M)&&(S[g]={ref:b,...M},!r))return S}}return _(!0),S};function A7(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=gt(e)?n++:e[t[n++]];return e}function I7(e){for(const t in e)if(e.hasOwnProperty(t)&&!gt(e[t]))return!1;return!0}function St(e,t){const r=Array.isArray(t)?t:Lx(t)?[t]:JE(t),n=r.length===1?e:A7(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(yt(n)&&mr(n)||Array.isArray(n)&&I7(n))&&St(e,r.slice(0,-1)),e}var Cp=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},bv=e=>rr(e)||!XE(e);function no(e,t){if(bv(e)||bv(t))return e===t;if(na(e)&&na(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const o=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=t[s];if(na(o)&&na(a)||yt(o)&&yt(a)||Array.isArray(o)&&Array.isArray(a)?!no(o,a):o!==a)return!1}}return!0}var n2=e=>e.type==="select-multiple",L7=e=>Fx(e)||Mu(e),jp=e=>Ff(e)&&e.isConnected,s2=e=>{for(const t in e)if(Cs(e[t]))return!0;return!1};function Uf(e,t={}){const r=Array.isArray(e);if(yt(e)||r)for(const n in e)Array.isArray(e[n])||yt(e[n])&&!s2(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Uf(e[n],t[n])):rr(e[n])||(t[n]=!0);return t}function o2(e,t,r){const n=Array.isArray(e);if(yt(e)||n)for(const s in e)Array.isArray(e[s])||yt(e[s])&&!s2(e[s])?gt(t)||bv(r[s])?r[s]=Array.isArray(e[s])?Uf(e[s],[]):{...Uf(e[s])}:o2(e[s],rr(t)?{}:t[s],r[s]):r[s]=!no(e[s],t[s]);return r}var Kl=(e,t)=>o2(e,t,Uf(t)),a2=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>gt(e)?e:t?e===""?NaN:e&&+e:r&&Hn(e)?new Date(e):n?n(e):e;function Np(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return $x(t)?t.files:Fx(t)?r2(e.refs).value:n2(t)?[...t.selectedOptions].map(({value:r})=>r):Mu(t)?t2(e.refs).value:a2(gt(t.value)?e.ref.value:t.value,e)}var $7=(e,t,r,n)=>{const s={};for(const o of e){const a=se(t,o);a&&Ke(s,o,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Gl=e=>gt(e)?e:zf(e)?e.source:yt(e)?zf(e.value)?e.value.source:e.value:e;const o1="AsyncFunction";var F7=e=>(!e||!e.validate)&&!!(Cs(e.validate)&&e.validate.constructor.name===o1||yt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===o1)),z7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function a1(e,t,r){const n=se(e,r);if(n||Lx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),a=se(t,o),l=se(e,o);if(a&&!Array.isArray(a)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};s.pop()}return{name:r}}var U7=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,B7=(e,t)=>!om(se(e,t)).length&&St(e,t);const V7={mode:gn.onSubmit,reValidateMode:gn.onChange,shouldFocusError:!0};function W7(e={}){let t={...V7,...e},r={submitCount:0,isDirty:!1,isLoading:Cs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=yt(t.defaultValues)||yt(t.values)?zr(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:zr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Cp(),array:Cp(),state:Cp()},h=Xb(t.mode),p=Xb(t.reValidateMode),g=t.criteriaMode===gn.all,v=E=>A=>{clearTimeout(u),u=setTimeout(E,A)},w=async E=>{if(!e.disabled&&(f.isValid||E)){const A=t.resolver?mr((await N()).errors):await R(n,!0);A!==r.isValid&&d.state.next({isValid:A})}},y=(E,A)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((E||Array.from(l.mount)).forEach(z=>{z&&(A?Ke(r.validatingFields,z,A):St(r.validatingFields,z))}),d.state.next({validatingFields:r.validatingFields,isValidating:!mr(r.validatingFields)}))},x=(E,A=[],z,J,Z=!0,Y=!0)=>{if(J&&z&&!e.disabled){if(a.action=!0,Y&&Array.isArray(se(n,E))){const ue=z(se(n,E),J.argA,J.argB);Z&&Ke(n,E,ue)}if(Y&&Array.isArray(se(r.errors,E))){const ue=z(se(r.errors,E),J.argA,J.argB);Z&&Ke(r.errors,E,ue),B7(r.errors,E)}if(f.touchedFields&&Y&&Array.isArray(se(r.touchedFields,E))){const ue=z(se(r.touchedFields,E),J.argA,J.argB);Z&&Ke(r.touchedFields,E,ue)}f.dirtyFields&&(r.dirtyFields=Kl(s,o)),d.state.next({name:E,isDirty:M(E,A),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ke(o,E,A)},b=(E,A)=>{Ke(r.errors,E,A),d.state.next({errors:r.errors})},_=E=>{r.errors=E,d.state.next({errors:r.errors,isValid:!1})},S=(E,A,z,J)=>{const Z=se(n,E);if(Z){const Y=se(o,E,gt(z)?se(s,E):z);gt(Y)||J&&J.defaultChecked||A?Ke(o,E,A?Y:Np(Z._f)):B(E,Y),a.mount&&w()}},j=(E,A,z,J,Z)=>{let Y=!1,ue=!1;const Ce={name:E};if(!e.disabled){const xt=!!(se(n,E)&&se(n,E)._f&&se(n,E)._f.disabled);if(!z||J){f.isDirty&&(ue=r.isDirty,r.isDirty=Ce.isDirty=M(),Y=ue!==Ce.isDirty);const ot=xt||no(se(s,E),A);ue=!!(!xt&&se(r.dirtyFields,E)),ot||xt?St(r.dirtyFields,E):Ke(r.dirtyFields,E,!0),Ce.dirtyFields=r.dirtyFields,Y=Y||f.dirtyFields&&ue!==!ot}if(z){const ot=se(r.touchedFields,E);ot||(Ke(r.touchedFields,E,z),Ce.touchedFields=r.touchedFields,Y=Y||f.touchedFields&&ot!==z)}Y&&Z&&d.state.next(Ce)}return Y?Ce:{}},C=(E,A,z,J)=>{const Z=se(r.errors,E),Y=f.isValid&&Dn(A)&&r.isValid!==A;if(e.delayError&&z?(c=v(()=>b(E,z)),c(e.delayError)):(clearTimeout(u),c=null,z?Ke(r.errors,E,z):St(r.errors,E)),(z?!no(Z,z):Z)||!mr(J)||Y){const ue={...J,...Y&&Dn(A)?{isValid:A}:{},errors:r.errors,name:E};r={...r,...ue},d.state.next(ue)}},N=async E=>{y(E,!0);const A=await t.resolver(o,t.context,$7(E||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(E),A},k=async E=>{const{errors:A}=await N(E);if(E)for(const z of E){const J=se(A,z);J?Ke(r.errors,z,J):St(r.errors,z)}else r.errors=A;return A},R=async(E,A,z={valid:!0})=>{for(const J in E){const Z=E[J];if(Z){const{_f:Y,...ue}=Z;if(Y){const Ce=l.array.has(Y.name),xt=Z._f&&F7(Z._f);xt&&f.validatingFields&&y([J],!0);const ot=await s1(Z,o,g,t.shouldUseNativeValidation&&!A,Ce);if(xt&&f.validatingFields&&y([J]),ot[Y.name]&&(z.valid=!1,A))break;!A&&(se(ot,Y.name)?Ce?O7(r.errors,ot,Y.name):Ke(r.errors,Y.name,ot[Y.name]):St(r.errors,Y.name))}!mr(ue)&&await R(ue,A,z)}}return z.valid},O=()=>{for(const E of l.unMount){const A=se(n,E);A&&(A._f.refs?A._f.refs.every(z=>!jp(z)):!jp(A._f.ref))&&Be(E)}l.unMount=new Set},M=(E,A)=>!e.disabled&&(E&&A&&Ke(o,E,A),!no(re(),s)),$=(E,A,z)=>D7(E,l,{...a.mount?o:gt(A)?s:Hn(E)?{[E]:A}:A},z,A),I=E=>om(se(a.mount?o:s,E,e.shouldUnregister?se(s,E,[]):[])),B=(E,A,z={})=>{const J=se(n,E);let Z=A;if(J){const Y=J._f;Y&&(!Y.disabled&&Ke(o,E,a2(A,Y)),Z=Ff(Y.ref)&&rr(A)?"":A,n2(Y.ref)?[...Y.ref.options].forEach(ue=>ue.selected=Z.includes(ue.value)):Y.refs?Mu(Y.ref)?Y.refs.length>1?Y.refs.forEach(ue=>(!ue.defaultChecked||!ue.disabled)&&(ue.checked=Array.isArray(Z)?!!Z.find(Ce=>Ce===ue.value):Z===ue.value)):Y.refs[0]&&(Y.refs[0].checked=!!Z):Y.refs.forEach(ue=>ue.checked=ue.value===Z):$x(Y.ref)?Y.ref.value="":(Y.ref.value=Z,Y.ref.type||d.values.next({name:E,values:{...o}})))}(z.shouldDirty||z.shouldTouch)&&j(E,Z,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&H(E)},q=(E,A,z)=>{for(const J in A){const Z=A[J],Y=`${E}.${J}`,ue=se(n,Y);(l.array.has(E)||yt(Z)||ue&&!ue._f)&&!na(Z)?q(Y,Z,z):B(Y,Z,z)}},F=(E,A,z={})=>{const J=se(n,E),Z=l.array.has(E),Y=zr(A);Ke(o,E,Y),Z?(d.array.next({name:E,values:{...o}}),(f.isDirty||f.dirtyFields)&&z.shouldDirty&&d.state.next({name:E,dirtyFields:Kl(s,o),isDirty:M(E,Y)})):J&&!J._f&&!rr(Y)?q(E,Y,z):B(E,Y,z),Jb(E,l)&&d.state.next({...r}),d.values.next({name:a.mount?E:void 0,values:{...o}})},T=async E=>{a.mount=!0;const A=E.target;let z=A.name,J=!0;const Z=se(n,z),Y=()=>A.type?Np(Z._f):N7(E),ue=Ce=>{J=Number.isNaN(Ce)||na(Ce)&&isNaN(Ce.getTime())||no(Ce,se(o,z,Ce))};if(Z){let Ce,xt;const ot=Y(),ls=E.type===Zb.BLUR||E.type===Zb.FOCUS_OUT,Iu=!z7(Z._f)&&!t.resolver&&!se(r.errors,z)&&!Z._f.deps||U7(ls,se(r.touchedFields,z),r.isSubmitted,p,h),Ol=Jb(z,l,ls);Ke(o,z,ot),ls?(Z._f.onBlur&&Z._f.onBlur(E),c&&c(0)):Z._f.onChange&&Z._f.onChange(E);const cs=j(z,ot,ls,!1),Lu=!mr(cs)||Ol;if(!ls&&d.values.next({name:z,type:E.type,values:{...o}}),Iu)return f.isValid&&(e.mode==="onBlur"?ls&&w():w()),Lu&&d.state.next({name:z,...Ol?{}:cs});if(!ls&&Ol&&d.state.next({...r}),t.resolver){const{errors:$u}=await N([z]);if(ue(ot),J){const xm=a1(r.errors,n,z),Fu=a1($u,n,xm.name||z);Ce=Fu.error,z=Fu.name,xt=mr($u)}}else y([z],!0),Ce=(await s1(Z,o,g,t.shouldUseNativeValidation))[z],y([z]),ue(ot),J&&(Ce?xt=!1:f.isValid&&(xt=await R(n,!0)));J&&(Z._f.deps&&H(Z._f.deps),C(z,xt,Ce,cs))}},D=(E,A)=>{if(se(r.errors,A)&&E.focus)return E.focus(),1},H=async(E,A={})=>{let z,J;const Z=qd(E);if(t.resolver){const Y=await k(gt(E)?E:Z);z=mr(Y),J=E?!Z.some(ue=>se(Y,ue)):z}else E?(J=(await Promise.all(Z.map(async Y=>{const ue=se(n,Y);return await R(ue&&ue._f?{[Y]:ue}:ue)}))).every(Boolean),!(!J&&!r.isValid)&&w()):J=z=await R(n);return d.state.next({...!Hn(E)||f.isValid&&z!==r.isValid?{}:{name:E},...t.resolver||!E?{isValid:z}:{},errors:r.errors}),A.shouldFocus&&!J&&Cc(n,D,E?Z:l.mount),J},re=E=>{const A={...a.mount?o:s};return gt(E)?A:Hn(E)?se(A,E):E.map(z=>se(A,z))},he=(E,A)=>({invalid:!!se((A||r).errors,E),isDirty:!!se((A||r).dirtyFields,E),error:se((A||r).errors,E),isValidating:!!se(r.validatingFields,E),isTouched:!!se((A||r).touchedFields,E)}),Oe=E=>{E&&qd(E).forEach(A=>St(r.errors,A)),d.state.next({errors:E?r.errors:{}})},Ie=(E,A,z)=>{const J=(se(n,E,{_f:{}})._f||{}).ref,Z=se(r.errors,E)||{},{ref:Y,message:ue,type:Ce,...xt}=Z;Ke(r.errors,E,{...xt,...A,ref:J}),d.state.next({name:E,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&J&&J.focus&&J.focus()},_t=(E,A)=>Cs(E)?d.values.subscribe({next:z=>E($(void 0,A),z)}):$(E,A,!0),Be=(E,A={})=>{for(const z of E?qd(E):l.mount)l.mount.delete(z),l.array.delete(z),A.keepValue||(St(n,z),St(o,z)),!A.keepError&&St(r.errors,z),!A.keepDirty&&St(r.dirtyFields,z),!A.keepTouched&&St(r.touchedFields,z),!A.keepIsValidating&&St(r.validatingFields,z),!t.shouldUnregister&&!A.keepDefaultValue&&St(s,z);d.values.next({values:{...o}}),d.state.next({...r,...A.keepDirty?{isDirty:M()}:{}}),!A.keepIsValid&&w()},ae=({disabled:E,name:A,field:z,fields:J,value:Z})=>{if(Dn(E)&&a.mount||E){const Y=E?void 0:gt(Z)?Np(z?z._f:se(J,A)._f):Z;Ke(o,A,Y),j(A,Y,!1,!1,!0)}},ke=(E,A={})=>{let z=se(n,E);const J=Dn(A.disabled)||Dn(e.disabled);return Ke(n,E,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:E}},name:E,mount:!0,...A}}),l.mount.add(E),z?ae({field:z,disabled:Dn(A.disabled)?A.disabled:e.disabled,name:E,value:A.value}):S(E,!0,A.value),{...J?{disabled:A.disabled||e.disabled}:{},...t.progressive?{required:!!A.required,min:Gl(A.min),max:Gl(A.max),minLength:Gl(A.minLength),maxLength:Gl(A.maxLength),pattern:Gl(A.pattern)}:{},name:E,onChange:T,onBlur:T,ref:Z=>{if(Z){ke(E,A),z=se(n,E);const Y=gt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,ue=L7(Y),Ce=z._f.refs||[];if(ue?Ce.find(xt=>xt===Y):Y===z._f.ref)return;Ke(n,E,{_f:{...z._f,...ue?{refs:[...Ce.filter(jp),Y,...Array.isArray(se(s,E))?[{}]:[]],ref:{type:Y.type,name:E}}:{ref:Y}}}),S(E,!1,void 0,Y)}else z=se(n,E,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(E7(l.array,E)&&a.action)&&l.unMount.add(E)}}},Le=()=>t.shouldFocusError&&Cc(n,D,l.mount),Me=E=>{Dn(E)&&(d.state.next({disabled:E}),Cc(n,(A,z)=>{const J=se(n,z);J&&(A.disabled=J._f.disabled||E,Array.isArray(J._f.refs)&&J._f.refs.forEach(Z=>{Z.disabled=J._f.disabled||E}))},0,!1))},Ee=(E,A)=>async z=>{let J;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let Z=zr(o);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:Y,values:ue}=await N();r.errors=Y,Z=ue}else await R(n);if(St(r.errors,"root"),mr(r.errors)){d.state.next({errors:{}});try{await E(Z,z)}catch(Y){J=Y}}else A&&await A({...r.errors},z),Le(),setTimeout(Le);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:mr(r.errors)&&!J,submitCount:r.submitCount+1,errors:r.errors}),J)throw J},$e=(E,A={})=>{se(n,E)&&(gt(A.defaultValue)?F(E,zr(se(s,E))):(F(E,A.defaultValue),Ke(s,E,zr(A.defaultValue))),A.keepTouched||St(r.touchedFields,E),A.keepDirty||(St(r.dirtyFields,E),r.isDirty=A.defaultValue?M(E,zr(se(s,E))):M()),A.keepError||(St(r.errors,E),f.isValid&&w()),d.state.next({...r}))},le=(E,A={})=>{const z=E?zr(E):s,J=zr(z),Z=mr(E),Y=Z?s:J;if(A.keepDefaultValues||(s=z),!A.keepValues){if(A.keepDirtyValues){const ue=new Set([...l.mount,...Object.keys(Kl(s,o))]);for(const Ce of Array.from(ue))se(r.dirtyFields,Ce)?Ke(Y,Ce,se(o,Ce)):F(Ce,se(Y,Ce))}else{if(Ix&&gt(E))for(const ue of l.mount){const Ce=se(n,ue);if(Ce&&Ce._f){const xt=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(Ff(xt)){const ot=xt.closest("form");if(ot){ot.reset();break}}}}n={}}o=e.shouldUnregister?A.keepDefaultValues?zr(s):{}:zr(Y),d.array.next({values:{...Y}}),d.values.next({values:{...Y}})}l={mount:A.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!A.keepIsValid||!!A.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:A.keepSubmitCount?r.submitCount:0,isDirty:Z?!1:A.keepDirty?r.isDirty:!!(A.keepDefaultValues&&!no(E,s)),isSubmitted:A.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Z?{}:A.keepDirtyValues?A.keepDefaultValues&&o?Kl(s,o):r.dirtyFields:A.keepDefaultValues&&E?Kl(s,E):A.keepDirty?r.dirtyFields:{},touchedFields:A.keepTouched?r.touchedFields:{},errors:A.keepErrors?r.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Vt=(E,A)=>le(Cs(E)?E(o):E,A);return{control:{register:ke,unregister:Be,getFieldState:he,handleSubmit:Ee,setError:Ie,_executeSchema:N,_getWatch:$,_getDirty:M,_updateValid:w,_removeUnmounted:O,_updateFieldArray:x,_updateDisabledField:ae,_getFieldArray:I,_reset:le,_resetDefaultValues:()=>Cs(t.defaultValues)&&t.defaultValues().then(E=>{Vt(E,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:E=>{r={...r,...E}},_disableForm:Me,_subjects:d,_proxyFormState:f,_setErrors:_,get _fields(){return n},get _formValues(){return o},get _state(){return a},set _state(E){a=E},get _defaultValues(){return s},get _names(){return l},set _names(E){l=E},get _formState(){return r},set _formState(E){r=E},get _options(){return t},set _options(E){t={...t,...E}}},trigger:H,register:ke,handleSubmit:Ee,watch:_t,setValue:F,getValues:re,reset:Vt,resetField:$e,clearErrors:Oe,unregister:Be,setError:Ie,setFocus:(E,A={})=>{const z=se(n,E),J=z&&z._f;if(J){const Z=J.refs?J.refs[0]:J.ref;Z.focus&&(Z.focus(),A.shouldSelect&&Z.select())}},getFieldState:he}}function q7(e={}){const t=G.useRef(),r=G.useRef(),[n,s]=G.useState({isDirty:!1,isValidating:!1,isLoading:Cs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Cs(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...W7(e),formState:n});const o=t.current.control;return o._options=e,M7({subject:o._subjects.state,next:a=>{R7(a,o._proxyFormState,o._updateFormState)&&s({...o._formState})}}),G.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),G.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==n.isDirty&&o._subjects.state.next({isDirty:a})}},[o,n.isDirty]),G.useEffect(()=>{e.values&&!no(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,s(a=>({...a}))):o._resetDefaultValues()},[e.values,o]),G.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),G.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),G.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),G.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=T7(n,o),t.current}const i1=(e,t,r)=>{if(e&&"reportValidity"in e){const n=se(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},i2=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?i1(n.ref,r,e):n.refs&&n.refs.forEach(s=>i1(s,r,e))}},H7=(e,t)=>{t.shouldUseNativeValidation&&i2(e,t);const r={};for(const n in e){const s=se(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(K7(t.names||Object.keys(e),n)){const a=Object.assign({},se(r,n));Ke(a,"root",o),Ke(r,n,a)}else Ke(r,n,o)}return r},K7=(e,t)=>e.some(r=>r.startsWith(t+"."));var G7=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(d){return e.push(d)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=e2(a,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},Y7=function(e,t,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return o.shouldUseNativeValidation&&i2({},o),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:H7(G7(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}}},Fe;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const a of s)o[a]=a;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of o)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&o.push(a);return o},e.find=(s,o)=>{for(const a of s)if(o(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Fe||(Fe={}));var l1;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(l1||(l1={}));const ne=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jo=e=>{switch(typeof e){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return isNaN(e)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(e)?ne.array:e===null?ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ne.promise:typeof Map<"u"&&e instanceof Map?ne.map:typeof Set<"u"&&e instanceof Set?ne.set:typeof Date<"u"&&e instanceof Date?ne.date:ne.object;default:return ne.unknown}},K=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Yr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Yr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Yr.create=e=>new Yr(e);const Jc=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===ne.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Fe.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${Fe.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Fe.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${Fe.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Fe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,Fe.assertNever(e)}return{message:r}};let Q7=Jc;function _v(){return Q7}const Sv=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],a={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:o,message:l}};function ee(e,t){const r=_v(),n=Sv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Jc?void 0:Jc].filter(s=>!!s)});e.common.issues.push(n)}class or{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ve;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,a=await s.value;n.push({key:o,value:a})}return or.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:a}=s;if(o.status==="aborted"||a.status==="aborted")return ve;o.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[o.value]=a.value)}return{status:t.value,value:n}}}const ve=Object.freeze({status:"aborted"}),sc=e=>({status:"dirty",value:e}),Cr=e=>({status:"valid",value:e}),c1=e=>e.status==="aborted",u1=e=>e.status==="dirty",Bf=e=>e.status==="valid",Vf=e=>typeof Promise<"u"&&e instanceof Promise;function Wf(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function l2(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ce||(ce={}));var oc,ac;class rs{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const d1=(e,t)=>{if(Bf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Yr(e.common.issues);return this._error=r,this._error}}};function we(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{var c,u;const{message:f}=e;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Pe{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Jo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Jo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new or,ctx:{common:t.parent.common,data:t.data,parsedType:Jo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Vf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jo(t)},o=this._parseSync({data:t,path:s.path,parent:s});return d1(s,o)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jo(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(Vf(s)?s:Promise.resolve(s));return d1(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const a=t(s),l=()=>o.addIssue({code:K.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new $s({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Es.create(this,this._def)}nullable(){return ka.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zn.create(this,this._def)}promise(){return tu.create(this,this._def)}or(t){return Kf.create([this,t],this._def)}and(t){return Gf.create(this,t,this._def)}transform(t){return new $s({...we(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Jf({...we(this._def),innerType:this,defaultValue:r,typeName:pe.ZodDefault})}brand(){return new f2({typeName:pe.ZodBranded,type:this,...we(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new eh({...we(this._def),innerType:this,catchValue:r,typeName:pe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return am.create(this,t)}readonly(){return th.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Z7=/^c[^\s-]{8,}$/i,X7=/^[0-9a-z]+$/,J7=/^[0-9A-HJKMNP-TV-Z]{26}$/,eB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tB=/^[a-z0-9_-]{21}$/i,rB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kp;const oB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aB=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,iB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,c2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lB=new RegExp(`^${c2}$`);function u2(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function cB(e){return new RegExp(`^${u2(e)}$`)}function uB(e){let t=`${c2}T${u2(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function dB(e,t){return!!((t==="v4"||!t)&&oB.test(e)||(t==="v6"||!t)&&aB.test(e))}class js extends Pe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ne.string){const o=this._getOrReturnCtx(t);return ee(o,{code:K.invalid_type,expected:ne.string,received:o.parsedType}),ve}const n=new or;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),ee(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),ee(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const a=t.data.length>o.value,l=t.data.length<o.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?ee(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&ee(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")nB.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"email",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")kp||(kp=new RegExp(sB,"u")),kp.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"emoji",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")eB.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"uuid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")tB.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"nanoid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")Z7.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"cuid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")X7.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"cuid2",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")J7.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"ulid",code:K.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ee(s,{validation:"url",code:K.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"regex",code:K.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),ee(s,{code:K.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),ee(s,{code:K.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),ee(s,{code:K.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?uB(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{code:K.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?lB.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{code:K.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?cB(o).test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{code:K.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?rB.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"duration",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?dB(t.data,o.version)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"ip",code:K.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?iB.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"base64",code:K.invalid_string,message:o.message}),n.dirty()):Fe.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:K.invalid_string,...ce.errToObj(n)})}_addCheck(t){return new js({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ce.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ce.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ce.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ce.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ce.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ce.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ce.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ce.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ce.errToObj(r)})}nonempty(t){return this.min(1,ce.errToObj(t))}trim(){return new js({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new js({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new js({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}js.create=e=>{var t;return new js({checks:[],typeName:pe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...we(e)})};function fB(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return o%a/Math.pow(10,s)}class Ji extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ne.number){const o=this._getOrReturnCtx(t);return ee(o,{code:K.invalid_type,expected:ne.number,received:o.parsedType}),ve}let n;const s=new or;for(const o of this._def.checks)o.kind==="int"?Fe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ee(n,{code:K.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?fB(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ee(n,{code:K.not_finite,message:o.message}),s.dirty()):Fe.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,n,s){return new Ji({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(t){return new Ji({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Fe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ji.create=e=>new Ji({checks:[],typeName:pe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...we(e)});class el extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ne.bigint){const o=this._getOrReturnCtx(t);return ee(o,{code:K.invalid_type,expected:ne.bigint,received:o.parsedType}),ve}let n;const s=new or;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ee(n,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Fe.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,n,s){return new el({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(t){return new el({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}el.create=e=>{var t;return new el({checks:[],typeName:pe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...we(e)})};class Cv extends Pe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ne.boolean){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:ne.boolean,received:n.parsedType}),ve}return Cr(t.data)}}Cv.create=e=>new Cv({typeName:pe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...we(e)});class eu extends Pe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ne.date){const o=this._getOrReturnCtx(t);return ee(o,{code:K.invalid_type,expected:ne.date,received:o.parsedType}),ve}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return ee(o,{code:K.invalid_date}),ve}const n=new or;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),ee(s,{code:K.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),ee(s,{code:K.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Fe.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new eu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ce.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ce.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}eu.create=e=>new eu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:pe.ZodDate,...we(e)});class jv extends Pe{_parse(t){if(this._getType(t)!==ne.symbol){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:ne.symbol,received:n.parsedType}),ve}return Cr(t.data)}}jv.create=e=>new jv({typeName:pe.ZodSymbol,...we(e)});class qf extends Pe{_parse(t){if(this._getType(t)!==ne.undefined){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:ne.undefined,received:n.parsedType}),ve}return Cr(t.data)}}qf.create=e=>new qf({typeName:pe.ZodUndefined,...we(e)});class Hf extends Pe{_parse(t){if(this._getType(t)!==ne.null){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:ne.null,received:n.parsedType}),ve}return Cr(t.data)}}Hf.create=e=>new Hf({typeName:pe.ZodNull,...we(e)});class Nv extends Pe{constructor(){super(...arguments),this._any=!0}_parse(t){return Cr(t.data)}}Nv.create=e=>new Nv({typeName:pe.ZodAny,...we(e)});class Ci extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Cr(t.data)}}Ci.create=e=>new Ci({typeName:pe.ZodUnknown,...we(e)});class Oo extends Pe{_parse(t){const r=this._getOrReturnCtx(t);return ee(r,{code:K.invalid_type,expected:ne.never,received:r.parsedType}),ve}}Oo.create=e=>new Oo({typeName:pe.ZodNever,...we(e)});class kv extends Pe{_parse(t){if(this._getType(t)!==ne.undefined){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:ne.void,received:n.parsedType}),ve}return Cr(t.data)}}kv.create=e=>new kv({typeName:pe.ZodVoid,...we(e)});class Zn extends Pe{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ne.array)return ee(r,{code:K.invalid_type,expected:ne.array,received:r.parsedType}),ve;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(ee(r,{code:a?K.too_big:K.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ee(r,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ee(r,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new rs(r,a,r.path,l)))).then(a=>or.mergeArray(n,a));const o=[...r.data].map((a,l)=>s.type._parseSync(new rs(r,a,r.path,l)));return or.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Zn({...this._def,minLength:{value:t,message:ce.toString(r)}})}max(t,r){return new Zn({...this._def,maxLength:{value:t,message:ce.toString(r)}})}length(t,r){return new Zn({...this._def,exactLength:{value:t,message:ce.toString(r)}})}nonempty(t){return this.min(1,t)}}Zn.create=(e,t)=>new Zn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...we(t)});function Qa(e){if(e instanceof ht){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Es.create(Qa(n))}return new ht({...e._def,shape:()=>t})}else return e instanceof Zn?new Zn({...e._def,type:Qa(e.element)}):e instanceof Es?Es.create(Qa(e.unwrap())):e instanceof ka?ka.create(Qa(e.unwrap())):e instanceof Ls?Ls.create(e.items.map(t=>Qa(t))):e}class ht extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Fe.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ne.object){const u=this._getOrReturnCtx(t);return ee(u,{code:K.invalid_type,expected:ne.object,received:u.parsedType}),ve}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Oo&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const f=o[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new rs(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Oo){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")l.length>0&&(ee(s,{code:K.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const d=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new rs(s,d,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>or.mergeObjectSync(n,u)):or.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ce.errToObj,new ht({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o,a,l;const c=(a=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=ce.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new ht({...this._def,unknownKeys:"strip"})}passthrough(){return new ht({...this._def,unknownKeys:"passthrough"})}extend(t){return new ht({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ht({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:pe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ht({...this._def,catchall:t})}pick(t){const r={};return Fe.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ht({...this._def,shape:()=>r})}omit(t){const r={};return Fe.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new ht({...this._def,shape:()=>r})}deepPartial(){return Qa(this)}partial(t){const r={};return Fe.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new ht({...this._def,shape:()=>r})}required(t){const r={};return Fe.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Es;)o=o._def.innerType;r[n]=o}}),new ht({...this._def,shape:()=>r})}keyof(){return d2(Fe.objectKeys(this.shape))}}ht.create=(e,t)=>new ht({shape:()=>e,unknownKeys:"strip",catchall:Oo.create(),typeName:pe.ZodObject,...we(t)});ht.strictCreate=(e,t)=>new ht({shape:()=>e,unknownKeys:"strict",catchall:Oo.create(),typeName:pe.ZodObject,...we(t)});ht.lazycreate=(e,t)=>new ht({shape:e,unknownKeys:"strip",catchall:Oo.create(),typeName:pe.ZodObject,...we(t)});class Kf extends Pe{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=o.map(l=>new Yr(l.ctx.common.issues));return ee(r,{code:K.invalid_union,unionErrors:a}),ve}if(r.common.async)return Promise.all(n.map(async o=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let o;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=a.map(c=>new Yr(c));return ee(r,{code:K.invalid_union,unionErrors:l}),ve}}get options(){return this._def.options}}Kf.create=(e,t)=>new Kf({options:e,typeName:pe.ZodUnion,...we(t)});const ps=e=>e instanceof Qf?ps(e.schema):e instanceof $s?ps(e.innerType()):e instanceof Zf?[e.value]:e instanceof Na?e.options:e instanceof Xf?Fe.objectValues(e.enum):e instanceof Jf?ps(e._def.innerType):e instanceof qf?[void 0]:e instanceof Hf?[null]:e instanceof Es?[void 0,...ps(e.unwrap())]:e instanceof ka?[null,...ps(e.unwrap())]:e instanceof f2||e instanceof th?ps(e.unwrap()):e instanceof eh?ps(e._def.innerType):[];class zx extends Pe{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ne.object)return ee(r,{code:K.invalid_type,expected:ne.object,received:r.parsedType}),ve;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(ee(r,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ve)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const o of r){const a=ps(o.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of a){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,o)}}return new zx({typeName:pe.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...we(n)})}}function Ev(e,t){const r=Jo(e),n=Jo(t);if(e===t)return{valid:!0,data:e};if(r===ne.object&&n===ne.object){const s=Fe.objectKeys(t),o=Fe.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of o){const c=Ev(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===ne.array&&n===ne.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const a=e[o],l=t[o],c=Ev(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ne.date&&n===ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gf extends Pe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,a)=>{if(c1(o)||c1(a))return ve;const l=Ev(o.value,a.value);return l.valid?((u1(o)||u1(a))&&r.dirty(),{status:r.value,value:l.data}):(ee(n,{code:K.invalid_intersection_types}),ve)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>s(o,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Gf.create=(e,t,r)=>new Gf({left:e,right:t,typeName:pe.ZodIntersection,...we(r)});class Ls extends Pe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ne.array)return ee(n,{code:K.invalid_type,expected:ne.array,received:n.parsedType}),ve;if(n.data.length<this._def.items.length)return ee(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&n.data.length>this._def.items.length&&(ee(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new rs(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(o).then(a=>or.mergeArray(r,a)):or.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new Ls({...this._def,rest:t})}}Ls.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ls({items:e,typeName:pe.ZodTuple,rest:null,...we(t)})};class Yf extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ne.object)return ee(n,{code:K.invalid_type,expected:ne.object,received:n.parsedType}),ve;const s=[],o=this._def.keyType,a=this._def.valueType;for(const l in n.data)s.push({key:o._parse(new rs(n,l,n.path,l)),value:a._parse(new rs(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?or.mergeObjectAsync(r,s):or.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Pe?new Yf({keyType:t,valueType:r,typeName:pe.ZodRecord,...we(n)}):new Yf({keyType:js.create(),valueType:t,typeName:pe.ZodRecord,...we(r)})}}class Pv extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ne.map)return ee(n,{code:K.invalid_type,expected:ne.map,received:n.parsedType}),ve;const s=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new rs(n,l,n.path,[u,"key"])),value:o._parse(new rs(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return ve;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return ve;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}Pv.create=(e,t,r)=>new Pv({valueType:t,keyType:e,typeName:pe.ZodMap,...we(r)});class tl extends Pe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ne.set)return ee(n,{code:K.invalid_type,expected:ne.set,received:n.parsedType}),ve;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ee(n,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ee(n,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function a(c){const u=new Set;for(const f of c){if(f.status==="aborted")return ve;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>o._parse(new rs(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new tl({...this._def,minSize:{value:t,message:ce.toString(r)}})}max(t,r){return new tl({...this._def,maxSize:{value:t,message:ce.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}tl.create=(e,t)=>new tl({valueType:e,minSize:null,maxSize:null,typeName:pe.ZodSet,...we(t)});class jc extends Pe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ne.function)return ee(r,{code:K.invalid_type,expected:ne.function,received:r.parsedType}),ve;function n(l,c){return Sv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_v(),Jc].filter(u=>!!u),issueData:{code:K.invalid_arguments,argumentsError:c}})}function s(l,c){return Sv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_v(),Jc].filter(u=>!!u),issueData:{code:K.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof tu){const l=this;return Cr(async function(...c){const u=new Yr([]),f=await l._def.args.parseAsync(c,o).catch(p=>{throw u.addIssue(n(c,p)),u}),d=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(d,o).catch(p=>{throw u.addIssue(s(d,p)),u})})}else{const l=this;return Cr(function(...c){const u=l._def.args.safeParse(c,o);if(!u.success)throw new Yr([n(c,u.error)]);const f=Reflect.apply(a,this,u.data),d=l._def.returns.safeParse(f,o);if(!d.success)throw new Yr([s(f,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new jc({...this._def,args:Ls.create(t).rest(Ci.create())})}returns(t){return new jc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new jc({args:t||Ls.create([]).rest(Ci.create()),returns:r||Ci.create(),typeName:pe.ZodFunction,...we(n)})}}class Qf extends Pe{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Qf.create=(e,t)=>new Qf({getter:e,typeName:pe.ZodLazy,...we(t)});class Zf extends Pe{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ee(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:t.data}}get value(){return this._def.value}}Zf.create=(e,t)=>new Zf({value:e,typeName:pe.ZodLiteral,...we(t)});function d2(e,t){return new Na({values:e,typeName:pe.ZodEnum,...we(t)})}class Na extends Pe{constructor(){super(...arguments),oc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ee(r,{expected:Fe.joinValues(n),received:r.parsedType,code:K.invalid_type}),ve}if(Wf(this,oc)||l2(this,oc,new Set(this._def.values)),!Wf(this,oc).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ee(r,{received:r.data,code:K.invalid_enum_value,options:n}),ve}return Cr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Na.create(t,{...this._def,...r})}exclude(t,r=this._def){return Na.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}oc=new WeakMap;Na.create=d2;class Xf extends Pe{constructor(){super(...arguments),ac.set(this,void 0)}_parse(t){const r=Fe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ne.string&&n.parsedType!==ne.number){const s=Fe.objectValues(r);return ee(n,{expected:Fe.joinValues(s),received:n.parsedType,code:K.invalid_type}),ve}if(Wf(this,ac)||l2(this,ac,new Set(Fe.getValidEnumValues(this._def.values))),!Wf(this,ac).has(t.data)){const s=Fe.objectValues(r);return ee(n,{received:n.data,code:K.invalid_enum_value,options:s}),ve}return Cr(t.data)}get enum(){return this._def.values}}ac=new WeakMap;Xf.create=(e,t)=>new Xf({values:e,typeName:pe.ZodNativeEnum,...we(t)});class tu extends Pe{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ne.promise&&r.common.async===!1)return ee(r,{code:K.invalid_type,expected:ne.promise,received:r.parsedType}),ve;const n=r.parsedType===ne.promise?r.data:Promise.resolve(r.data);return Cr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}tu.create=(e,t)=>new tu({type:e,typeName:pe.ZodPromise,...we(t)});class $s extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:a=>{ee(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const a=s.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return ve;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ve:c.status==="dirty"||r.value==="dirty"?sc(c.value):c});{if(r.value==="aborted")return ve;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?ve:l.status==="dirty"||r.value==="dirty"?sc(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ve:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ve:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Bf(a))return a;const l=s.transform(a.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Bf(a)?Promise.resolve(s.transform(a.value,o)).then(l=>({status:r.value,value:l})):a);Fe.assertNever(s)}}$s.create=(e,t,r)=>new $s({schema:e,typeName:pe.ZodEffects,effect:t,...we(r)});$s.createWithPreprocess=(e,t,r)=>new $s({schema:t,effect:{type:"preprocess",transform:e},typeName:pe.ZodEffects,...we(r)});class Es extends Pe{_parse(t){return this._getType(t)===ne.undefined?Cr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Es.create=(e,t)=>new Es({innerType:e,typeName:pe.ZodOptional,...we(t)});class ka extends Pe{_parse(t){return this._getType(t)===ne.null?Cr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ka.create=(e,t)=>new ka({innerType:e,typeName:pe.ZodNullable,...we(t)});class Jf extends Pe{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Jf.create=(e,t)=>new Jf({innerType:e,typeName:pe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...we(t)});class eh extends Pe{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Vf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Yr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Yr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}eh.create=(e,t)=>new eh({innerType:e,typeName:pe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...we(t)});class Tv extends Pe{_parse(t){if(this._getType(t)!==ne.nan){const n=this._getOrReturnCtx(t);return ee(n,{code:K.invalid_type,expected:ne.nan,received:n.parsedType}),ve}return{status:"valid",value:t.data}}}Tv.create=e=>new Tv({typeName:pe.ZodNaN,...we(e)});class f2 extends Pe{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class am extends Pe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ve:o.status==="dirty"?(r.dirty(),sc(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ve:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new am({in:t,out:r,typeName:pe.ZodPipeline})}}class th extends Pe{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Bf(s)&&(s.value=Object.freeze(s.value)),s);return Vf(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}th.create=(e,t)=>new th({innerType:e,typeName:pe.ZodReadonly,...we(t)});ht.lazycreate;var pe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(pe||(pe={}));const Ep=js.create,f1=Ji.create;Tv.create;el.create;Cv.create;eu.create;jv.create;qf.create;Hf.create;Nv.create;Ci.create;Oo.create;kv.create;Zn.create;const hB=ht.create;ht.strictCreate;Kf.create;zx.create;Gf.create;Ls.create;Yf.create;Pv.create;tl.create;jc.create;Qf.create;Zf.create;const mB=Na.create;Xf.create;tu.create;$s.create;Es.create;ka.create;$s.createWithPreprocess;am.create;const Ux=m.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:U("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ux.displayName="Textarea";const pB=hB({goal_type:mB(["emergency_fund","purchase_goal","investment_goal","custom_goal"]),amount:f1().min(1,"O valor deve ser maior que R$ 0"),target_date:Ep().optional(),monthly_contribution:f1().min(0).optional(),description:Ep().optional(),goal_icon:Ep().optional()}),gB=[{value:"emergency_fund",label:"Reserva de Emergncia",icon:"",description:"Para momentos difceis"},{value:"purchase_goal",label:"Meta de Compra",icon:"",description:"Para aquela compra especial"},{value:"investment_goal",label:"Meta de Investimento",icon:"",description:"Para crescer seu patrimnio"},{value:"custom_goal",label:"Meta Personalizada",icon:"",description:"Para seus objetivos nicos"}];function h1({goal:e,onSubmit:t,onCancel:r,isLoading:n}){const[s,o]=m.useState(e!=null&&e.target_date?new Date(e.target_date):void 0),{register:a,handleSubmit:l,formState:{errors:c},setValue:u,watch:f}=q7({resolver:Y7(pB),defaultValues:{goal_type:(e==null?void 0:e.goal_type)||"custom_goal",amount:(e==null?void 0:e.amount)||0,monthly_contribution:(e==null?void 0:e.monthly_contribution)||0,description:(e==null?void 0:e.description)||"",goal_icon:(e==null?void 0:e.goal_icon)||"target"}}),d=f("goal_type"),h=f("amount"),p=f("monthly_contribution"),g=w=>{t({...w,target_date:s==null?void 0:s.toISOString().split("T")[0]})},v=()=>h&&p&&p>0?Math.ceil(h/p):0;return i.jsxs("form",{onSubmit:l(g),className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{children:"Tipo de Meta"}),i.jsxs(_s,{value:d,onValueChange:w=>u("goal_type",w),children:[i.jsx(Wn,{children:i.jsx(Ss,{placeholder:"Selecione o tipo de meta"})}),i.jsx(qn,{children:gB.map(w=>i.jsx(it,{value:w.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:w.icon}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:w.label}),i.jsx("div",{className:"text-xs text-muted-foreground",children:w.description})]})]})},w.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"description",children:"Descrio da Meta"}),i.jsx(Ux,{id:"description",placeholder:"Ex: Reserva para emergncias de 6 meses...",...a("description")})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"amount",children:"Valor da Meta (R$)"}),i.jsx(Ae,{id:"amount",type:"number",step:"0.01",placeholder:"0,00",...a("amount",{valueAsNumber:!0})}),c.amount&&i.jsx("p",{className:"text-sm text-red-500",children:c.amount.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"monthly_contribution",children:"Contribuio Mensal (R$)"}),i.jsx(Ae,{id:"monthly_contribution",type:"number",step:"0.01",placeholder:"0,00",...a("monthly_contribution",{valueAsNumber:!0})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{children:"Data Alvo (Opcional)"}),i.jsxs(Rx,{children:[i.jsx(Mx,{asChild:!0,children:i.jsxs(Q,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[i.jsx(vu,{className:"mr-2 h-4 w-4"}),s?Se(s,"dd 'de' MMMM 'de' yyyy",{locale:ct}):i.jsx("span",{children:"Selecione uma data"})]})}),i.jsx(nm,{className:"w-auto p-0",align:"start",children:i.jsx(Ex,{mode:"single",selected:s,onSelect:o,disabled:w=>w<new Date,initialFocus:!0})})]})]}),h&&p&&p>0&&i.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-2",children:" Projeo"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Com contribuies de R$ ",p.toLocaleString("pt-BR",{minimumFractionDigits:2})," por ms, voc atingir sua meta em aproximadamente ",i.jsxs("strong",{children:[v()," meses"]}),"."]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Q,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancelar"}),i.jsx(Q,{type:"submit",disabled:n,className:"flex-1",children:n?"Salvando...":e?"Atualizar Meta":"Criar Meta"})]})]})}function h2(){const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,o]=m.useState(0),{goals:a,createGoal:l,updateGoal:c,deleteGoal:u,isCreating:f,isUpdating:d}=Dx(),h=HE(a),p=_=>{console.log(" Criando nova meta:",_),o(10);try{l(_),setTimeout(()=>o(50),300),setTimeout(()=>o(80),600),setTimeout(()=>{o(100),t(!1),o(0),n(null)},900)}catch(S){console.error(" Erro ao criar meta:",S),o(0)}},g=_=>{n(_),t(!0)},v=_=>{r&&(console.log(" Atualizando meta:",{..._,id:r.id}),c({..._,id:r.id}),n(null),t(!1))},w=_=>{confirm("Tem certeza que deseja remover esta meta?")&&u(_)},y=()=>{n(null),o(0),t(!0)},x=()=>{t(!1),n(null),o(0)},b=a.length>0?h.reduce((_,S)=>_+Math.min(S.percentage,100),0)/a.length:0;return a.length===0?i.jsxs(i.Fragment,{children:[i.jsxs(Mt,{children:[i.jsx(Ar,{children:i.jsxs(Ir,{className:"flex items-center gap-2",children:[i.jsx(ks,{className:"h-5 w-5"}),"Metas Financeiras"]})}),i.jsx(Lt,{className:"text-center py-8",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-muted rounded-full flex items-center justify-center",children:i.jsx(ks,{className:"h-6 w-6 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Nenhuma meta definida"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Defina metas financeiras para acompanhar seu progresso"})]}),i.jsxs(Q,{onClick:y,children:[i.jsx(jf,{className:"h-4 w-4 mr-2"}),"Criar primeira meta"]})]})})]}),i.jsx(Os,{open:e,onOpenChange:x,children:i.jsxs(Xn,{className:"max-w-md",children:[i.jsx(Jn,{children:i.jsx(es,{children:"Criar Nova Meta"})}),s>0&&i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Criando meta..."}),i.jsxs("span",{children:[s,"%"]})]}),i.jsx(Sc,{value:s,className:"h-2"})]}),i.jsx(h1,{onSubmit:p,onCancel:x,isLoading:f})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[i.jsx(ks,{className:"h-5 w-5"}),"Suas Metas Financeiras"]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progresso geral das metas"}),i.jsxs("span",{className:"font-medium",children:[Math.round(b),"%"]})]}),i.jsx(Sc,{value:b,className:"h-2 w-64"})]})]}),i.jsxs(Q,{onClick:y,children:[i.jsx(jf,{className:"h-4 w-4 mr-2"}),"Nova Meta"]})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:h.map(_=>i.jsx(j7,{progress:_,onEdit:()=>g(_.goal),onDelete:()=>w(_.goal.id)},_.goal.id))}),i.jsx(Os,{open:e,onOpenChange:x,children:i.jsxs(Xn,{className:"max-w-md",children:[i.jsx(Jn,{children:i.jsx(es,{children:r?"Editar Meta":"Criar Nova Meta"})}),!r&&s>0&&i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Criando meta..."}),i.jsxs("span",{children:[s,"%"]})]}),i.jsx(Sc,{value:s,className:"h-2"})]}),i.jsx(h1,{goal:r,onSubmit:r?v:p,onCancel:x,isLoading:f||d})]})})]})}const xd=e=>`R$ ${e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`;function vB(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),{data:s=[],isLoading:o}=qE(),{goals:a}=Dx(),l=HE(a),c=m.useMemo(()=>new Date,[]),u=m.useMemo(()=>{if(!s||s.length===0)return[];const d=zt(c),h=Zi(c),p=zt(Af(c,1)),g=Zi(Af(c,1)),v=s.filter(C=>$b($n(C.date),{start:d,end:h})),w=s.filter(C=>$b($n(C.date),{start:p,end:g})),y=v.filter(C=>C.type==="expense").reduce((C,N)=>C+Math.abs(N.amount),0),x=w.filter(C=>C.type==="expense").reduce((C,N)=>C+Math.abs(N.amount),0),b=v.filter(C=>C.type==="income"&&C.payment_status==="confirmed").reduce((C,N)=>C+N.amount,0),_=v.filter(C=>C.type==="investment").reduce((C,N)=>C+N.amount,0),S=s.filter(C=>C.type==="investment").reduce((C,N)=>C+N.amount,0),j=[];if(_>0){const C=b>0?_/b:0;C>=.2?j.push({type:"investment_excellent",title:"Excelente Taxa de Investimento! ",description:`Voc investiu ${Math.round(C*100)}% da sua renda este ms (${xd(_)})`,action:"Continue investindo consistentemente para atingir suas metas",impact:"low",icon:i.jsx(vi,{className:"h-5 w-5 text-blue-500"})}):C>=.1&&j.push({type:"investment_good",title:"Boa Taxa de Investimento ",description:`Voc investiu ${Math.round(C*100)}% da sua renda este ms`,action:"Tente aumentar para 20% se possvel",impact:"medium",icon:i.jsx(vi,{className:"h-5 w-5 text-blue-500"})})}if(S>0&&j.push({type:"total_investments",title:`Patrimnio Acumulado: ${xd(S)}`,description:`Voc j acumulou um total de ${xd(S)} em investimentos`,action:"Continue investindo regularmente para fazer seu dinheiro trabalhar para voc",impact:"low",icon:i.jsx(ov,{className:"h-5 w-5 text-blue-500"})}),l.forEach(C=>{const{goal:N,current:k,target:R,percentage:O,status:M}=C;O>=100&&M==="achieved"?j.push({type:"goal_achieved",title:"Meta Atingida! ",description:`Voc alcanou sua meta "${N.description||"Meta de Poupana"}" de ${xd(R)}`,impact:"low",icon:i.jsx(n5,{className:"h-5 w-5 text-green-500"})}):M==="behind"?j.push({type:"goal_behind",title:`Meta Atrasada: ${N.description||"Meta"}`,description:`Voc est com ${Math.round(O)}% da sua meta. Precisa acelerar para atingir o objetivo.`,action:"Considere aumentar as contribuies mensais ou fazer investimentos direcionados",impact:"high",icon:i.jsx(xu,{className:"h-5 w-5 text-red-500"})}):M==="warning"&&j.push({type:"goal_warning",title:`Ateno na Meta: ${N.description||"Meta"}`,description:`Voc est com ${Math.round(O)}% da sua meta e o prazo est se aproximando`,action:"Monitore seu progresso e considere fazer investimentos especficos para esta meta",impact:"medium",icon:i.jsx(ks,{className:"h-5 w-5 text-yellow-500"})})}),y>x*1.2){const C=Math.round((y/x-1)*100);j.push({type:"expense_increase",title:"Aumento de Gastos",description:`Seus gastos subiram ${C}% em relao ao ms passado`,action:"Analise onde foi o aumento e considere reduzir para aumentar seus investimentos",impact:"high",icon:i.jsx(vi,{className:"h-5 w-5 text-red-500"})})}if(b>0){const C=(b-y)/b,N=(b-y+_)/b;C<.1&&_===0?j.push({type:"savings_low",title:"Taxa de Poupana e Investimento Baixa",description:`Voc est poupando apenas ${Math.round(C*100)}% da sua renda e no fez investimentos`,action:"Tente economizar pelo menos 20% da sua renda mensal e destine parte para investimentos",impact:"high",icon:i.jsx(ov,{className:"h-5 w-5 text-red-500"})}):N>=.3&&j.push({type:"allocation_excellent",title:"Excelente Gesto Financeira! ",description:`Voc est poupando/investindo ${Math.round(N*100)}% da sua renda`,action:"Continue assim! Considere diversificar seus investimentos",impact:"low",icon:i.jsx(Cf,{className:"h-5 w-5 text-green-500"})})}return j.sort((C,N)=>{const k={high:0,medium:1,low:2};return k[C.impact]-k[N.impact]})},[s,l,c]);if(o)return i.jsxs(Mt,{children:[i.jsx(Ar,{children:i.jsxs(Ir,{className:"flex items-center gap-2",children:[i.jsx(lb,{className:"h-5 w-5 text-yellow-500"}),"Insights Financeiros"]})}),i.jsx(Lt,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Analisando seus dados..."})})]});if(e)return i.jsxs("div",{className:"space-y-6",children:[i.jsx(Q,{variant:"outline",onClick:()=>t(!1),className:"mb-4",children:" Voltar aos Insights"}),i.jsx(h2,{})]});const f=r?u:u.slice(0,3);return i.jsxs(Mt,{children:[i.jsx(Ar,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ir,{className:"flex items-center gap-2",children:[i.jsx(lb,{className:"h-5 w-5 text-yellow-500"}),"Insights Financeiros Inteligentes"]}),i.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>t(!0),children:[i.jsx(ks,{className:"h-4 w-4 mr-2"}),"Gerenciar Metas"]})]})}),i.jsxs(Lt,{className:"space-y-4",children:[a.length===0&&i.jsxs(Hi,{className:"border-l-4 border-l-blue-500",children:[i.jsx(ks,{className:"h-4 w-4"}),i.jsx(Ef,{children:"Defina suas metas financeiras"}),i.jsxs(Ki,{children:["Crie metas para receber insights personalizados sobre seu progresso financeiro.",i.jsx(Q,{variant:"link",className:"p-0 h-auto font-normal text-primary",onClick:()=>t(!0),children:"Criar primeira meta "})]})]}),u.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Cf,{className:"h-12 w-12 mx-auto text-green-500 mb-4"}),i.jsx("h3",{className:"font-medium",children:"Tudo sob controle!"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Suas finanas esto equilibradas. Continue assim!"})]}):i.jsxs("div",{className:"space-y-4",children:[f.map((d,h)=>i.jsx(Hi,{className:d.impact==="high"?"border-l-4 border-l-red-500":d.impact==="medium"?"border-l-4 border-l-yellow-500":"border-l-4 border-l-green-500",children:i.jsxs("div",{className:"flex items-start gap-3",children:[d.icon,i.jsxs("div",{className:"flex-1",children:[i.jsx(Ef,{className:"font-semibold",children:d.title}),i.jsxs(Ki,{className:"mt-1",children:[d.description,d.action&&i.jsx("p",{className:"mt-2 font-medium text-primary",children:d.action})]})]})]})},h)),u.length>3&&i.jsx(Q,{variant:"outline",className:"w-full",onClick:()=>n(!r),children:r?"Ver menos":`Ver mais ${u.length-3} insights`})]})]})]})}const yB=()=>{const{user:e}=Ne(),t=Ml(),[r,n]=m.useState(!1),[s,o]=m.useState("today"),[a,l]=m.useState(_i(new Date,7)),[c,u]=m.useState(new Date),f=Qe(),d=m.useRef(null),h=m.useRef(null),p=m.useRef(!1);return m.useEffect(()=>{const g=(e==null?void 0:e.id)||null;if(h.current!==g){if(d.current){console.log(" User changed, cleaning up dashboard channel");try{L.removeChannel(d.current)}catch(y){console.warn("Error removing channel:",y)}d.current=null,p.current=!1}h.current=g}if(!g)return;if(p.current){console.log(" Dashboard subscription already in progress, skipping");return}if(d.current){console.log(" Cleaning up existing dashboard channel before creating new one");try{L.removeChannel(d.current)}catch(y){console.warn("Error removing existing channel:",y)}d.current=null}const v=`dashboard-transactions-${g}-${Date.now()}`;console.log(" Creating dashboard channel:",v);const w=L.channel(v).on("postgres_changes",{event:"*",schema:"public",table:"transactions",filter:`user_id=eq.${g}`},()=>{console.log(" Alterao detectada no banco de dados. Atualizando dashboard..."),f.invalidateQueries({queryKey:["recent-transactions"]}),f.invalidateQueries({queryKey:["expense-chart"]}),f.invalidateQueries({queryKey:["financial-insights"]})});return d.current=w,p.current=!0,w.subscribe(y=>{console.log("Dashboard channel subscription status:",y),y==="CLOSED"&&(console.log(" Dashboard channel subscription closed"),p.current=!1)}),()=>{if(console.log(" Removendo canal do Dashboard:",v),d.current){try{L.removeChannel(d.current)}catch(y){console.warn("Error removing channel:",y)}d.current=null,p.current=!1}}},[f,e==null?void 0:e.id]),i.jsxs("div",{className:"w-full space-y-8",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:i.jsx("h1",{className:"text-2xl md:text-4xl font-bold",children:"Resumo Financeiro"})}),i.jsx(sm,{dateRange:s,startDate:a,endDate:c,onDateRangeChange:o,onStartDateChange:l,onEndDateChange:u}),i.jsx(vB,{}),i.jsx("div",{className:"w-full",children:i.jsx(bU,{startDate:a,endDate:c})}),i.jsx(Qz,{startDate:a,endDate:c}),i.jsx(Q,{size:"lg",onClick:()=>n(!0),className:`fixed shadow-lg flex items-center justify-center z-40 rounded-full w-14 h-14 md:w-16 md:h-16 ${t?"bottom-20 right-6":"bottom-6 right-6"}`,children:i.jsx(jf,{className:"w-6 h-6"})}),i.jsx(y8,{open:r,onOpenChange:n,onTransactionAdded:()=>{console.log(" Nova transao adicionada. Invalidando cache..."),f.invalidateQueries({queryKey:["recent-transactions"]}),f.invalidateQueries({queryKey:["expense-chart"]}),f.invalidateQueries({queryKey:["financial-insights"]}),f.invalidateQueries({queryKey:["financial-goals"]})}})]})};function xB(e,t){const{user:r}=Ne(),[n,s]=m.useState(""),{data:o,isLoading:a}=Tt({queryKey:["transactions",r==null?void 0:r.id,e,t],queryFn:async()=>{if(!r)return[];let g=L.from("transactions").select(`
          *,
          client:clients(name)
        `).eq("user_id",r.id).order("date",{ascending:!1});e&&t&&(g=g.gte("date",e.toISOString()).lte("date",t.toISOString()));const{data:v,error:w}=await g;if(w)throw w;return v},enabled:!!r}),l=(o==null?void 0:o.filter(g=>{var _;const v=((_=g.client)==null?void 0:_.name)||"",w=g.description||"",y=g.amount.toString(),x=Se(new Date(g.date),"dd 'de' MMMM 'de' yyyy",{locale:ct}),b=n.toLowerCase();return v.toLowerCase().includes(b)||w.toLowerCase().includes(b)||y.includes(b)||x.toLowerCase().includes(b)}))||[],c=l.reduce((g,v)=>{const w=Se(new Date(v.date),"dd 'de' MMMM 'de' yyyy",{locale:ct});return g[w]||(g[w]=[]),g[w].push(v),g},{}),u=Object.entries(c),f=l.length,d=l.filter(g=>g.type==="income").reduce((g,v)=>g+v.amount,0),h=l.filter(g=>g.type==="expense").reduce((g,v)=>g+Math.abs(v.amount),0),p=d-h;return{transactions:l,days:u,isLoading:a,searchTerm:n,setSearchTerm:s,totalTransactions:f,totalIncome:d,totalExpenses:h,balance:p}}function wB(e){const[t,r]=m.useState(new Set);return{selectedTransactions:t,setSelectedTransactions:r,toggleSelection:a=>{const l=new Set(t);l.has(a)?l.delete(a):l.add(a),r(l)},selectAll:()=>{const a=new Set(e.flatMap(([,l])=>l).filter(l=>l.payment_method!=="invoice"||l.payment_status==="confirmed").map(l=>l.id));r(a)},deselectAll:()=>{r(new Set)}}}function bB(){const{user:e}=Ne(),[t,r]=m.useState(!1),[n,s]=m.useState(null),[o,a]=m.useState(!1),[l,c]=m.useState(!1),[u,f]=m.useState(null),[d,h]=m.useState(null),[p,g]=m.useState("today"),[v,w]=m.useState(void 0),[y,x]=m.useState(void 0),{days:b,isLoading:_,searchTerm:S,setSearchTerm:j,totalTransactions:C,totalIncome:N,totalExpenses:k,balance:R}=xB(v,y),{selectedTransactions:O,toggleSelection:M,selectAll:$,deselectAll:I}=wB(b);return{dateRange:p,startDate:v,endDate:y,searchTerm:S,isEditModalOpen:t,isDeleteDialogOpen:o,isConfirmPaymentDialogOpen:l,selectedTransaction:n,transactionToDelete:u,transactionToConfirm:d,days:b,isLoading:_,totalTransactions:C,totalIncome:N,totalExpenses:k,balance:R,selectedTransactions:O,setDateRange:g,setStartDate:w,setEndDate:x,setSearchTerm:j,setIsEditModalOpen:r,setIsDeleteDialogOpen:a,setIsConfirmPaymentDialogOpen:c,handleEdit:D=>{s(D),r(!0)},handleDeleteTransaction:D=>{f(D),a(!0)},handleConfirmTransaction:D=>{D.payment_method!=="invoice"&&(h(D),c(!0))},handlePrint:()=>{var H;const D=window.open("","_blank");D&&(D.document.write("<html><head><title>CandleLife Finanas</title>"),D.document.write(`
        <style>
          @media print {
            body {
              width: 58mm;
              font-family: monospace;
              font-size: 10px;
              line-height: 1.2;
              margin: 0;
              padding: 5mm;
            }
            h1 { font-size: 12px; text-align: center; margin-bottom: 5px; }
            h2 { font-size: 10px; margin: 5px 0; }
            p { margin: 2px 0; }
            .divider { border-top: 1px dashed #000; margin: 5px 0; }
            .totals { margin-top: 10px; }
          }
        </style>
      `),D.document.write("</head><body>"),D.document.write("<h1>Extrato de Transaes</h1>"),D.document.write(`<p>Usurio: ${((H=e==null?void 0:e.user_metadata)==null?void 0:H.username)||"N/A"}</p>`),D.document.write(`<p>Email: ${(e==null?void 0:e.email)||"N/A"}</p>`),D.document.write(`<p>Perodo: ${v==null?void 0:v.toLocaleDateString("pt-BR")} a ${y==null?void 0:y.toLocaleDateString("pt-BR")}</p>`),D.document.write("<div class='divider'></div>"),b.forEach(([re,he])=>{D.document.write(""),he.forEach(Oe=>{D.document.write(`<p>${Oe.description} ${Oe.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} (${Oe.type==="income"?"R":"D"})</p>`)}),D.document.write("<div class='divider'></div>")}),D.document.write("<div class='totals'>"),D.document.write(`<p>Total Transaes: ${C}</p>`),D.document.write(`<p>Receitas: ${N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>`),D.document.write(`<p>Despesas: ${k.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>`),D.document.write(`<p>Saldo: ${R.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>`),D.document.write("</div>"),D.document.write("</body></html>"),D.document.close(),D.print())},toggleSelection:M,selectAll:$,deselectAll:I}}function _B({dateRange:e,startDate:t,endDate:r,searchTerm:n,onDateRangeChange:s,onStartDateChange:o,onEndDateChange:a,onSearchChange:l,onPrintExtract:c}){return i.jsxs("div",{className:"space-y-4",children:[i.jsx(sm,{dateRange:e,startDate:t,endDate:r,onDateRangeChange:s,onStartDateChange:o,onEndDateChange:a}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Ae,{type:"text",placeholder:"Pesquisar por cliente, descrio, valor ou data...",value:n,onChange:u=>l(u.target.value),className:"w-full md:w-1/2"}),i.jsx(Q,{onClick:c,children:"Imprimir Extrato"})]})]})}function SB({dateRange:e,startDate:t,endDate:r,searchTerm:n,onDateRangeChange:s,onStartDateChange:o,onEndDateChange:a,onSearchChange:l,onPrintExtract:c}){return i.jsxs("div",{className:"w-full space-y-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Transaes"}),i.jsx(_B,{dateRange:e,startDate:t,endDate:r,searchTerm:n,onDateRangeChange:s,onStartDateChange:o,onEndDateChange:a,onSearchChange:l,onPrintExtract:c})]})}function CB({transaction:e,isSelected:t,onSelect:r,onEdit:n,onDelete:s,onConfirmPayment:o}){var a;return i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-card border border-border hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ia,{checked:t,onCheckedChange:()=>r(e.id),className:"border-blue-600 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-full ${e.type==="income"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:e.type==="income"?i.jsx(Ih,{className:"w-4 h-4"}):i.jsx(Ah,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-card-foreground",children:e.description}),i.jsxs("p",{className:`text-lg font-semibold ${e.type==="income"?"text-green-500":"text-red-500"}`,children:["R$ ",Math.abs(e.amount).toFixed(2)]})]})]}),i.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(vu,{className:"w-4 h-4"}),i.jsx("span",{children:Se(new Date(e.date),"dd 'de' MMMM 'de' yyyy",{locale:ct})})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(yu,{className:"w-4 h-4"}),i.jsx("span",{children:e.payment_method})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[e.payment_status==="confirmed"?i.jsx(Kc,{className:"w-4 h-4 text-green-500"}):i.jsx($h,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:e.payment_status==="confirmed"?"text-green-500":"text-yellow-500",children:e.payment_status==="confirmed"?"Confirmado":"Pendente"})]}),((a=e.client)==null?void 0:a.name)&&i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs("span",{children:["Cliente: ",e.client.name]})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[e.payment_status==="pending"&&i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>o(e),className:"text-yellow-500 hover:text-yellow-600",children:i.jsx(Kc,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>n(e),children:i.jsx(zL,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>s(e.id),children:i.jsx(ba,{className:"h-4 w-4 text-destructive"})})]})]})}function jB({selectedCount:e,hasPendingSelected:t,onSelectAll:r,onDeselectAll:n,onConfirmSelected:s,onDeleteSelected:o}){return i.jsxs("div",{className:"mb-6 flex gap-2 flex-wrap",children:[i.jsxs(Q,{size:"sm",onClick:r,className:"bg-blue-600 hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[i.jsx(Kc,{className:"w-3 h-3 mr-1"}),"Selecionar"]}),i.jsxs(Q,{size:"sm",onClick:n,variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50 transition-all duration-200 shadow-md hover:shadow-lg",children:[i.jsx(ba,{className:"w-3 h-3 mr-1"}),"Limpar"]}),e>0&&i.jsxs(i.Fragment,{children:[i.jsxs(Q,{size:"sm",onClick:s,disabled:!t,className:"bg-green-600 hover:bg-green-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[i.jsx(Kc,{className:"w-3 h-3 mr-1"}),"Confirmar (",e,")"]}),i.jsxs(Q,{size:"sm",onClick:o,className:"bg-red-600 hover:bg-red-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[i.jsx(ba,{className:"w-3 h-3 mr-1"}),"Excluir (",e,")"]})]})]})}function NB({days:e,selectedTransactions:t,isLoading:r,onSelectTransaction:n,onSelectAll:s,onDeselectAll:o,onEdit:a,onDelete:l,onConfirmPayment:c,onConfirmSelected:u,onDeleteSelected:f}){const d=Array.from(t).some(h=>{var p;return((p=e.flatMap(([,g])=>g).find(g=>g.id===h))==null?void 0:p.payment_status)==="pending"});return r?i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):e.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma transao encontrada"}):i.jsxs("div",{className:"space-y-8",children:[t.size>0&&i.jsx(jB,{selectedCount:t.size,hasPendingSelected:d,onSelectAll:s,onDeselectAll:o,onConfirmSelected:u,onDeleteSelected:f}),e.map(([h,p])=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-foreground border-b pb-2",children:h}),p.length>0?i.jsx("div",{className:"space-y-4",children:p.map(g=>i.jsx(CB,{transaction:g,isSelected:t.has(g.id),onSelect:n,onEdit:a,onDelete:l,onConfirmPayment:c},g.id))}):i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma transao neste dia"})]},h))]})}function kB({selectedTransactions:e,onSelectAll:t,onDeselectAll:r,onConfirmSelected:n,onDeleteSelected:s}){const o=e.size>0;return i.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Q,{variant:"outline",size:"sm",onClick:t,children:"Selecionar Todos"}),i.jsx(Q,{variant:"outline",size:"sm",onClick:r,disabled:!o,children:"Limpar Seleo"}),o&&i.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.size," selecionada(s)"]})]}),o&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q,{size:"sm",onClick:n,children:"Confirmar Selecionadas"}),i.jsx(Q,{variant:"destructive",size:"sm",onClick:s,children:"Excluir Selecionadas"})]})]})}function EB({days:e,isLoading:t,selectedTransactions:r,searchTerm:n,onToggleSelection:s,onSelectAll:o,onDeselectAll:a,onEdit:l,onDelete:c,onConfirmPayment:u,onConfirmSelected:f,onDeleteSelected:d}){return i.jsxs(Mt,{className:"rounded-xl border-border bg-card w-full",children:[i.jsx(Ar,{children:i.jsx(Ir,{className:"text-card-foreground",children:n?"Resultados da Pesquisa":"Histrico de Transaes"})}),i.jsxs(Lt,{children:[i.jsx(kB,{selectedTransactions:r,onSelectAll:o,onDeselectAll:a,onConfirmSelected:f,onDeleteSelected:d}),t?i.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando..."}):e.length===0?i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma transao encontrada para o perodo selecionado."}):i.jsx(NB,{days:e,selectedTransactions:r,isLoading:t,onSelectTransaction:s,onSelectAll:o,onDeselectAll:a,onEdit:l,onDelete:c,onConfirmPayment:u,onConfirmSelected:f,onDeleteSelected:d})]})]})}function PB({totalTransactions:e,totalIncome:t,totalExpenses:r,totalInvestments:n,balance:s,startDate:o,endDate:a}){const{user:l}=Ne(),{data:c}=Tt({queryKey:["transaction-summary",l==null?void 0:l.id,o,a],queryFn:async()=>{if(!l)return{totalTransactions:0,totalIncome:0,totalExpenses:0,totalInvestments:0,balance:0};let g=L.from("transactions").select("*").eq("user_id",l.id);o&&(g=g.gte("date",Se(o,"yyyy-MM-dd'T00:00:00.000Z'"))),a&&(g=g.lte("date",Se(a,"yyyy-MM-dd'T23:59:59.999Z'")));const{data:v,error:w}=await g;if(w)throw console.error("Erro ao buscar resumo de transaes:",w),w;const y=v||[],x=y.length,b=y.filter(j=>j.type==="income"&&j.payment_status==="confirmed").reduce((j,C)=>j+Number(C.amount),0),_=y.filter(j=>j.type==="expense"&&j.payment_status==="confirmed").reduce((j,C)=>j+Math.abs(Number(C.amount)),0),S=y.filter(j=>j.type==="investment").reduce((j,C)=>j+Number(C.amount),0);return{totalTransactions:x,totalIncome:b,totalExpenses:_,totalInvestments:S,balance:b-_}},enabled:!e&&!t&&!r&&!s&&!!l}),u=e??(c==null?void 0:c.totalTransactions)??0,f=t??(c==null?void 0:c.totalIncome)??0,d=r??(c==null?void 0:c.totalExpenses)??0,h=n??(c==null?void 0:c.totalInvestments)??0,p=s??(c==null?void 0:c.balance)??0;return i.jsx(Mt,{className:"mb-6 bg-card",children:i.jsx(Lt,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Transaes"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:u})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receitas"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Despesas"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Investimentos"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo"}),i.jsx("p",{className:`text-2xl font-bold ${p>=0?"text-green-600":"text-red-600"}`,children:p.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})})})}function TB({transaction:e,onSubmit:t}){const[r,n]=m.useState({description:e.description,amount:Math.abs(e.amount).toString(),type:e.type,payment_method:e.payment_method,payment_status:e.payment_status,client_id:e.client_id||"",goal_id:e.goal_id||"none"}),{data:s,isLoading:o}=Tt({queryKey:["clients"],queryFn:async()=>{const{data:h,error:p}=await L.from("clients").select("id, name").order("name",{ascending:!0});if(p)throw p;return h}}),{data:a,isLoading:l}=Tt({queryKey:["financial-goals-edit"],queryFn:async()=>{const{data:h,error:p}=await L.from("financial_goals").select("id, description").eq("active",!0).order("description",{ascending:!0});if(p)throw p;return h}}),c=(h,p)=>{n(g=>({...g,[h]:p}))},u=h=>{h.preventDefault();const p={...r,goal_id:r.goal_id==="none"?"":r.goal_id};t(p)},f=r.payment_method==="invoice",d=r.type==="investment";return i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"description",children:"Descrio"}),i.jsx(Ae,{id:"description",value:r.description,onChange:h=>c("description",h.target.value),className:"bg-background",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"amount",children:"Valor"}),i.jsx(Ae,{id:"amount",type:"number",value:r.amount,onChange:h=>c("amount",h.target.value),className:"bg-background",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{children:"Tipo"}),i.jsxs(tm,{value:r.type,onValueChange:h=>c("type",h),className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ko,{value:"income",id:"income"}),i.jsx(xe,{htmlFor:"income",children:"Receita"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ko,{value:"expense",id:"expense"}),i.jsx(xe,{htmlFor:"expense",children:"Despesa"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ko,{value:"investment",id:"investment"}),i.jsx(xe,{htmlFor:"investment",children:"Investimento"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"payment_method",children:"Mtodo de Pagamento"}),i.jsxs(_s,{value:r.payment_method,onValueChange:h=>{c("payment_method",h),h!=="invoice"&&c("client_id","")},children:[i.jsx(Wn,{children:i.jsx(Ss,{placeholder:"Selecione o mtodo de pagamento"})}),i.jsxs(qn,{children:[i.jsx(it,{value:"pix",children:"PIX"}),i.jsx(it,{value:"cash",children:"Dinheiro"}),i.jsx(it,{value:"invoice",children:"Faturado"})]})]})]}),f&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"client_id",children:"Cliente"}),i.jsxs(_s,{value:r.client_id,onValueChange:h=>c("client_id",h),disabled:o,children:[i.jsx(Wn,{children:i.jsx(Ss,{placeholder:o?"Carregando clientes...":"Selecione um cliente"})}),i.jsx(qn,{children:s==null?void 0:s.map(h=>i.jsx(it,{value:h.id,children:h.name},h.id))})]})]}),d&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"goal_id",children:"Meta Financeira"}),i.jsxs(_s,{value:r.goal_id,onValueChange:h=>c("goal_id",h),disabled:l,children:[i.jsx(Wn,{children:i.jsx(Ss,{placeholder:l?"Carregando metas...":"Selecione uma meta (opcional)"})}),i.jsxs(qn,{children:[i.jsx(it,{value:"none",children:"Nenhuma meta"}),a==null?void 0:a.map(h=>i.jsx(it,{value:h.id,children:h.description},h.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"payment_status",children:"Status do Pagamento"}),i.jsxs(_s,{value:r.payment_status,onValueChange:h=>c("payment_status",h),children:[i.jsx(Wn,{children:i.jsx(Ss,{placeholder:"Selecione o status"})}),i.jsxs(qn,{children:[i.jsx(it,{value:"pending",children:"Pendente"}),i.jsx(it,{value:"confirmed",children:"Confirmado"}),i.jsx(it,{value:"failed",children:"Falhou"})]})]})]}),i.jsx(Q,{type:"submit",className:"w-full",disabled:f&&!r.client_id,children:"Salvar"})]})}function RB({isOpen:e,onOpenChange:t,transaction:r,userId:n}){const{toast:s}=Bt(),o=Qe(),a=async l=>{if(!(!n||!r))try{const{error:c}=await L.from("transactions").update({description:l.description,amount:l.type==="expense"?-Math.abs(Number(l.amount)):Math.abs(Number(l.amount)),type:l.type,payment_method:l.payment_method,payment_status:l.payment_status,client_id:l.client_id||null,goal_id:l.type==="investment"&&l.goal_id||null}).eq("id",r.id).eq("user_id",n);if(c)throw c;s({title:"Sucesso",description:"Transao atualizada com sucesso"}),o.invalidateQueries({queryKey:["transactions"]}),o.invalidateQueries({queryKey:["financial-insights"]}),o.invalidateQueries({queryKey:["financial-goals"]}),t(!1)}catch{s({title:"Erro",description:"Falha ao atualizar a transao",variant:"destructive"})}};return i.jsx(Os,{open:e,onOpenChange:t,children:i.jsxs(Xn,{className:"bg-card",children:[i.jsx(Jn,{children:i.jsx(es,{className:"text-card-foreground",children:"Editar Transao"})}),r&&i.jsx(TB,{transaction:r,onSubmit:a})]})})}function MB({open:e,onOpenChange:t,transactionId:r,userId:n,selectedTransactions:s,isBulkDelete:o}){const{toast:a}=Bt(),l=Qe(),c=async()=>{if(n)try{if(o){const{error:u}=await L.from("transactions").delete().in("id",Array.from(s)).eq("user_id",n);if(u)throw u}else{if(!r)return;const{error:u}=await L.from("transactions").delete().eq("id",r).eq("user_id",n);if(u)throw u}a({title:"Transao excluda",description:o?`${s.size} transaes foram removidas.`:"A transao foi removida com sucesso."}),l.invalidateQueries({queryKey:["transactions"]}),t(!1)}catch{a({title:"Erro",description:"No foi possvel excluir a transao.",variant:"destructive"})}};return i.jsx(ku,{open:e,onOpenChange:t,children:i.jsxs(jl,{className:"bg-card",children:[i.jsxs(Nl,{children:[i.jsx(El,{className:"text-card-foreground",children:"Tem certeza?"}),i.jsxs(Pl,{children:["Esta ao no pode ser desfeita. Isso excluir permanentemente",o?` ${s.size} transao(es).`:" a transao."]})]}),i.jsxs(kl,{children:[i.jsx(Rl,{children:"Cancelar"}),i.jsx(Tl,{onClick:c,className:"bg-destructive text-destructive-foreground",children:"Excluir"})]})]})})}function DB({open:e,onOpenChange:t,transaction:r,userId:n,selectedTransactions:s,isBulkConfirm:o}){const{toast:a}=Bt(),l=Qe(),c=async()=>{if(n)try{if(o){const{error:u}=await L.from("transactions").update({payment_status:"confirmed"}).in("id",Array.from(s)).eq("user_id",n);if(u)throw u}else{if(!r)return;const{error:u}=await L.from("transactions").update({payment_status:"confirmed"}).eq("id",r.id).eq("user_id",n);if(u)throw u}a({title:"Pagamento confirmado",description:o?`${s.size} transaes foram confirmadas.`:"O status do pagamento foi atualizado com sucesso."}),l.invalidateQueries({queryKey:["transactions"]}),t(!1)}catch{a({title:"Erro",description:"No foi possvel confirmar o pagamento.",variant:"destructive"})}};return i.jsx(ku,{open:e,onOpenChange:t,children:i.jsxs(jl,{className:"bg-card",children:[i.jsxs(Nl,{children:[i.jsxs(El,{className:"text-card-foreground",children:["Confirmar Pagamento",o?"s":""]}),i.jsxs(Pl,{children:["Deseja confirmar o recebimento de",o?` ${s.size} pagamento(s)?`:" pagamento desta transao?"]})]}),i.jsxs(kl,{children:[i.jsx(Rl,{children:"Cancelar"}),i.jsxs(Tl,{onClick:c,className:"bg-green-600 text-white hover:bg-green-700",children:["Confirmar Pagamento",o?"s":""]})]})]})})}function OB({isEditModalOpen:e,setIsEditModalOpen:t,selectedTransaction:r,isDeleteDialogOpen:n,setIsDeleteDialogOpen:s,transactionToDelete:o,isConfirmPaymentDialogOpen:a,setIsConfirmPaymentDialogOpen:l,transactionToConfirm:c,userId:u,selectedTransactions:f}){return i.jsxs(i.Fragment,{children:[i.jsx(RB,{isOpen:e,onOpenChange:t,transaction:r,userId:u}),i.jsx(MB,{open:n,onOpenChange:s,transactionId:o,userId:u,selectedTransactions:f,isBulkDelete:!o}),i.jsx(DB,{open:a,onOpenChange:l,transaction:c,userId:u,selectedTransactions:f,isBulkConfirm:!c})]})}const AB=()=>{const{user:e}=Ne(),{dateRange:t,startDate:r,endDate:n,searchTerm:s,isEditModalOpen:o,isDeleteDialogOpen:a,isConfirmPaymentDialogOpen:l,selectedTransaction:c,transactionToDelete:u,transactionToConfirm:f,days:d,isLoading:h,totalTransactions:p,totalIncome:g,totalExpenses:v,balance:w,selectedTransactions:y,setDateRange:x,setStartDate:b,setEndDate:_,setSearchTerm:S,setIsEditModalOpen:j,setIsDeleteDialogOpen:C,setIsConfirmPaymentDialogOpen:N,handleEdit:k,handleDeleteTransaction:R,handleConfirmTransaction:O,handlePrint:M,toggleSelection:$,selectAll:I,deselectAll:B}=bB();return i.jsxs("div",{className:"w-full space-y-8",children:[i.jsx(SB,{dateRange:t,startDate:r,endDate:n,searchTerm:s,onDateRangeChange:x,onStartDateChange:b,onEndDateChange:_,onSearchChange:S,onPrintExtract:M}),i.jsx(EB,{days:d,isLoading:h,selectedTransactions:y,searchTerm:s,onToggleSelection:$,onSelectAll:I,onDeselectAll:B,onEdit:k,onDelete:R,onConfirmPayment:O,onConfirmSelected:()=>N(!0),onDeleteSelected:()=>C(!0)}),i.jsx(PB,{totalTransactions:p,totalIncome:g,totalExpenses:v,balance:w}),i.jsx(OB,{isEditModalOpen:o,setIsEditModalOpen:j,selectedTransaction:c,isDeleteDialogOpen:a,setIsDeleteDialogOpen:C,transactionToDelete:u,isConfirmPaymentDialogOpen:l,setIsConfirmPaymentDialogOpen:N,transactionToConfirm:f,userId:e==null?void 0:e.id,selectedTransactions:y})]})};function m2({transaction:e,isSelected:t,onToggleSelection:r}){var n;return i.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-card border border-border hover:bg-accent/50 transition-colors",children:[i.jsx(Ia,{id:`transaction-${e.id}`,checked:t,onCheckedChange:()=>r(e.id),disabled:e.payment_status==="confirmed"}),i.jsx("div",{className:"flex-1 flex items-center justify-between",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-full ${e.type==="income"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:e.type==="income"?i.jsx(Ih,{className:"w-4 h-4"}):i.jsx(Ah,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-card-foreground",children:e.description}),i.jsxs("p",{className:`text-lg font-semibold ${e.type==="income"?"text-green-500":"text-red-500"}`,children:["R$ ",Math.abs(e.amount).toFixed(2)]})]})]}),i.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(vu,{className:"w-4 h-4"}),i.jsx("span",{children:Se(new Date(e.date),"dd 'de' MMMM 'de' yyyy",{locale:ct})})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(yu,{className:"w-4 h-4"}),i.jsx("span",{children:e.payment_method})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[e.payment_status==="confirmed"?i.jsx(Kc,{className:"w-4 h-4 text-green-500"}):i.jsx($h,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:e.payment_status==="confirmed"?"text-green-500":"text-yellow-500",children:e.payment_status==="confirmed"?"Confirmado":"Pendente"})]}),((n=e.client)==null?void 0:n.name)&&i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs("span",{children:["Cliente: ",e.client.name]})})]})]})})]})}function p2({isOpen:e,onOpenChange:t,selectedCount:r,onConfirm:n}){return i.jsx(ku,{open:e,onOpenChange:t,children:i.jsxs(jl,{className:"bg-card",children:[i.jsxs(Nl,{children:[i.jsx(El,{className:"text-card-foreground",children:"Confirmar Pagamentos"}),i.jsxs(Pl,{children:["Deseja confirmar o recebimento dos ",r," pagamentos selecionados?"]})]}),i.jsxs(kl,{children:[i.jsx(Rl,{children:"Cancelar"}),i.jsx(Tl,{onClick:n,className:"bg-green-600 text-white hover:bg-green-700",children:"Confirmar Pagamentos"})]})]})})}function IB(e,t,r,n="all",s=""){const{toast:o}=Bt(),a=Qe(),{data:l,isLoading:c}=Tt({queryKey:["invoiced-transactions",e,t,r,n,s],queryFn:async()=>{if(!e)return[];let f=L.from("transactions").select(`
          *,
          client:clients(name)
        `).eq("user_id",e).eq("payment_method","invoice").order("date",{ascending:!1});if(t){const p=Se(t,"yyyy-MM-dd'T00:00:00.000Z'");f=f.gte("date",p)}if(r){const p=Se(r,"yyyy-MM-dd'T23:59:59.999Z'");f=f.lte("date",p)}n!=="all"&&(f=f.eq("payment_status",n)),s&&(f=f.ilike("description",`%${s}%`));const{data:d,error:h}=await f;if(h)throw h;return d||[]},enabled:!!e});return{transactions:l,isLoading:c,confirmPayments:async f=>{if(!e||f.length===0)return!1;try{const{error:d}=await L.from("transactions").update({payment_status:"confirmed"}).in("id",f).eq("user_id",e);if(d)throw d;return o({title:"Pagamentos confirmados",description:"Os pagamentos selecionados foram confirmados com sucesso."}),a.invalidateQueries({queryKey:["invoiced-transactions"]}),a.invalidateQueries({queryKey:["transactions"]}),a.invalidateQueries({queryKey:["expense-chart"]}),!0}catch(d){return console.error("Erro ao confirmar pagamentos:",d),o({title:"Erro",description:"No foi possvel confirmar os pagamentos.",variant:"destructive"}),!1}}}}const LB=()=>{const{user:e}=Ne(),[t,r]=m.useState("today"),[n,s]=m.useState(()=>Yt(new Date)),[o,a]=m.useState(()=>Un(new Date)),[l,c]=m.useState("all"),[u,f]=m.useState(""),[d,h]=m.useState([]),[p,g]=m.useState(!1),v=Qe(),{transactions:w,isLoading:y,confirmPayments:x}=IB(e==null?void 0:e.id,n,o,l,u);m.useEffect(()=>{if(!e)return;const k=L.channel(`transactions-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"transactions",filter:`user_id=eq.${e.id}`},()=>{console.log(" Alterao detectada em transaes faturadas. Atualizando..."),v.invalidateQueries({queryKey:["invoiced-transactions"]})}).subscribe();return()=>{console.log(" Removendo canal do Supabase."),L.removeChannel(k)}},[v,e]);const b=k=>{h(R=>R.includes(k)?R.filter(O=>O!==k):[...R,k])},_=async()=>{await x(d)&&(h([]),g(!1))},S=()=>{r("today"),s(Yt(new Date)),a(Un(new Date)),c("all"),f("")},C=((w==null?void 0:w.reduce((k,R)=>k+R.amount,0))||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),N=n&&o?`${Se(n,"dd/MM/yyyy")} - ${Se(o,"dd/MM/yyyy")}`:"Selecione um perodo";return i.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Faturadas"}),d.length>0&&i.jsxs(Q,{onClick:()=>g(!0),className:"bg-green-600 hover:bg-green-700",children:["Confirmar Selecionados (",d.length,")"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center",children:[i.jsx(sm,{dateRange:t,startDate:n,endDate:o,onDateRangeChange:r,onStartDateChange:k=>k&&s(k),onEndDateChange:k=>k&&a(k)}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground px-3 py-1 rounded-md",children:N}),(t!=="today"||l!=="all"||u!=="")&&i.jsx(Q,{variant:"outline",onClick:S,children:"Limpar Filtros"})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(Ae,{placeholder:"Pesquisar por descrio...",value:u,onChange:k=>f(k.target.value),className:"w-full md:w-[300px]"})})]}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.jsxs(Mt,{className:"rounded-xl border-border bg-card",children:[i.jsx(Ar,{children:i.jsx(Ir,{className:"text-card-foreground",children:"Histrico de Faturadas"})}),i.jsx(Lt,{children:i.jsxs("div",{className:"space-y-4",children:[y?i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):w==null?void 0:w.map(k=>i.jsx(m2,{transaction:k,isSelected:d.includes(k.id),onToggleSelection:b},k.id)),(!w||w.length===0)&&i.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["Nenhuma transao faturada encontrada",(t!=="today"||u)&&" para os filtros selecionados"]}),w&&w.length>0&&i.jsxs("div",{className:"mt-4 text-right text-lg font-semibold text-foreground",children:["Total: ",C]})]})})]})}),i.jsx(p2,{isOpen:p,onOpenChange:g,selectedCount:d.length,onConfirm:_})]})};function $B(e,t,r,n="all",s,o,a,l,c){const{toast:u}=Bt(),f=Qe(),{data:d,isLoading:h}=Tt({queryKey:["expenses",e,t,r,n,c],queryFn:async()=>{if(!e)return[];let g=L.from("transactions").select("*").eq("user_id",e).eq("type","expense").order("date",{ascending:!1});t&&(g=g.gte("date",Se(t,"yyyy-MM-dd'T00:00:00.000Z'"))),r&&(g=g.lte("date",Se(r,"yyyy-MM-dd'T23:59:59.999Z'"))),n!=="all"&&(g=g.eq("payment_status",n)),c&&(g=g.ilike("description",`%${c}%`));const{data:v,error:w}=await g;if(w)throw w;return v||[]},enabled:!!e});return{transactions:d,isLoading:h,confirmPayments:async g=>{if(!e||g.length===0)return!1;try{const{error:v}=await L.from("transactions").update({payment_status:"confirmed"}).in("id",g).eq("user_id",e);if(v)throw v;return u({title:"Pagamentos confirmados",description:"Os pagamentos selecionados foram confirmados com sucesso."}),f.invalidateQueries({queryKey:["expenses"]}),f.invalidateQueries({queryKey:["transactions"]}),!0}catch{return u({title:"Erro",description:"No foi possvel confirmar os pagamentos.",variant:"destructive"}),!1}}}}const FB=()=>{const{user:e}=Ne(),[t,r]=m.useState("today"),[n,s]=m.useState(()=>Yt(new Date)),[o,a]=m.useState(()=>Un(new Date)),[l,c]=m.useState("all"),[u,f]=m.useState(""),[d,h]=m.useState([]),[p,g]=m.useState(!1),v=Qe(),w=m.useRef(null),y=m.useRef(null),x=m.useRef(!1),{transactions:b,isLoading:_,confirmPayments:S}=$B(e==null?void 0:e.id,n,o,l,"all","all",0,10,u);m.useEffect(()=>{const M=(e==null?void 0:e.id)||null;if(y.current!==M){if(w.current){console.log(" User changed, cleaning up expenses channel");try{L.removeChannel(w.current)}catch(B){console.warn("Error removing channel:",B)}w.current=null,x.current=!1}y.current=M}if(!M)return;if(x.current){console.log(" Expenses subscription already in progress, skipping");return}if(w.current){console.log(" Cleaning up existing expenses channel before creating new one");try{L.removeChannel(w.current)}catch(B){console.warn("Error removing existing channel:",B)}w.current=null}const $=`expenses-transactions-${M}-${Date.now()}`;console.log(" Creating expenses channel:",$);const I=L.channel($).on("postgres_changes",{event:"*",schema:"public",table:"transactions",filter:`user_id=eq.${M}`},()=>{console.log(" Alterao detectada em despesas. Atualizando..."),v.invalidateQueries({queryKey:["expenses"]})});return w.current=I,x.current=!0,I.subscribe(B=>{console.log("Expenses channel subscription status:",B),B==="CLOSED"&&(console.log(" Expenses channel subscription closed"),x.current=!1)}),()=>{if(console.log(" Removendo canal de Despesas:",$),w.current){try{L.removeChannel(w.current)}catch(B){console.warn("Error removing channel:",B)}w.current=null,x.current=!1}}},[v,e==null?void 0:e.id]);const j=M=>{h($=>$.includes(M)?$.filter(I=>I!==M):[...$,M])},C=async()=>{await S(d)&&(h([]),g(!1))},N=()=>{r("today"),s(Yt(new Date)),a(Un(new Date)),c("all"),f("")},R=((b==null?void 0:b.reduce((M,$)=>M+$.amount,0))||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),O=n&&o?`${Se(n,"dd/MM/yyyy")} - ${Se(o,"dd/MM/yyyy")}`:"Selecione um perodo";return i.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-foreground",children:"Despesas"}),d.length>0&&i.jsxs(Q,{onClick:()=>g(!0),className:"bg-green-600 hover:bg-green-700",children:["Confirmar Selecionados (",d.length,")"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center",children:[i.jsx(sm,{dateRange:t,startDate:n,endDate:o,onDateRangeChange:r,onStartDateChange:M=>M&&s(M),onEndDateChange:M=>M&&a(M)}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground  px-3 py-1 rounded-md",children:O}),(t!=="today"||l!=="all"||u!=="")&&i.jsx(Q,{variant:"outline",onClick:N,children:"Limpar Filtros"})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(Ae,{placeholder:"Pesquisar por descrio...",value:u,onChange:M=>f(M.target.value),className:"w-full md:w-[300px]"})})]}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.jsxs(Mt,{className:"rounded-xl border-border bg-card",children:[i.jsx(Ar,{children:i.jsx(Ir,{className:"text-card-foreground",children:"Histrico de Despesas"})}),i.jsx(Lt,{children:i.jsxs("div",{className:"space-y-4",children:[_?i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):b==null?void 0:b.map(M=>i.jsx(m2,{transaction:M,isSelected:d.includes(M.id),onToggleSelection:j},M.id)),(!b||b.length===0)&&i.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["Nenhuma despesa encontrada",(t!=="today"||u)&&" para os filtros selecionados"]}),b&&b.length>0&&i.jsxs("div",{className:"mt-4 text-right text-lg font-semibold text-foreground",children:["Total: ",R]})]})})]})}),i.jsx(p2,{isOpen:p,onOpenChange:g,selectedCount:d.length,onConfirm:C})]})},zB=()=>i.jsx(FB,{});function UB({clientId:e,open:t,onOpenChange:r}){const{user:n}=Ne(),{toast:s}=Bt(),o=Qe(),[a,l]=m.useState([]),[c,u]=m.useState(!1),[f,d]=m.useState("");m.useEffect(()=>{e&&n&&L.from("clients").select("name").eq("id",e).eq("user_id",n.id).single().then(({data:j,error:C})=>{!C&&j&&d(j.name)})},[e,n]),m.useEffect(()=>{t||l([])},[t]);const{data:h,isLoading:p}=Tt({queryKey:["client-transactions",n==null?void 0:n.id,e],queryFn:async()=>{if(!n||!e)return[];const{data:j,error:C}=await L.from("transactions").select("*").eq("client_id",e||"").eq("user_id",n.id);if(C)throw C;return j},enabled:!!n&&!!e&&t}),g=(h==null?void 0:h.filter(j=>j.payment_status==="pending"))||[],v=(h==null?void 0:h.filter(j=>j.payment_status==="confirmed"))||[],w=g.reduce((j,C)=>j+C.amount,0),y=v.reduce((j,C)=>j+C.amount,0),x=j=>{l(C=>C.includes(j)?C.filter(N=>N!==j):[...C,j])},b=()=>{const j=g.map(C=>C.id);l(j)},_=()=>{l([])},S=async()=>{if(!(a.length===0||!n))try{const{error:j}=await L.from("transactions").update({payment_status:"confirmed"}).in("id",a).eq("user_id",n.id);if(j)throw j;s({title:"Pagamentos confirmados",description:`${a.length} pagamento(s) confirmado(s) com sucesso`}),o.invalidateQueries({queryKey:["client-transactions"]}),o.invalidateQueries({queryKey:["recent-transactions"]}),o.invalidateQueries({queryKey:["expense-chart"]}),l([]),u(!1)}catch(j){console.error("Error confirming payments:",j),s({title:"Erro",description:`Falha ao confirmar pagamentos: ${j instanceof Error?j.message:"Erro desconhecido"}`,variant:"destructive"})}};return i.jsxs(i.Fragment,{children:[i.jsx(Os,{open:t,onOpenChange:r,children:i.jsxs(Xn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Jn,{children:i.jsxs(es,{className:"text-2xl font-bold mb-2",children:["Transaes de ",f]})}),p?i.jsx("div",{className:"py-10 text-center text-muted-foreground",children:"Carregando transaes..."}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold",children:["Pagamentos Pendentes (",g.length,")"]}),g.length>0&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Q,{variant:"outline",size:"sm",onClick:b,children:"Selecionar Todos"}),a.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(Q,{variant:"outline",size:"sm",onClick:_,children:"Limpar Seleo"}),i.jsxs(Q,{variant:"default",size:"sm",onClick:()=>u(!0),children:[i.jsx(Cf,{className:"mr-1 h-4 w-4"}),"Confirmar (",a.length,")"]})]})]})]}),g.length===0?i.jsx("div",{className:"py-4 text-center text-muted-foreground border rounded-lg",children:"Nenhuma transao pendente para este cliente."}):i.jsxs("div",{className:"space-y-2",children:[g.map(j=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ia,{checked:a.includes(j.id),onCheckedChange:()=>x(j.id)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:j.description}),i.jsx("p",{className:"text-sm text-muted-foreground",children:j.date?Se(new Date(j.date),"dd/MM/yyyy",{locale:ct}):""})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:`font-medium ${j.amount<0?"text-red-500":"text-green-500"}`,children:["R$ ",Math.abs(j.amount).toFixed(2)]})})]},j.id)),i.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold text-foreground",children:"Total Pendente:"}),i.jsxs("span",{className:`font-semibold ${w<0?"text-red-500":"text-green-500"}`,children:["R$ ",Math.abs(w).toFixed(2)]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Pagamentos Confirmados (",v.length,")"]}),v.length===0?i.jsx("div",{className:"py-4 text-center text-muted-foreground border rounded-lg",children:"Nenhuma transao confirmada para este cliente."}):i.jsxs("div",{className:"space-y-2",children:[v.map(j=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:j.description}),i.jsx("p",{className:"text-sm text-muted-foreground",children:j.date?Se(new Date(j.date),"dd/MM/yyyy",{locale:ct}):""})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${j.amount<0?"text-red-500":"text-green-500"}`,children:["R$ ",Math.abs(j.amount).toFixed(2)]}),i.jsx("p",{className:"text-xs text-green-500",children:"Confirmado"})]})]},j.id)),i.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold text-foreground",children:"Total Confirmado:"}),i.jsxs("span",{className:`font-semibold ${y<0?"text-red-500":"text-green-500"}`,children:["R$ ",Math.abs(y).toFixed(2)]})]})]})]})]})]})}),i.jsx(xE,{open:c,onOpenChange:u,onConfirm:S,count:a.length})]})}function BB({onEditClient:e}){const{user:t}=Ne(),{toast:r}=Bt(),n=Qe(),[s,o]=m.useState(""),[a,l]=m.useState(null),[c,u]=m.useState(null),[f,d]=m.useState(!1),{data:h,isLoading:p}=Tt({queryKey:["clients",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:y,error:x}=await L.from("clients").select().eq("user_id",t.id).order("name");if(x)throw x;return y},enabled:!!t}),g=h==null?void 0:h.filter(y=>y.name.toLowerCase().includes(s.toLowerCase())||y.document&&y.document.toLowerCase().includes(s.toLowerCase())||y.email&&y.email.toLowerCase().includes(s.toLowerCase())||y.phone&&y.phone.toLowerCase().includes(s.toLowerCase())),v=async()=>{if(!(!a||!t))try{const{error:y}=await L.from("clients").delete().eq("id",a.id).eq("user_id",t.id);if(y)throw y;r({title:"Cliente excludo",description:"Cliente excludo com sucesso"}),n.invalidateQueries({queryKey:["clients"]})}catch(y){console.error("Error deleting client:",y),r({title:"Erro",description:`Falha ao excluir cliente: ${y.message}`,variant:"destructive"})}finally{l(null)}},w=y=>{u(y),d(!0)};return p?i.jsx("div",{className:"py-10 text-center text-muted-foreground",children:"Carregando clientes..."}):(g==null?void 0:g.length)===0&&!s?i.jsx("div",{className:"py-10 text-center text-muted-foreground",children:"Nenhum cliente cadastrado."}):(g==null?void 0:g.length)===0&&s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ae,{value:s,onChange:y=>o(y.target.value),placeholder:"Buscar clientes...",className:"pl-10"})]})}),i.jsxs("div",{className:"py-10 text-center text-muted-foreground",children:['Nenhum cliente encontrado para "',s,'".']})]}):i.jsxs("div",{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ae,{value:s,onChange:y=>o(y.target.value),placeholder:"Buscar clientes...",className:"pl-10"})]})}),i.jsx("div",{className:"space-y-4",children:g==null?void 0:g.map(y=>i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 rounded-xl border border-border bg-card hover:bg-accent/20 transition-colors",children:[i.jsxs("div",{className:"mb-3 sm:mb-0",children:[i.jsx("h3",{className:"font-semibold text-card-foreground",children:y.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[y.document&&i.jsxs("p",{children:["Documento: ",y.document]}),y.email&&i.jsxs("p",{children:["Email: ",y.email]}),y.phone&&i.jsxs("p",{children:["Telefone: ",y.phone]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>w(y.id),children:[i.jsx(yu,{className:"h-4 w-4 mr-1"}),"Faturas"]}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>e(y),children:i.jsx(Pj,{className:"h-4 w-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>l(y),children:i.jsx(ba,{className:"h-4 w-4 text-destructive"})})]})]},y.id))}),i.jsx(ku,{open:!!a,onOpenChange:y=>!y&&l(null),children:i.jsxs(jl,{children:[i.jsxs(Nl,{children:[i.jsx(El,{children:"Confirmar excluso"}),i.jsxs(Pl,{children:['Tem certeza que deseja excluir o cliente "',a==null?void 0:a.name,'"? Esta ao no pode ser desfeita.']})]}),i.jsxs(kl,{children:[i.jsx(Rl,{children:"Cancelar"}),i.jsx(Tl,{onClick:v,className:"bg-destructive text-destructive-foreground",children:"Excluir"})]})]})}),i.jsx(UB,{clientId:c,open:f,onOpenChange:d})]})}function VB({open:e,onOpenChange:t,clientToEdit:r}){const[n,s]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),[u,f]=m.useState(""),[d,h]=m.useState(!1),{toast:p}=Bt(),{user:g}=Ne(),v=Qe();m.useEffect(()=>{r?(s(r.name||""),a(r.document||""),c(r.email||""),f(r.phone||"")):w()},[r,e]);const w=()=>{s(""),a(""),c(""),f("")},y=async x=>{if(x.preventDefault(),!!g){h(!0);try{if(r){const{error:b}=await L.from("clients").update({name:n,document:o,email:l,phone:u}).eq("id",r.id).eq("user_id",g.id);if(b)throw b;p({title:"Cliente atualizado",description:"Cliente atualizado com sucesso"})}else{const{error:b}=await L.from("clients").insert({name:n,document:o,email:l,phone:u,user_id:g.id});if(b)throw b;p({title:"Cliente adicionado",description:"Cliente adicionado com sucesso"})}v.invalidateQueries({queryKey:["clients"]}),t(!1),w()}catch(b){console.error("Error saving client:",b),p({title:"Erro",description:`Falha ao ${r?"atualizar":"adicionar"} cliente: ${b.message}`,variant:"destructive"})}finally{h(!1)}}};return i.jsx(Os,{open:e,onOpenChange:t,children:i.jsxs(Xn,{className:"sm:max-w-[425px]",children:[i.jsx(Jn,{children:i.jsx(es,{className:"text-2xl font-bold",children:r?"Editar Cliente":"Novo Cliente"})}),i.jsxs("form",{onSubmit:y,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"name",children:"Nome*"}),i.jsx(Ae,{id:"name",value:n,onChange:x=>s(x.target.value),placeholder:"Nome do cliente",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"document",children:"Documento (CNPJ/CPF)"}),i.jsx(Ae,{id:"document",value:o,onChange:x=>a(x.target.value),placeholder:"00.000.000/0000-00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"email",children:"Email"}),i.jsx(Ae,{id:"email",type:"email",value:l,onChange:x=>c(x.target.value),placeholder:"cliente@exemplo.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"phone",children:"Telefone"}),i.jsx(Ae,{id:"phone",value:u,onChange:x=>f(x.target.value),placeholder:"(00) 00000-0000"})]}),i.jsx(Q,{type:"submit",className:"w-full",disabled:d,children:d?"Salvando...":r?"Atualizar":"Adicionar"})]})]})})}function WB(){const[e,t]=m.useState(!1),[r,n]=m.useState(null),s=a=>{n(a||null),t(!0)},o=()=>{t(!1),n(null)};return i.jsxs("div",{className:"w-full space-y-8",children:[i.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[i.jsx("h1",{className:"text-3xl font-bold mb-4 sm:mb-0",children:"Gerenciamento de Clientes"}),i.jsxs(Q,{onClick:()=>s(),children:[i.jsx(jL,{className:"mr-2 h-4 w-4"}),"Novo Cliente"]})]}),i.jsx("div",{className:"grid gap-6",children:i.jsxs(Mt,{className:"w-full",children:[i.jsx(Ar,{children:i.jsx(Ir,{children:"Seus Clientes"})}),i.jsx(Lt,{children:i.jsx(BB,{onEditClient:s})})]})}),i.jsx(VB,{open:e,onOpenChange:o,clientToEdit:r})]})}const qB={retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)},HB=()=>{const{user:e}=Ne();pt();const[t,r]=m.useState(!1),{data:n=[],isLoading:s,error:o,refetch:a}=Tt({queryKey:["posts"],queryFn:async()=>{try{if(!e)return[];const{data:c,error:u}=await L.from("posts").select("*").order("created_at",{ascending:!1});if(u)throw console.error("Erro ao buscar posts:",u),new Error(u.message);return c?await Promise.all(c.map(async d=>{const{data:h}=await L.from("profiles").select("username, avatar_url").eq("id",d.user_id).single(),{count:p}=await L.from("comments").select("*",{count:"exact",head:!0}).eq("post_id",d.id),{data:g,error:v}=await L.from("reactions").select("type").eq("post_id",d.id);v&&console.error("Erro ao buscar reaes:",v);const w={like:0,heart:0,laugh:0,wow:0,sad:0};g&&g.length>0&&g.forEach(j=>{j.type&&w.hasOwnProperty(j.type)&&w[j.type]++});const{count:y,error:x}=await L.from("reactions").select("*",{count:"exact",head:!0}).eq("post_id",d.id);x&&console.error("Erro ao buscar contagem total de reaes:",x);const{data:b,error:_}=await L.from("reactions").select("type").eq("post_id",d.id).eq("user_id",e.id).maybeSingle();_&&console.error("Erro ao buscar reao do usurio:",_);let S=null;return b&&b.type&&["like","heart","laugh","wow","sad"].includes(b.type)&&(S=b.type),{...d,profiles:h||{username:"Usurio desconhecido",avatar_url:null},comments_count:p||0,reactions_count:y||0,reactions:w,my_reaction:S,image_url:d.image_url||null}})):[]}catch(c){throw console.error("Erro no tratado ao buscar posts:",c),c}},...qB,enabled:!!e});return{posts:n,isLoadingPosts:s,postsError:o,refetchPosts:a,getComments:async c=>{if(!c)return console.error("ID do post  indefinido ou nulo"),[];try{const{data:u,error:f}=await L.from("comments").select("*").eq("post_id",c).order("created_at",{ascending:!0});if(f)throw console.error("Erro ao buscar comentrios:",f),f;if(!u||u.length===0)return[];const d=[...new Set(u.map(w=>w.user_id))],{data:h,error:p}=await L.from("profiles").select("id, username, avatar_url").in("id",d);p&&console.error("Erro ao buscar perfis para comentrios:",p);const g=new Map;return h&&h.forEach(w=>{g.set(w.id,w)}),u.map(w=>{const y=g.get(w.user_id);return{...w,profiles:y||{username:"Usurio desconhecido",avatar_url:null}}})}catch(u){throw console.error("Erro no tratado ao buscar comentrios:",u),u}},isUploading:t,setIsUploading:r}},KB=e=>{const{user:t}=Ne(),{toast:r}=pt(),n=Qe(),s=Pt({mutationFn:async({content:l,imageFile:c})=>{if(!t)throw new Error("Usurio no autenticado");let u=null;if(c){e(!0);const h=c.name.split(".").pop(),p=`${t.id}/${Date.now()}.${h}`,{data:g,error:v}=await L.storage.from("post_images").upload(p,c);if(v)throw console.error("Erro ao fazer upload da imagem:",v),e(!1),v;const{data:w}=L.storage.from("post_images").getPublicUrl(p);u=w.publicUrl,e(!1)}const{data:f,error:d}=await L.from("posts").insert({content:l,user_id:t.id,image_url:u}).select(`
          *,
          profiles:user_id(username, avatar_url)
        `).single();if(d)throw console.error("Erro ao criar post:",d),d;return{...f,comments_count:0}},onSuccess:()=>{n.invalidateQueries({queryKey:["posts"]}),r({title:"Sucesso",description:"Publicao criada com sucesso!"})},onError:l=>{r({title:"Erro",description:`No foi possvel criar a publicao: ${l.message}`,variant:"destructive"})}}),o=Pt({mutationFn:async({id:l,content:c,imageFile:u,keepExistingImage:f=!0})=>{if(!t)throw new Error("Usurio no autenticado");const{data:d,error:h}=await L.from("posts").select("image_url, user_id").eq("id",l).single();if(h)throw console.error("Erro ao buscar post existente:",h),h;if(d.user_id!==t.id)throw new Error("Voc no tem permisso para editar este post");let p=f?d.image_url:null;if(u){e(!0);const w=u.name.split(".").pop(),y=`${t.id}/${Date.now()}.${w}`;if(d.image_url&&(u||!f))try{const S=d.image_url.split("/").pop();S&&await L.storage.from("post_images").remove([`${t.id}/${S}`])}catch(S){console.error("Erro ao excluir imagem antiga:",S)}const{data:x,error:b}=await L.storage.from("post_images").upload(y,u);if(b)throw console.error("Erro ao fazer upload da imagem:",b),e(!1),b;const{data:_}=L.storage.from("post_images").getPublicUrl(y);p=_.publicUrl,e(!1)}const{data:g,error:v}=await L.from("posts").update({content:c,image_url:p,updated_at:new Date().toISOString()}).eq("id",l).select(`
          *,
          profiles:user_id(username, avatar_url)
        `).single();if(v)throw console.error("Erro ao atualizar post:",v),v;return g},onSuccess:()=>{n.invalidateQueries({queryKey:["posts"]}),r({title:"Sucesso",description:"Publicao atualizada com sucesso!"})},onError:l=>{r({title:"Erro",description:`No foi possvel atualizar a publicao: ${l.message}`,variant:"destructive"})}}),a=Pt({mutationFn:async l=>{if(!t)throw new Error("Usurio no autenticado");const{data:c,error:u}=await L.from("posts").select("image_url").eq("id",l).single();if(u)throw console.error("Erro ao buscar post para excluso:",u),u;if(c.image_url)try{const d=c.image_url.split("/").pop();d&&await L.storage.from("post_images").remove([`${t.id}/${d}`])}catch(d){console.error("Erro ao excluir imagem:",d)}const{error:f}=await L.from("posts").delete().eq("id",l);if(f)throw console.error("Erro ao excluir post:",f),f;return l},onSuccess:l=>{n.invalidateQueries({queryKey:["posts"]}),n.setQueryData(["posts"],c=>c?c.filter(u=>u.id!==l):[]),r({title:"Sucesso",description:"Publicao excluda com sucesso!"})},onError:l=>{r({title:"Erro",description:`No foi possvel excluir a publicao: ${l.message}`,variant:"destructive"})}});return{createPost:s,updatePost:o,deletePost:a}},GB=()=>{const{user:e}=Ne(),{toast:t}=pt(),r=Qe(),n=Pt({mutationFn:async({postId:o,content:a})=>{if(!e)throw new Error("Usurio no autenticado");const{data:l,error:c}=await L.from("comments").insert({post_id:o,user_id:e.id,content:a}).select("*");if(c)throw console.error("Erro ao adicionar comentrio:",c),c;const{data:u}=await L.from("profiles").select("username, avatar_url").eq("id",e.id).single();return{...l[0],profiles:u||{username:"Usurio",avatar_url:null}}},onSuccess:o=>{r.setQueryData(["posts"],a=>a?a.map(l=>l.id===o.post_id?{...l,comments_count:(l.comments_count||0)+1}:l):[]),r.invalidateQueries({queryKey:["comments",o.post_id]}),t({title:"Sucesso",description:"Comentrio adicionado com sucesso!"})},onError:o=>{t({title:"Erro",description:`No foi possvel adicionar o comentrio: ${o.message}`,variant:"destructive"})}}),s=Pt({mutationFn:async({commentId:o,postId:a})=>{if(!e)throw new Error("Usurio no autenticado");const{error:l}=await L.from("comments").delete().eq("id",o);if(l)throw console.error("Erro ao excluir comentrio:",l),l;return{commentId:o,postId:a}},onSuccess:({commentId:o,postId:a})=>{r.setQueryData(["posts"],l=>l?l.map(c=>c.id===a?{...c,comments_count:Math.max(0,(c.comments_count||0)-1)}:c):[]),r.invalidateQueries({queryKey:["comments",a]}),t({title:"Sucesso",description:"Comentrio excludo com sucesso!"})},onError:o=>{t({title:"Erro",description:`No foi possvel excluir o comentrio: ${o.message}`,variant:"destructive"})}});return{addComment:n,deleteComment:s}},YB=()=>{const{user:e}=Ne(),{toast:t}=pt(),r=Qe();return{toggleReaction:Pt({mutationFn:async({postId:s,reactionType:o})=>{if(!e)throw new Error("Usurio no autenticado");const{data:a,error:l}=await L.from("reactions").select("type, id").eq("post_id",s).eq("user_id",e.id).maybeSingle();if(l)throw console.error("Erro ao verificar reao existente:",l),l;if(a)if(a.type===o){const{error:c}=await L.from("reactions").delete().eq("post_id",s).eq("user_id",e.id);if(c)throw console.error("Erro ao remover reao:",c),c;return{action:"removed",previousType:a.type,postId:s,reactionType:o}}else{const{error:c}=await L.from("reactions").update({type:o}).eq("post_id",s).eq("user_id",e.id);if(c)throw console.error("Erro ao atualizar reao:",c),c;return{action:"updated",previousType:a.type,postId:s,reactionType:o}}else{const{error:c}=await L.from("reactions").insert({post_id:s,user_id:e.id,type:o});if(c)throw console.error("Erro ao adicionar reao:",c),c;return{action:"added",previousType:null,postId:s,reactionType:o}}},onSuccess:()=>{r.invalidateQueries({queryKey:["posts"]})},onError:s=>{t({title:"Erro",description:`No foi possvel registrar sua reao: ${s.message}`,variant:"destructive"})}})}},im=()=>{const{toast:e}=pt(),{user:t}=Ne(),r=Qe(),n=m.useRef(null),s=m.useRef(null),o=m.useRef(!1),{posts:a,isLoadingPosts:l,postsError:c,refetchPosts:u,getComments:f,isUploading:d,setIsUploading:h}=HB(),{createPost:p,updatePost:g,deletePost:v}=KB(h),{addComment:w,deleteComment:y}=GB(),{toggleReaction:x}=YB();return m.useEffect(()=>{c&&e({title:"Erro",description:`No foi possvel carregar as publicaes: ${c.message}`,variant:"destructive"})},[c,e]),m.useEffect(()=>{const b=(t==null?void 0:t.id)||null;if(s.current!==b){if(n.current){console.log(" User changed, cleaning up posts channel");try{L.removeChannel(n.current)}catch(j){console.warn("Error removing channel:",j)}n.current=null,o.current=!1}s.current=b}if(!b)return;if(n.current||o.current){console.log(" Posts subscription already active or in progress, skipping");return}o.current=!0;const _=`posts-realtime-${b}-${Date.now()}`;console.log(" Creating new posts channel:",_);const S=L.channel(_).on("postgres_changes",{event:"*",schema:"public",table:"posts"},()=>{r.invalidateQueries({queryKey:["posts"]})}).on("postgres_changes",{event:"*",schema:"public",table:"comments"},()=>{r.invalidateQueries({queryKey:["posts"]})}).on("postgres_changes",{event:"*",schema:"public",table:"reactions"},()=>{r.invalidateQueries({queryKey:["posts"]})});return S.subscribe(j=>{console.log("Posts channel subscription status:",j),j==="SUBSCRIBED"?(console.log(" Posts channel successfully subscribed"),n.current=S,o.current=!1):j==="CLOSED"?(console.log(" Posts channel subscription closed"),n.current===S&&(n.current=null),o.current=!1):j==="CHANNEL_ERROR"&&(console.log(" Posts channel subscription error"),n.current===S&&(n.current=null),o.current=!1)}),()=>{if(console.log(" Cleaning up posts channel:",_),o.current=!1,n.current===S){try{L.removeChannel(S)}catch(j){console.warn("Error removing channel:",j)}n.current=null}}},[t==null?void 0:t.id,r]),{posts:a,isLoadingPosts:l,postsError:c,isUploading:d,refetchPosts:u,getComments:f,createPost:p,updatePost:g,deletePost:v,addComment:w,deleteComment:y,toggleReaction:x}};var Bx="Avatar",[QB,wK]=jr(Bx),[ZB,g2]=QB(Bx),v2=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=m.useState("idle");return i.jsx(ZB,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:i.jsx(ie.span,{...n,ref:t})})});v2.displayName=Bx;var y2="AvatarImage",x2=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,a=g2(y2,r),l=XB(n,o.referrerPolicy),c=st(u=>{s(u),a.onImageLoadingStatusChange(u)});return Rt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ie.img,{...o,ref:t,src:n}):null});x2.displayName=y2;var w2="AvatarFallback",b2=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=g2(w2,r),[a,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&o.imageLoadingStatus!=="loaded"?i.jsx(ie.span,{...s,ref:t}):null});b2.displayName=w2;function XB(e,t){const[r,n]=m.useState("idle");return Rt(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,a=l=>()=>{s&&n(l)};return n("loading"),o.onload=a("loaded"),o.onerror=a("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var _2=v2,S2=x2,C2=b2;const tn=m.forwardRef(({className:e,...t},r)=>i.jsx(_2,{ref:r,className:U("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));tn.displayName=_2.displayName;const rn=m.forwardRef(({className:e,...t},r)=>i.jsx(S2,{ref:r,className:U("aspect-square h-full w-full",e),...t}));rn.displayName=S2.displayName;const nn=m.forwardRef(({className:e,...t},r)=>i.jsx(C2,{ref:r,className:U("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));nn.displayName=C2.displayName;function JB(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Vx="ScrollArea",[j2,bK]=jr(Vx),[eV,sn]=j2(Vx),N2=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...a}=e,[l,c]=m.useState(null),[u,f]=m.useState(null),[d,h]=m.useState(null),[p,g]=m.useState(null),[v,w]=m.useState(null),[y,x]=m.useState(0),[b,_]=m.useState(0),[S,j]=m.useState(!1),[C,N]=m.useState(!1),k=ye(t,O=>c(O)),R=xl(s);return i.jsx(eV,{scope:r,type:n,dir:R,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:N,onCornerWidthChange:x,onCornerHeightChange:_,children:i.jsx(ie.div,{dir:R,...a,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});N2.displayName=Vx;var k2="ScrollAreaViewport",E2=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...a}=e,l=sn(k2,r),c=m.useRef(null),u=ye(t,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),i.jsx(ie.div,{"data-radix-scroll-area-viewport":"",...a,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:uV({asChild:s,children:n},f=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});E2.displayName=k2;var os="ScrollAreaScrollbar",Wx=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=sn(os,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?o(!0):a(!0),()=>{l?o(!1):a(!1)}),[l,o,a]),s.type==="hover"?i.jsx(tV,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(rV,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(P2,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(qx,{...n,ref:t}):null});Wx.displayName=os;var tV=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=sn(os,e.__scopeScrollArea),[o,a]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},f=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Dt,{present:r||o,children:i.jsx(P2,{"data-state":o?"visible":"hidden",...n,ref:t})})}),rV=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=sn(os,e.__scopeScrollArea),o=e.orientation==="horizontal",a=cm(()=>c("SCROLL_END"),100),[l,c]=JB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,f=o?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const p=u[f];d!==p&&(c("SCROLL"),a()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,o,c,a]),i.jsx(Dt,{present:r||l!=="hidden",children:i.jsx(qx,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:V(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:V(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),P2=m.forwardRef((e,t)=>{const r=sn(os,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,a]=m.useState(!1),l=e.orientation==="horizontal",c=cm(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:f)}},10);return rl(r.viewport,c),rl(r.content,c),i.jsx(Dt,{present:n||o,children:i.jsx(qx,{"data-state":o?"visible":"hidden",...s,ref:t})})}),qx=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=sn(os,e.__scopeScrollArea),o=m.useRef(null),a=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=O2(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function d(h,p){return lV(h,a.current,l,p)}return r==="horizontal"?i.jsx(nV,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=m1(h,l,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,s.dir))}}):r==="vertical"?i.jsx(sV,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=m1(h,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),nV=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=sn(os,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=ye(t,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(R2,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lm(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),I2(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:nh(a.paddingLeft),paddingEnd:nh(a.paddingRight)}})}})}),sV=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=sn(os,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=ye(t,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(R2,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lm(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),I2(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:nh(a.paddingTop),paddingEnd:nh(a.paddingBottom)}})}})}),[oV,T2]=j2(os),R2=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,p=sn(os,r),[g,v]=m.useState(null),w=ye(t,k=>v(k)),y=m.useRef(null),x=m.useRef(""),b=p.viewport,_=n.content-n.viewport,S=st(f),j=st(c),C=cm(d,10);function N(k){if(y.current){const R=k.clientX-y.current.left,O=k.clientY-y.current.top;u({x:R,y:O})}}return m.useEffect(()=>{const k=R=>{const O=R.target;(g==null?void 0:g.contains(O))&&S(R,_)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[b,g,_,S]),m.useEffect(j,[n,j]),rl(g,C),rl(p.content,C),i.jsx(oV,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:st(o),onThumbPointerUp:st(a),onThumbPositionChange:j,onThumbPointerDown:st(l),children:i.jsx(ie.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:V(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(k))}),onPointerMove:V(e.onPointerMove,N),onPointerUp:V(e.onPointerUp,k=>{const R=k.target;R.hasPointerCapture(k.pointerId)&&R.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),rh="ScrollAreaThumb",M2=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=T2(rh,e.__scopeScrollArea);return i.jsx(Dt,{present:r||s.hasThumb,children:i.jsx(aV,{ref:t,...n})})}),aV=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=sn(rh,r),a=T2(rh,r),{onThumbPositionChange:l}=a,c=ye(t,d=>a.onThumbChange(d)),u=m.useRef(),f=cm(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const d=o.viewport;if(d){const h=()=>{if(f(),!u.current){const p=cV(d,l);u.current=p,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,f,l]),i.jsx(ie.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:V(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),g=d.clientX-p.left,v=d.clientY-p.top;a.onThumbPointerDown({x:g,y:v})}),onPointerUp:V(e.onPointerUp,a.onThumbPointerUp)})});M2.displayName=rh;var Hx="ScrollAreaCorner",D2=m.forwardRef((e,t)=>{const r=sn(Hx,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(iV,{...e,ref:t}):null});D2.displayName=Hx;var iV=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=sn(Hx,r),[o,a]=m.useState(0),[l,c]=m.useState(0),u=!!(o&&l);return rl(s.scrollbarX,()=>{var d;const f=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),rl(s.scrollbarY,()=>{var d;const f=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(f),a(f)}),u?i.jsx(ie.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function nh(e){return e?parseInt(e,10):0}function O2(e,t){const r=e/t;return isNaN(r)?0:r}function lm(e){const t=O2(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function lV(e,t,r,n="ltr"){const s=lm(r),o=s/2,a=t||o,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,d=n==="ltr"?[0,f]:[f*-1,0];return A2([c,u],d)(e)}function m1(e,t,r="ltr"){const n=lm(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,a=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,a]:[a*-1,0],u=lv(e,c);return A2([0,a],[0,l])(u)}function A2(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function I2(e,t){return e>0&&e<t}var cV=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},a=r.left!==o.left,l=r.top!==o.top;(a||l)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function cm(e,t){const r=st(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function rl(e,t){const r=st(t);Rt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function uV(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=m.Children.only(n);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var L2=N2,dV=E2,fV=D2;const $2=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(L2,{ref:n,className:U("relative overflow-hidden",e),...r,children:[i.jsx(dV,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(F2,{}),i.jsx(fV,{})]}));$2.displayName=L2.displayName;const F2=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(Wx,{ref:n,orientation:t,className:U("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(M2,{className:"relative flex-1 rounded-full bg-border"})}));F2.displayName=Wx.displayName;var Rv=["Enter"," "],hV=["ArrowDown","PageUp","Home"],z2=["ArrowUp","PageDown","End"],mV=[...hV,...z2],pV={ltr:[...Rv,"ArrowRight"],rtl:[...Rv,"ArrowLeft"]},gV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Du="Menu",[ru,vV,yV]=Mh(Du),[La,U2]=jr(Du,[yV,Uo,Sl]),um=Uo(),B2=Sl(),[xV,$a]=La(Du),[wV,Ou]=La(Du),V2=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:a=!0}=e,l=um(t),[c,u]=m.useState(null),f=m.useRef(!1),d=st(o),h=xl(s);return m.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(Gh,{...l,children:i.jsx(xV,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:i.jsx(wV,{scope:t,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:a,children:n})})})};V2.displayName=Du;var bV="MenuAnchor",Kx=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=um(r);return i.jsx(ju,{...s,...n,ref:t})});Kx.displayName=bV;var Gx="MenuPortal",[_V,W2]=La(Gx,{forceMount:void 0}),q2=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=$a(Gx,t);return i.jsx(_V,{scope:t,forceMount:r,children:i.jsx(Dt,{present:r||o.open,children:i.jsx(hl,{asChild:!0,container:s,children:n})})})};q2.displayName=Gx;var Qr="MenuContent",[SV,Yx]=La(Qr),H2=m.forwardRef((e,t)=>{const r=W2(Qr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=$a(Qr,e.__scopeMenu),a=Ou(Qr,e.__scopeMenu);return i.jsx(ru.Provider,{scope:e.__scopeMenu,children:i.jsx(Dt,{present:n||o.open,children:i.jsx(ru.Slot,{scope:e.__scopeMenu,children:a.modal?i.jsx(CV,{...s,ref:t}):i.jsx(jV,{...s,ref:t})})})})}),CV=m.forwardRef((e,t)=>{const r=$a(Qr,e.__scopeMenu),n=m.useRef(null),s=ye(t,n);return m.useEffect(()=>{const o=n.current;if(o)return Uh(o)},[]),i.jsx(Qx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:V(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),jV=m.forwardRef((e,t)=>{const r=$a(Qr,e.__scopeMenu);return i.jsx(Qx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Qx=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...v}=e,w=$a(Qr,r),y=Ou(Qr,r),x=um(r),b=B2(r),_=vV(r),[S,j]=m.useState(null),C=m.useRef(null),N=ye(t,C,w.onContentChange),k=m.useRef(0),R=m.useRef(""),O=m.useRef(0),M=m.useRef(null),$=m.useRef("right"),I=m.useRef(0),B=g?_u:m.Fragment,q=g?{as:_r,allowPinchZoom:!0}:void 0,F=D=>{var ae,ke;const H=R.current+D,re=_().filter(Le=>!Le.disabled),he=document.activeElement,Oe=(ae=re.find(Le=>Le.ref.current===he))==null?void 0:ae.textValue,Ie=re.map(Le=>Le.textValue),_t=LV(Ie,H,Oe),Be=(ke=re.find(Le=>Le.textValue===_t))==null?void 0:ke.ref.current;(function Le(Me){R.current=Me,window.clearTimeout(k.current),Me!==""&&(k.current=window.setTimeout(()=>Le(""),1e3))})(H),Be&&setTimeout(()=>Be.focus())};m.useEffect(()=>()=>window.clearTimeout(k.current),[]),Fh();const T=m.useCallback(D=>{var re,he;return $.current===((re=M.current)==null?void 0:re.side)&&FV(D,(he=M.current)==null?void 0:he.area)},[]);return i.jsx(SV,{scope:r,searchRef:R,onItemEnter:m.useCallback(D=>{T(D)&&D.preventDefault()},[T]),onItemLeave:m.useCallback(D=>{var H;T(D)||((H=C.current)==null||H.focus(),j(null))},[T]),onTriggerLeave:m.useCallback(D=>{T(D)&&D.preventDefault()},[T]),pointerGraceTimerRef:O,onPointerGraceIntentChange:m.useCallback(D=>{M.current=D},[]),children:i.jsx(B,{...q,children:i.jsx(bu,{asChild:!0,trapped:s,onMountAutoFocus:V(o,D=>{var H;D.preventDefault(),(H=C.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:i.jsx(Da,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:i.jsx(ux,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:j,onEntryFocus:V(c,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Yh,{role:"menu","aria-orientation":"vertical","data-state":lP(w.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:V(v.onKeyDown,D=>{const re=D.target.closest("[data-radix-menu-content]")===D.currentTarget,he=D.ctrlKey||D.altKey||D.metaKey,Oe=D.key.length===1;re&&(D.key==="Tab"&&D.preventDefault(),!he&&Oe&&F(D.key));const Ie=C.current;if(D.target!==Ie||!mV.includes(D.key))return;D.preventDefault();const Be=_().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);z2.includes(D.key)&&Be.reverse(),AV(Be)}),onBlur:V(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(k.current),R.current="")}),onPointerMove:V(e.onPointerMove,nu(D=>{const H=D.target,re=I.current!==D.clientX;if(D.currentTarget.contains(H)&&re){const he=D.clientX>I.current?"right":"left";$.current=he,I.current=D.clientX}}))})})})})})})});H2.displayName=Qr;var NV="MenuGroup",Zx=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ie.div,{role:"group",...n,ref:t})});Zx.displayName=NV;var kV="MenuLabel",K2=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ie.div,{...n,ref:t})});K2.displayName=kV;var sh="MenuItem",p1="menu.itemSelect",dm=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=m.useRef(null),a=Ou(sh,e.__scopeMenu),l=Yx(sh,e.__scopeMenu),c=ye(t,o),u=m.useRef(!1),f=()=>{const d=o.current;if(!r&&d){const h=new CustomEvent(p1,{bubbles:!0,cancelable:!0});d.addEventListener(p1,p=>n==null?void 0:n(p),{once:!0}),By(d,h),h.defaultPrevented?u.current=!1:a.onClose()}};return i.jsx(G2,{...s,ref:c,disabled:r,onClick:V(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:V(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:V(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||Rv.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});dm.displayName=sh;var G2=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,a=Yx(sh,r),l=B2(r),c=m.useRef(null),u=ye(t,c),[f,d]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[o.children]),i.jsx(ru.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:i.jsx(dx,{asChild:!0,...l,focusable:!n,children:i.jsx(ie.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:V(e.onPointerMove,nu(g=>{n?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:V(e.onPointerLeave,nu(g=>a.onItemLeave(g))),onFocus:V(e.onFocus,()=>d(!0)),onBlur:V(e.onBlur,()=>d(!1))})})})}),EV="MenuCheckboxItem",Y2=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(eP,{scope:e.__scopeMenu,checked:r,children:i.jsx(dm,{role:"menuitemcheckbox","aria-checked":oh(r)?"mixed":r,...s,ref:t,"data-state":Jx(r),onSelect:V(s.onSelect,()=>n==null?void 0:n(oh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Y2.displayName=EV;var Q2="MenuRadioGroup",[PV,TV]=La(Q2,{value:void 0,onValueChange:()=>{}}),Z2=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=st(n);return i.jsx(PV,{scope:e.__scopeMenu,value:r,onValueChange:o,children:i.jsx(Zx,{...s,ref:t})})});Z2.displayName=Q2;var X2="MenuRadioItem",J2=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=TV(X2,e.__scopeMenu),o=r===s.value;return i.jsx(eP,{scope:e.__scopeMenu,checked:o,children:i.jsx(dm,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Jx(o),onSelect:V(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});J2.displayName=X2;var Xx="MenuItemIndicator",[eP,RV]=La(Xx,{checked:!1}),tP=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=RV(Xx,r);return i.jsx(Dt,{present:n||oh(o.checked)||o.checked===!0,children:i.jsx(ie.span,{...s,ref:t,"data-state":Jx(o.checked)})})});tP.displayName=Xx;var MV="MenuSeparator",rP=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ie.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});rP.displayName=MV;var DV="MenuArrow",nP=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=um(r);return i.jsx(Qh,{...s,...n,ref:t})});nP.displayName=DV;var OV="MenuSub",[_K,sP]=La(OV),ic="MenuSubTrigger",oP=m.forwardRef((e,t)=>{const r=$a(ic,e.__scopeMenu),n=Ou(ic,e.__scopeMenu),s=sP(ic,e.__scopeMenu),o=Yx(ic,e.__scopeMenu),a=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),i.jsx(Kx,{asChild:!0,...u,children:i.jsx(G2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":lP(r.open),...e,ref:Rh(t,s.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:V(e.onPointerMove,nu(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:V(e.onPointerLeave,nu(d=>{var p,g;f();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const v=(g=r.content)==null?void 0:g.dataset.side,w=v==="right",y=w?-5:5,x=h[w?"left":"right"],b=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:V(e.onKeyDown,d=>{var p;const h=o.searchRef.current!=="";e.disabled||h&&d.key===" "||pV[n.dir].includes(d.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),d.preventDefault())})})})});oP.displayName=ic;var aP="MenuSubContent",iP=m.forwardRef((e,t)=>{const r=W2(Qr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=$a(Qr,e.__scopeMenu),a=Ou(Qr,e.__scopeMenu),l=sP(aP,e.__scopeMenu),c=m.useRef(null),u=ye(t,c);return i.jsx(ru.Provider,{scope:e.__scopeMenu,children:i.jsx(Dt,{present:n||o.open,children:i.jsx(ru.Slot,{scope:e.__scopeMenu,children:i.jsx(Qx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;a.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:V(e.onFocusOutside,f=>{f.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:V(e.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:V(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=gV[a.dir].includes(f.key);d&&h&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});iP.displayName=aP;function lP(e){return e?"open":"closed"}function oh(e){return e==="indeterminate"}function Jx(e){return oh(e)?"indeterminate":e?"checked":"unchecked"}function AV(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function IV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function LV(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let a=IV(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function $V(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o].x,c=t[o].y,u=t[a].x,f=t[a].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function FV(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return $V(r,t)}function nu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var zV=V2,UV=Kx,BV=q2,VV=H2,WV=Zx,qV=K2,HV=dm,KV=Y2,GV=Z2,YV=J2,QV=tP,ZV=rP,XV=nP,JV=oP,eW=iP,e0="DropdownMenu",[tW,SK]=jr(e0,[U2]),lr=U2(),[rW,cP]=tW(e0),uP=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=e,c=lr(t),u=m.useRef(null),[f=!1,d]=bn({prop:s,defaultProp:o,onChange:a});return i.jsx(rW,{scope:t,triggerId:Gr(),triggerRef:u,contentId:Gr(),open:f,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:l,children:i.jsx(zV,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};uP.displayName=e0;var dP="DropdownMenuTrigger",fP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=cP(dP,r),a=lr(r);return i.jsx(UV,{asChild:!0,...a,children:i.jsx(ie.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Rh(t,o.triggerRef),onPointerDown:V(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:V(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});fP.displayName=dP;var nW="DropdownMenuPortal",hP=e=>{const{__scopeDropdownMenu:t,...r}=e,n=lr(t);return i.jsx(BV,{...n,...r})};hP.displayName=nW;var mP="DropdownMenuContent",pP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=cP(mP,r),o=lr(r),a=m.useRef(!1);return i.jsx(VV,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:V(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:V(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!s.modal||f)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pP.displayName=mP;var sW="DropdownMenuGroup",oW=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(WV,{...s,...n,ref:t})});oW.displayName=sW;var aW="DropdownMenuLabel",gP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(qV,{...s,...n,ref:t})});gP.displayName=aW;var iW="DropdownMenuItem",vP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(HV,{...s,...n,ref:t})});vP.displayName=iW;var lW="DropdownMenuCheckboxItem",yP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(KV,{...s,...n,ref:t})});yP.displayName=lW;var cW="DropdownMenuRadioGroup",uW=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(GV,{...s,...n,ref:t})});uW.displayName=cW;var dW="DropdownMenuRadioItem",xP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(YV,{...s,...n,ref:t})});xP.displayName=dW;var fW="DropdownMenuItemIndicator",wP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(QV,{...s,...n,ref:t})});wP.displayName=fW;var hW="DropdownMenuSeparator",bP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(ZV,{...s,...n,ref:t})});bP.displayName=hW;var mW="DropdownMenuArrow",pW=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(XV,{...s,...n,ref:t})});pW.displayName=mW;var gW="DropdownMenuSubTrigger",_P=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(JV,{...s,...n,ref:t})});_P.displayName=gW;var vW="DropdownMenuSubContent",SP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=lr(r);return i.jsx(eW,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SP.displayName=vW;var yW=uP,xW=fP,wW=hP,CP=pP,jP=gP,NP=vP,kP=yP,EP=xP,PP=wP,TP=bP,RP=_P,MP=SP;const DP=yW,OP=xW,bW=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(RP,{ref:s,className:U("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(wj,{className:"ml-auto h-4 w-4"})]}));bW.displayName=RP.displayName;const _W=m.forwardRef(({className:e,...t},r)=>i.jsx(MP,{ref:r,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_W.displayName=MP.displayName;const t0=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(wW,{children:i.jsx(CP,{ref:n,sideOffset:t,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));t0.displayName=CP.displayName;const ah=m.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(NP,{ref:n,className:U("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));ah.displayName=NP.displayName;const SW=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(kP,{ref:s,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(PP,{children:i.jsx(Lh,{className:"h-4 w-4"})})}),t]}));SW.displayName=kP.displayName;const CW=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(EP,{ref:n,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(PP,{children:i.jsx(bj,{className:"h-2 w-2 fill-current"})})}),t]}));CW.displayName=EP.displayName;const jW=m.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(jP,{ref:n,className:U("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));jW.displayName=jP.displayName;const AP=m.forwardRef(({className:e,...t},r)=>i.jsx(TP,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",e),...t}));AP.displayName=TP.displayName;const NW=(e,t=1,r=20,n="")=>Tt({queryKey:["chat",e,t,r,n],queryFn:async()=>{if(console.log("useConversationQuery - Fetching conversation",{recipientId:e,currentPage:t,pageSize:r,searchQuery:n}),!e)return{messages:[],totalCount:0,hasMore:!1};const{data:{user:s}}=await L.auth.getUser();if(!s)throw new Error("User not authenticated");let o=L.from("messages").select(`
          *,
          sender_profile:profiles!messages_sender_id_fkey(username, avatar_url)
        `,{count:"exact"}).or(`and(sender_id.eq.${s.id},recipient_id.eq.${e}),and(sender_id.eq.${e},recipient_id.eq.${s.id})`).eq("deleted_by_recipient",!1).order("created_at",{ascending:!1});n&&(o=o.ilike("content",`%${n}%`));const a=(t-1)*r;o=o.range(a,a+r-1);const{data:l,error:c,count:u}=await o;if(c)throw console.error("useConversationQuery - Error fetching messages:",c),c;const f=(l||[]).map(d=>{var h,p;return{...d,sender_username:(h=d.sender_profile)==null?void 0:h.username,sender_avatar_url:(p=d.sender_profile)==null?void 0:p.avatar_url}});return console.log("useConversationQuery - Fetched messages:",{messagesCount:(f==null?void 0:f.length)||0,totalCount:u||0}),{messages:f.reverse(),totalCount:u||0,hasMore:u?u>t*r:!1}},enabled:!!e,staleTime:0,refetchOnWindowFocus:!1}),Au=()=>{const{user:e}=Ne();return{user:e}},kW=()=>{const{user:e}=Au();return{getChatUsers:()=>Tt({queryKey:["chatUsers"],queryFn:async()=>{if(!e)return[];const r=async c=>{const{count:u,error:f}=await L.from("messages").select("*",{count:"exact",head:!0}).eq("recipient_id",e.id).eq("sender_id",c).eq("read",!1).eq("deleted_by_recipient",!1);return f?(console.error("Erro ao contar mensagens no lidas:",f),0):u||0},{data:n,error:s}=await L.from("messages").select("*").or(`sender_id.eq.${e.id},recipient_id.eq.${e.id}`).eq("deleted_by_recipient",!1).order("created_at",{ascending:!1});if(s)throw console.error("Erro ao buscar mensagens:",s),s;const o=new Set,a=new Map;for(const c of n||[]){const u=c.sender_id===e.id?c.recipient_id:c.sender_id;if(!o.has(u)){o.add(u);const{data:f}=await L.from("profiles").select("username, avatar_url").eq("id",u).single();f&&a.set(u,{id:u,username:f.username,avatar_url:f.avatar_url||void 0,unread_count:0,last_message:{content:c.content,created_at:c.created_at,sender_id:c.sender_id}})}}return(await Promise.all(Array.from(a.values()).map(async c=>{const u=await r(c.id);return{...c,unread_count:u}}))).sort((c,u)=>{if(c.unread_count!==u.unread_count)return u.unread_count-c.unread_count;const f=c.last_message?new Date(c.last_message.created_at).getTime():0;return(u.last_message?new Date(u.last_message.created_at).getTime():0)-f})},enabled:!!e})}},EW=()=>{const{getChatUsers:e}=kW();return{getChatUsers:e,getConversation:NW,getTotalUnreadCount:r=>r?r.reduce((n,s)=>n+s.unread_count,0):0}},PW=()=>{const{user:e}=Ne(),{toast:t}=pt(),r=Qe();return Pt({mutationFn:async({recipientId:n,content:s,attachment:o})=>{if(console.log("useSendMessage - Starting mutation",{recipientId:n,content:s,attachment:o,user:e==null?void 0:e.id}),!e)throw console.error("useSendMessage - User not authenticated"),new Error("Usurio no autenticado");if(n===e.id)throw console.error("useSendMessage - Cannot send message to self"),new Error("Voc no pode enviar mensagens para si mesmo");let a=null;if(o){console.log("useSendMessage - Uploading attachment",o);const f=o.name.split(".").pop(),d=`${Math.random().toString(36).substring(2)}-${Date.now()}.${f}`,h=`${e.id}/${d}`,{error:p,data:g}=await L.storage.from("message-attachments").upload(h,o);if(p)throw console.error("useSendMessage - Error uploading file:",p),p;const{data:{publicUrl:v}}=L.storage.from("message-attachments").getPublicUrl(h);a=v,console.log("useSendMessage - Attachment uploaded, URL:",a)}const l={sender_id:e.id,recipient_id:n,content:s.trim(),read:!1,deleted_by_recipient:!1,...a&&{attachment_url:a}};console.log("useSendMessage - Inserting message",l);const{data:c,error:u}=await L.from("messages").insert(l).select().single();if(u)throw console.error("useSendMessage - Error inserting message:",u),u;return console.log("useSendMessage - Message sent successfully",c),c},onSuccess:n=>{console.log("useSendMessage - onSuccess",n),r.invalidateQueries({queryKey:["chatUsers"]}),r.invalidateQueries({queryKey:["chat",n.recipient_id]})},onError:n=>{console.error("useSendMessage - onError",n),t({title:"Erro",description:`No foi possvel enviar a mensagem: ${n.message}`,variant:"destructive"})}})},TW=()=>{const{user:e}=Au(),{toast:t}=pt(),r=Qe();return Pt({mutationFn:async({messageId:n,content:s})=>{if(!e)throw new Error("Usurio no autenticado");const{data:o,error:a}=await L.from("messages").select("*").eq("id",n).single();if(a)throw console.error("Erro ao buscar mensagem:",a),a;if(o.sender_id!==e.id)throw new Error("Voc no pode editar mensagens de outros usurios");const{data:l,error:c}=await L.from("messages").update({content:s}).eq("id",n).select().single();if(c)throw console.error("Erro ao editar mensagem:",c),c;return l},onSuccess:n=>{r.invalidateQueries({queryKey:["chatUsers"]}),r.invalidateQueries({queryKey:["chat",n.recipient_id]}),t({title:"Mensagem atualizada",description:"A mensagem foi editada com sucesso."})},onError:n=>{t({title:"Erro",description:`No foi possvel editar a mensagem: ${n.message}`,variant:"destructive"})}})},RW=()=>{const{user:e}=Au(),{toast:t}=pt(),r=Qe();return Pt({mutationFn:async n=>{if(!e)throw new Error("Usurio no autenticado");const{error:s}=await L.from("messages").delete().eq("sender_id",e.id).eq("recipient_id",n);if(s)throw console.error("Erro ao excluir mensagens enviadas:",s),s;const{error:o}=await L.from("messages").update({deleted_by_recipient:!0}).eq("recipient_id",e.id).eq("sender_id",n);if(o)throw console.error("Erro ao marcar mensagens como excludas:",o),o;return n},onSuccess:n=>{r.invalidateQueries({queryKey:["chatUsers"]}),r.invalidateQueries({queryKey:["chat",n]}),t({title:"Conversa limpa",description:"A conversa foi limpa com sucesso."})},onError:n=>{t({title:"Erro",description:`No foi possvel limpar a conversa: ${n.message}`,variant:"destructive"})}})},MW=()=>{const{user:e}=Au(),{toast:t}=pt(),r=Qe();return Pt({mutationFn:async n=>{if(!e)throw new Error("Usurio no autenticado");const{data:s,error:o}=await L.from("messages").select("*").eq("id",n).single();if(o)throw console.error("Erro ao buscar mensagem:",o),o;if(s.sender_id===e.id){const{error:a}=await L.from("messages").delete().eq("id",n);if(a)throw console.error("Erro ao excluir mensagem:",a),a}else if(s.recipient_id===e.id){const{error:a}=await L.from("messages").update({deleted_by_recipient:!0}).eq("id",n);if(a)throw console.error("Erro ao marcar mensagem como excluda:",a),a}else throw new Error("Voc no tem permisso para excluir esta mensagem");return{messageId:n,otherUserId:s.sender_id===e.id?s.recipient_id:s.sender_id}},onSuccess:({otherUserId:n})=>{r.invalidateQueries({queryKey:["chatUsers"]}),r.invalidateQueries({queryKey:["chat",n]}),t({title:"Mensagem excluda",description:"A mensagem foi excluda com sucesso."})},onError:n=>{t({title:"Erro",description:`No foi possvel excluir a mensagem: ${n.message}`,variant:"destructive"})}})},DW=()=>{const e=PW(),t=TW(),r=RW(),n=MW();return{sendMessage:e,editMessage:t,clearConversation:r,deleteMessage:n}};/*! Capacitor: https://capacitorjs.com/ - MIT License */var nl;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(nl||(nl={}));class Pp extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const OW=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},AW=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},s=()=>t!==null?t.name:OW(e),o=()=>s()!=="web",a=d=>{const h=u.get(d);return!!(h!=null&&h.platforms.has(s())||l(d))},l=d=>{var h;return(h=r.PluginHeaders)===null||h===void 0?void 0:h.find(p=>p.name===d)},c=d=>e.console.error(d),u=new Map,f=(d,h={})=>{const p=u.get(d);if(p)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),p.proxy;const g=s(),v=l(d);let w;const y=async()=>(!w&&g in h?w=typeof h[g]=="function"?w=await h[g]():w=h[g]:t!==null&&!w&&"web"in h&&(w=typeof h.web=="function"?w=await h.web():w=h.web),w),x=(N,k)=>{var R,O;if(v){const M=v==null?void 0:v.methods.find($=>k===$.name);if(M)return M.rtype==="promise"?$=>r.nativePromise(d,k.toString(),$):($,I)=>r.nativeCallback(d,k.toString(),$,I);if(N)return(R=N[k])===null||R===void 0?void 0:R.bind(N)}else{if(N)return(O=N[k])===null||O===void 0?void 0:O.bind(N);throw new Pp(`"${d}" plugin is not implemented on ${g}`,nl.Unimplemented)}},b=N=>{let k;const R=(...O)=>{const M=y().then($=>{const I=x($,N);if(I){const B=I(...O);return k=B==null?void 0:B.remove,B}else throw new Pp(`"${d}.${N}()" is not implemented on ${g}`,nl.Unimplemented)});return N==="addListener"&&(M.remove=async()=>k()),M};return R.toString=()=>`${N.toString()}() { [capacitor code] }`,Object.defineProperty(R,"name",{value:N,writable:!1,configurable:!1}),R},_=b("addListener"),S=b("removeListener"),j=(N,k)=>{const R=_({eventName:N},k),O=async()=>{const $=await R;S({eventName:N,callbackId:$},k)},M=new Promise($=>R.then(()=>$({remove:O})));return M.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await O()},M},C=new Proxy({},{get(N,k){switch(k){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?j:_;case"removeListener":return S;default:return b(k)}}});return n[d]=C,u.set(d,{name:d,proxy:C,platforms:new Set([...Object.keys(h),...v?[g]:[]])}),C};return r.convertFileSrc||(r.convertFileSrc=d=>d),r.getPlatform=s,r.handleError=c,r.isNativePlatform=o,r.isPluginAvailable=a,r.registerPlugin=f,r.Exception=Pp,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},IW=e=>e.Capacitor=AW(e),sa=IW(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),fm=sa.registerPlugin;class IP{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),n&&this.sendRetainedArgumentsForEvent(t);const a=async()=>this.removeListener(t,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const s=this.listeners[t];if(!s){if(n){let o=this.retainedEventArguments[t];o||(o=[]),o.push(r),this.retainedEventArguments[t]=o}return}s.forEach(o=>o(r))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new sa.Exception(t,nl.Unimplemented)}unavailable(t="not available"){return new sa.Exception(t,nl.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const s=n.indexOf(r);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const g1=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),v1=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class LW extends IP{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[s,o]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=v1(s).trim(),o=v1(o).trim(),r[s]=o}),r}async setCookie(t){try{const r=g1(t.key),n=g1(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,o=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${o}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}fm("CapacitorCookies",{web:()=>new LW});const $W=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(e)}),FW=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,o,a)=>(s[o]=e[t[a]],s),{})},zW=(e,t=!0)=>e?Object.entries(e).reduce((n,s)=>{const[o,a]=s;let l,c;return Array.isArray(a)?(c="",a.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${o}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(a):a,c=`${o}=${l}`),`${n}&${c}`},"").substr(1):null,UW=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),s=FW(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[a,l]of Object.entries(e.data||{}))o.set(a,l);r.body=o.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{o.append(c,l)});else for(const l of Object.keys(e.data))o.append(l,e.data[l]);r.body=o;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(s.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class BW extends IP{async request(t){const r=UW(t,t.webFetchExtra),n=zW(t.params,t.shouldEncodeUrlParams),s=n?`${t.url}?${n}`:t.url,o=await fetch(s,r),a=o.headers.get("content-type")||"";let{responseType:l="text"}=o.ok?t:{};a.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await o.blob(),c=await $W(u);break;case"json":c=await o.json();break;case"document":case"text":default:c=await o.text()}const f={};return o.headers.forEach((d,h)=>{f[h]=d}),{data:c,headers:f,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}fm("CapacitorHttp",{web:()=>new BW});var y1;(function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"})(y1||(y1={}));const Tp=fm("LocalNotifications",{web:()=>cl(()=>import("./web-BM1cK9OY.js"),[]).then(e=>new e.LocalNotificationsWeb)}),Ga=fm("PushNotifications",{});class VW{constructor(){cr(this,"initialized",!1);cr(this,"fcmToken",null)}async initialize(){if(!this.initialized)try{sa.isNativePlatform()?await this.initializeNative():await this.initializeWeb(),this.initialized=!0}catch(t){console.error("Error initializing push notifications:",t)}}async initializeNative(){await Tp.requestPermissions(),await Ga.requestPermissions(),await Ga.register(),Ga.addListener("registration",async t=>{console.log("Push registration success, token: "+t.value),this.fcmToken=t.value,await this.saveFCMToken(t.value)}),Ga.addListener("registrationError",t=>{console.error("Error on registration: "+JSON.stringify(t))}),Ga.addListener("pushNotificationReceived",t=>{console.log("Push notification received: "+JSON.stringify(t)),this.handleNotificationReceived(t)}),Ga.addListener("pushNotificationActionPerformed",t=>{console.log("Push notification action performed",t.actionId,t.inputValue),this.handleNotificationTapped(t)})}async initializeWeb(){if("serviceWorker"in navigator&&await navigator.serviceWorker.register("/sw.js"),"Notification"in window&&Notification.permission!=="granted"){const t=await Notification.requestPermission();console.log("Web notification permission:",t)}}async saveFCMToken(t){try{const{data:{user:r}}=await L.auth.getUser();if(!r)return;const n=`FCM_TOKEN:${t}:${sa.getPlatform()}`;await L.from("user_sessions").upsert({user_id:r.id,device_info:n,last_active:new Date().toISOString()})}catch(r){console.error("Error saving FCM token:",r)}}async showLocalNotification(t,r,n){try{if(sa.isNativePlatform())await Tp.schedule({notifications:[{title:t,body:r,id:Date.now(),extra:n,sound:"default",smallIcon:"ic_launcher_foreground"}]});else if("Notification"in window&&Notification.permission==="granted"){const s=new Notification(t,{body:r,icon:"/favicon.ico",tag:"message-notification",requireInteraction:!0,data:n});s.onclick=()=>{window.focus(),n!=null&&n.senderId&&window.dispatchEvent(new CustomEvent("open-chat",{detail:{userId:n.senderId,userName:n.senderName,userAvatar:n.senderAvatar}}))}}}catch(s){console.error("Error showing notification:",s)}}handleNotificationReceived(t){const{title:r,body:n,data:s}=t;window.dispatchEvent(new CustomEvent("notification-received",{detail:{title:r,body:n,data:s}}))}handleNotificationTapped(t){const{data:r}=t.notification;r!=null&&r.senderId&&window.dispatchEvent(new CustomEvent("open-chat",{detail:{userId:r.senderId,userName:r.senderName,userAvatar:r.senderAvatar}}))}async updateBadgeCount(t){try{sa.isNativePlatform()&&await Tp.schedule({notifications:[{id:999999,title:"",body:"",extra:{badge:t}}]})}catch(r){console.error("Error updating badge count:",r)}}getFCMToken(){return this.fcmToken}}const Rp=new VW;class WW{constructor(){cr(this,"initialized",!1)}async initialize(){if(!this.initialized)try{await Rp.initialize(),this.initialized=!0}catch(t){console.error("Error initializing notifications:",t)}}async showMessageNotification(t,r,n){try{await this.initialize(),await Rp.showLocalNotification(t,r,n)}catch(s){console.error("Erro ao exibir notificao:",s)}}async showMultipleMessagesNotification(t,r){const n=t>1?"Novas Mensagens":"Nova Mensagem",s=r?`Voc tem ${t} nova${t>1?"s":""} mensagem${t>1?"ns":""} de ${r}`:`Voc tem ${t} nova${t>1?"s":""} mensagem${t>1?"ns":""}`;await this.showMessageNotification(n,s)}async updateBadgeCount(t){await Rp.updateBadgeCount(t)}}const x1=new WW,qW=()=>{const{user:e}=Au(),t=Qe(),{toast:r}=pt(),n=m.useRef(null),s=m.useRef(null),o=m.useRef(!1);return m.useEffect(()=>{const a=(e==null?void 0:e.id)||null;if(s.current!==a){if(n.current){console.log(" User changed, cleaning up messages channel");try{L.removeChannel(n.current)}catch(u){console.warn("Error removing channel:",u)}n.current=null,o.current=!1}s.current=a}if(!a)return;if(n.current||o.current){console.log(" Messages subscription already active or in progress, skipping");return}o.current=!0,x1.initialize().catch(console.error);const l=`messages-realtime-${a}-${Date.now()}`;console.log(" Creating new messages channel:",l);const c=L.channel(l).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${a}`},u=>{console.log("Nova mensagem recebida:",u),t.invalidateQueries({queryKey:["messages"]}),t.invalidateQueries({queryKey:["chatUsers"]});const f=u.new;f.sender_id!==a&&(t.invalidateQueries({queryKey:["chat",f.sender_id]}),(async()=>{const{data:h}=await L.from("profiles").select("username, avatar_url").eq("id",f.sender_id).single();h&&(r({title:`Nova mensagem de ${h.username}`,description:f.content.length>60?f.content.substring(0,60)+"...":f.content,duration:5e3}),f.read_at||x1.showMessageNotification(`Nova mensagem de ${h.username}`,f.content.length>60?f.content.substring(0,60)+"...":f.content,{senderId:f.sender_id,senderName:h.username,senderAvatar:h.avatar_url}),window.dispatchEvent(new CustomEvent("new-message",{detail:{senderId:f.sender_id,senderName:h.username,messageContent:f.content,senderAvatar:h.avatar_url,isRead:!!f.read_at}})))})())});return c.subscribe(u=>{console.log("Messages channel subscription status:",u),u==="SUBSCRIBED"?(console.log(" Messages channel successfully subscribed"),n.current=c,o.current=!1):u==="CLOSED"?(console.log(" Messages channel subscription closed"),n.current===c&&(n.current=null),o.current=!1):u==="CHANNEL_ERROR"&&(console.log(" Messages channel subscription error"),n.current===c&&(n.current=null),o.current=!1)}),()=>{if(console.log(" Cleaning up messages channel:",l),o.current=!1,n.current===c){try{L.removeChannel(c)}catch(u){console.warn("Error removing channel:",u)}n.current=null}}},[e==null?void 0:e.id,t,r]),{}},LP=()=>{const{getChatUsers:e,getConversation:t,getTotalUnreadCount:r}=EW(),{sendMessage:n,clearConversation:s,deleteMessage:o,editMessage:a}=DW();qW();const{data:l=[],isLoading:c}=e();return{chatUsers:l,isLoadingChatUsers:c,getTotalUnreadCount:()=>r(l),getConversation:t,sendMessage:n,clearConversation:s,deleteMessage:o,editMessage:a}};function Tr({className:e,...t}){return i.jsx("div",{className:U("animate-pulse rounded-md bg-muted",e),...t})}const HW=({isOpen:e,onOpenChange:t,recipientId:r,recipientName:n,recipientAvatar:s})=>{const{user:o}=Ne(),{toast:a}=pt(),[l,c]=m.useState("");m.useState(!1);const{getConversation:u,sendMessage:f,clearConversation:d}=LP(),{data:h={messages:[],totalCount:0,hasMore:!1},isLoading:p,refetch:g}=u(r,1,50,""),v=h.messages||[];m.useEffect(()=>{e&&g()},[e,g]);const w=async x=>{if(x.preventDefault(),!l.trim()||!o)return;const b=l.trim();c("");try{await new Promise((_,S)=>{f.mutate({recipientId:r,content:b},{onSuccess:()=>{g(),_()},onError:j=>{a({title:"Erro",description:"No foi possvel enviar a mensagem",variant:"destructive"}),S(j)}})})}catch(_){console.error("Error sending message:",_)}},y=()=>{o&&d.mutate(r,{onSuccess:()=>{g(),a({title:"Conversa limpa",description:"Todas as mensagens foram removidas."})},onError:()=>{a({title:"Erro",description:"No foi possvel limpar a conversa",variant:"destructive"})}})};return i.jsx(Os,{open:e,onOpenChange:t,children:i.jsxs(Xn,{className:"w-[95vw] max-w-md h-[80vh] max-h-[600px] p-0 gap-0 flex flex-col",children:[i.jsx(Jn,{className:"border-b p-4 shrink-0",children:i.jsxs(es,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(tn,{className:"h-8 w-8",children:s?i.jsx(rn,{src:s,alt:n}):i.jsx(nn,{children:n.charAt(0).toUpperCase()})}),i.jsx("span",{className:"font-medium truncate",children:n})]}),i.jsxs(DP,{children:[i.jsx(OP,{asChild:!0,children:i.jsx(Q,{variant:"ghost",size:"icon",children:i.jsx(_j,{className:"h-4 w-4"})})}),i.jsx(t0,{align:"end",children:i.jsxs(ah,{onClick:y,children:[i.jsx(ba,{className:"h-4 w-4 mr-2"}),"Limpar conversa"]})})]})]})}),i.jsx($2,{className:"flex-1 p-4",children:p?i.jsx("div",{className:"space-y-4",children:[1,2,3].map(x=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Tr,{className:"h-8 w-8 rounded-full"}),i.jsx(Tr,{className:"h-16 w-full max-w-xs rounded-lg"})]},x))}):v.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-center",children:i.jsxs("div",{className:"text-muted-foreground",children:[i.jsx("p",{className:"text-sm",children:"Nenhuma mensagem ainda."}),i.jsx("p",{className:"text-xs mt-1",children:"Seja o primeiro a enviar uma mensagem!"})]})}):i.jsx("div",{className:"space-y-4",children:v.map(x=>{const b=x.sender_id===(o==null?void 0:o.id);return i.jsxs("div",{className:`flex gap-2 ${b?"justify-end":"justify-start"}`,children:[!b&&i.jsx(tn,{className:"h-6 w-6 mt-1",children:s?i.jsx(rn,{src:s,alt:n}):i.jsx(nn,{className:"text-xs",children:n.charAt(0).toUpperCase()})}),i.jsxs("div",{className:`max-w-[70%] rounded-lg px-3 py-2 ${b?"bg-primary text-primary-foreground":"bg-muted"}`,children:[i.jsx("p",{className:"text-sm break-words",children:x.content}),i.jsx("p",{className:`text-xs mt-1 ${b?"text-primary-foreground/70":"text-muted-foreground"}`,children:new Date(x.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]},x.id)})})}),i.jsx("div",{className:"border-t p-4 shrink-0",children:i.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[i.jsx(Ae,{value:l,onChange:x=>c(x.target.value),placeholder:"Digite sua mensagem...",className:"flex-1",disabled:f.isPending}),i.jsx(Q,{type:"submit",size:"icon",disabled:!l.trim()||f.isPending,children:i.jsx(kj,{className:"h-4 w-4"})})]})})]})})};var r0="Tabs",[KW,CK]=jr(r0,[Sl]),$P=Sl(),[GW,n0]=KW(r0),FP=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=xl(l),[d,h]=bn({prop:n,onChange:s,defaultProp:o});return i.jsx(GW,{scope:r,baseId:Gr(),value:d,onValueChange:h,orientation:a,dir:f,activationMode:c,children:i.jsx(ie.div,{dir:f,"data-orientation":a,...u,ref:t})})});FP.displayName=r0;var zP="TabsList",UP=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=n0(zP,r),a=$P(r);return i.jsx(ux,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:n,children:i.jsx(ie.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});UP.displayName=zP;var BP="TabsTrigger",VP=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,a=n0(BP,r),l=$P(r),c=HP(a.baseId,n),u=KP(a.baseId,n),f=n===a.value;return i.jsx(dx,{asChild:!0,...l,focusable:!s,active:f,children:i.jsx(ie.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:V(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?a.onValueChange(n):d.preventDefault()}),onKeyDown:V(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(n)}),onFocus:V(e.onFocus,()=>{const d=a.activationMode!=="manual";!f&&!s&&d&&a.onValueChange(n)})})})});VP.displayName=BP;var WP="TabsContent",qP=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...a}=e,l=n0(WP,r),c=HP(l.baseId,n),u=KP(l.baseId,n),f=n===l.value,d=m.useRef(f);return m.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Dt,{present:s||f,children:({present:h})=>i.jsx(ie.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&o})})});qP.displayName=WP;function HP(e,t){return`${e}-trigger-${t}`}function KP(e,t){return`${e}-content-${t}`}var YW=FP,GP=UP,YP=VP,QP=qP;const s0=YW,hm=m.forwardRef(({className:e,...t},r)=>i.jsx(GP,{ref:r,className:U("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));hm.displayName=GP.displayName;const Kn=m.forwardRef(({className:e,...t},r)=>i.jsx(YP,{ref:r,className:U("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Kn.displayName=YP.displayName;const Gn=m.forwardRef(({className:e,...t},r)=>i.jsx(QP,{ref:r,className:U("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gn.displayName=QP.displayName;const ZP=Bh,QW=Vh,ZW=Wh,XP=m.forwardRef(({className:e,...t},r)=>i.jsx(pl,{className:U("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));XP.displayName=pl.displayName;const XW=Oa("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),o0=m.forwardRef(({side:e="right",className:t,children:r,...n},s)=>i.jsxs(ZW,{children:[i.jsx(XP,{}),i.jsxs(gl,{ref:s,className:U(XW({side:e}),t),...n,children:[r,i.jsxs(Su,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(wu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));o0.displayName=gl.displayName;const JP=({className:e,...t})=>i.jsx("div",{className:U("flex flex-col space-y-2 text-center sm:text-left",e),...t});JP.displayName="SheetHeader";const eT=m.forwardRef(({className:e,...t},r)=>i.jsx(vl,{ref:r,className:U("text-lg font-semibold text-foreground",e),...t}));eT.displayName=vl.displayName;const JW=m.forwardRef(({className:e,...t},r)=>i.jsx(yl,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));JW.displayName=yl.displayName;const eq=({value:e,onChange:t,isSearching:r})=>i.jsxs("div",{className:"relative",children:[i.jsx(Ae,{placeholder:"Buscar usurios...",value:e,onChange:t,className:"pr-8"}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r?i.jsx(nr,{className:"h-4 w-4 animate-spin text-muted-foreground"}):i.jsx(Nf,{className:"h-4 w-4 text-muted-foreground"})})]}),tq=({id:e,username:t,avatar_url:r,onClick:n})=>i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover:bg-muted transition-colors",onClick:n,children:[i.jsx(tn,{className:"h-8 w-8",children:r?i.jsx(rn,{src:r,alt:t}):i.jsx(nn,{children:t&&t.length>0?t[0].toUpperCase():i.jsx(Aa,{className:"h-4 w-4"})})}),i.jsx("span",{className:"font-medium",children:t})]}),rq=({searchResults:e,searchQuery:t,onSelectUser:r})=>e.length===0&&t.trim().length>0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:['Nenhum usurio encontrado com "',t,'"']}):e.length===0?null:i.jsxs("div",{className:"border rounded-md shadow-sm p-2 space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Resultados da busca"}),e.map(n=>i.jsx(tq,{id:n.id,username:n.username,avatar_url:n.avatar_url,onClick:()=>r(n.id,n.username,n.avatar_url||void 0)},n.id))]}),nq=({chatUser:e,onClick:t})=>i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover:bg-muted transition-colors",onClick:t,children:[i.jsxs("div",{className:"relative",children:[i.jsx(tn,{className:"h-10 w-10",children:e.avatar_url?i.jsx(rn,{src:e.avatar_url,alt:e.username}):i.jsx(nn,{children:e.username&&e.username.length>0?e.username[0].toUpperCase():i.jsx(Aa,{className:"h-4 w-4"})})}),e.unread_count>0&&i.jsx(Zc,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0",children:e.unread_count>9?"9+":e.unread_count})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:e.username}),e.last_message&&i.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:e.last_message.content})]})]}),sq=({chatUsers:e,isLoadingChatUsers:t,searchQuery:r,openChat:n})=>t?i.jsx("div",{className:"space-y-4",children:Array(3).fill(0).map((s,o)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Tr,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Tr,{className:"h-4 w-32"}),i.jsx(Tr,{className:"h-3 w-40"})]})]},o))}):e.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.trim().length>0?`Nenhum usurio encontrado com "${r}"`:"Nenhuma conversa iniciada. Clique no nome de um usurio em qualquer publicao para iniciar uma conversa."}):i.jsx("div",{className:"space-y-4",children:e.map(s=>i.jsx(nq,{chatUser:s,onClick:()=>n(s.id,s.username,s.avatar_url||void 0)},s.id))}),w1=({openChat:e})=>{const{chatUsers:t,isLoadingChatUsers:r,getTotalUnreadCount:n}=LP(),s=n();pt();const{user:o}=Ne(),[a,l]=m.useState(""),[c,u]=m.useState(!1),[f,d]=m.useState([]),h=async v=>{if(!v.trim()||v.length<2){d([]);return}u(!0);try{const{data:w,error:y}=await L.from("profiles").select("id, username, avatar_url").ilike("username",`%${v}%`).limit(5);if(y)throw y;const x=w.filter(b=>b.id!==(o==null?void 0:o.id));d(x)}catch(w){console.error("Error searching users:",w)}finally{u(!1)}},p=v=>{const w=v.target.value;l(w),h(w)},g=(v,w,y)=>{e(v,w,y),l(""),d([])};return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Comunidade"}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs(ZP,{children:[i.jsx(QW,{asChild:!0,children:i.jsxs(Q,{variant:"outline",size:"icon",className:"relative",children:[i.jsx(_L,{className:"h-5 w-5"}),s>0&&i.jsx(Zc,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0",children:s>9?"9+":s})]})}),i.jsxs(o0,{children:[i.jsx(JP,{children:i.jsx(eT,{children:"Mensagens"})}),i.jsxs("div",{className:"mt-4 space-y-4",children:[i.jsx(eq,{value:a,onChange:p,isSearching:c}),i.jsx(rq,{searchResults:f,searchQuery:a,onSelectUser:g}),i.jsx(sq,{chatUsers:t,isLoadingChatUsers:r,searchQuery:a,openChat:e})]})]})]})})]})};function oq({isOpen:e,isDeleting:t,onOpenChange:r,onConfirm:n}){return i.jsx(Os,{open:e,onOpenChange:r,children:i.jsxs(Xn,{children:[i.jsxs(Jn,{children:[i.jsx(es,{children:"Excluir publicao?"}),i.jsx(SN,{children:"Esta ao no pode ser desfeita. A publicao ser permanentemente removida."})]}),i.jsxs(_N,{children:[i.jsx(Q,{variant:"outline",onClick:()=>r(!1),disabled:t,children:"Cancelar"}),i.jsx(Q,{variant:"destructive",onClick:n,disabled:t,children:t?i.jsxs(i.Fragment,{children:[i.jsx(nr,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):"Excluir"})]})]})})}function aq({author:e,date:t,postId:r,canEdit:n,onEdit:s,openChat:o}){const{toast:a}=pt(),{deletePost:l}=im(),[c,u]=m.useState(!1),[f,d]=m.useState(!1),h=Se(new Date(t),"d 'de' MMMM 'de' yyyy 's' HH:mm",{locale:ct}),p=async()=>{try{d(!0),await l.mutateAsync(r),a({title:"Publicao excluda",description:"A publicao foi excluda com sucesso."})}catch(v){a({title:"Erro ao excluir",description:`No foi possvel excluir a publicao: ${v.message}`,variant:"destructive"})}finally{d(!1),u(!1)}},g=()=>{if(!e||!e.id){console.error("Dados do autor incompletos:",e),a({title:"Erro",description:"No foi possvel iniciar o chat. Dados do usurio incompletos.",variant:"destructive"});return}o(e.id,e.username,e.avatar_url||void 0)};return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(tn,{className:"h-10 w-10",children:e.avatar_url?i.jsx(rn,{src:e.avatar_url,alt:e.username}):i.jsx(nn,{children:i.jsx(Aa,{className:"h-4 w-4"})})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium cursor-pointer hover:underline",onClick:g,children:e.username}),i.jsx("div",{className:"text-xs text-muted-foreground",children:h})]})]}),n&&i.jsxs(DP,{children:[i.jsx(OP,{asChild:!0,children:i.jsxs(Q,{variant:"ghost",size:"icon",children:[i.jsx(_j,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Opes"})]})}),i.jsxs(t0,{align:"end",children:[i.jsxs(ah,{onClick:s,children:[i.jsx(UL,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Editar"})]}),i.jsx(AP,{}),i.jsxs(ah,{onClick:()=>u(!0),className:"text-destructive focus:text-destructive",children:[i.jsx(ba,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Excluir"})]})]})]}),i.jsx(oq,{isOpen:c,onOpenChange:u,onConfirm:p,isDeleting:f})]})}function iq({content:e,imageUrl:t}){const r=n=>{const s=/(https?:\/\/[^\s]+)/g,o=n.split(s),a=[];for(let l=0;l<o.length;l++)l%2===0?a.push(i.jsx("span",{children:o[l]},l)):a.push(i.jsx("a",{href:o[l],target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:o[l]},l));return a};return i.jsxs("div",{className:"space-y-3",children:[e&&e.length>0&&i.jsx("div",{className:"whitespace-pre-wrap break-words",children:r(e)}),t&&i.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"block",children:i.jsx("img",{src:t,alt:"Imagem da publicao",className:"rounded-md max-h-96 w-auto object-contain",onError:n=>{n.currentTarget.src="/placeholder.svg",n.currentTarget.alt="Imagem indisponvel"}})})]})}var[mm,jK]=jr("Tooltip",[Uo]),pm=Uo(),tT="TooltipProvider",lq=700,Mv="tooltip.open",[cq,a0]=mm(tT),rT=e=>{const{__scopeTooltip:t,delayDuration:r=lq,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[a,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),i.jsx(cq,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:o})};rT.displayName=tT;var gm="Tooltip",[uq,vm]=mm(gm),nT=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:a,delayDuration:l}=e,c=a0(gm,e.__scopeTooltip),u=pm(t),[f,d]=m.useState(null),h=Gr(),p=m.useRef(0),g=a??c.disableHoverableContent,v=l??c.delayDuration,w=m.useRef(!1),[y=!1,x]=bn({prop:n,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Mv))):c.onClose(),o==null||o(C)}}),b=m.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),_=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,x(!0)},[x]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),j=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,x(!0),p.current=0},v)},[v,x]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),i.jsx(Gh,{...u,children:i.jsx(uq,{scope:t,contentId:h,open:y,stateAttribute:b,trigger:f,onTriggerChange:d,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?j():_()},[c.isOpenDelayed,j,_]),onTriggerLeave:m.useCallback(()=>{g?S():(window.clearTimeout(p.current),p.current=0)},[S,g]),onOpen:_,onClose:S,disableHoverableContent:g,children:r})})};nT.displayName=gm;var Dv="TooltipTrigger",sT=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=vm(Dv,r),o=a0(Dv,r),a=pm(r),l=m.useRef(null),c=ye(t,l,s.onTriggerChange),u=m.useRef(!1),f=m.useRef(!1),d=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),i.jsx(ju,{asChild:!0,...a,children:i.jsx(ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:V(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:V(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:V(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:V(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:V(e.onBlur,s.onClose),onClick:V(e.onClick,s.onClose)})})});sT.displayName=Dv;var dq="TooltipPortal",[NK,fq]=mm(dq,{forceMount:void 0}),sl="TooltipContent",oT=m.forwardRef((e,t)=>{const r=fq(sl,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,a=vm(sl,e.__scopeTooltip);return i.jsx(Dt,{present:n||a.open,children:a.disableHoverableContent?i.jsx(aT,{side:s,...o,ref:t}):i.jsx(hq,{side:s,...o,ref:t})})}),hq=m.forwardRef((e,t)=>{const r=vm(sl,e.__scopeTooltip),n=a0(sl,e.__scopeTooltip),s=m.useRef(null),o=ye(t,s),[a,l]=m.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:d}=n,h=m.useCallback(()=>{l(null),d(!1)},[d]),p=m.useCallback((g,v)=>{const w=g.currentTarget,y={x:g.clientX,y:g.clientY},x=vq(y,w.getBoundingClientRect()),b=yq(y,x),_=xq(v.getBoundingClientRect()),S=bq([...b,..._]);l(S),d(!0)},[d]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&f){const g=w=>p(w,f),v=w=>p(w,c);return c.addEventListener("pointerleave",g),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),f.removeEventListener("pointerleave",v)}}},[c,f,p,h]),m.useEffect(()=>{if(a){const g=v=>{const w=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),b=!wq(y,a);x?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,f,a,u,h]),i.jsx(aT,{...e,ref:o})}),[mq,pq]=mm(gm,{isInside:!1}),aT=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=e,c=vm(sl,r),u=pm(r),{onClose:f}=c;return m.useEffect(()=>(document.addEventListener(Mv,f),()=>document.removeEventListener(Mv,f)),[f]),m.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),i.jsx(Da,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:i.jsxs(Yh,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Uy,{children:n}),i.jsx(mq,{scope:r,isInside:!0,children:i.jsx(XI,{id:c.contentId,role:"tooltip",children:s||n})})]})})});oT.displayName=sl;var iT="TooltipArrow",gq=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=pm(r);return pq(iT,r).isInside?null:i.jsx(Qh,{...s,...n,ref:t})});gq.displayName=iT;function vq(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function yq(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function xq(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function wq(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o].x,c=t[o].y,u=t[a].x,f=t[a].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function bq(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),_q(t)}function _q(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Sq=rT,Cq=nT,jq=sT,lT=oT;const cT=Sq,uT=Cq,dT=jq,i0=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(lT,{ref:n,sideOffset:t,className:U("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));i0.displayName=lT.displayName;const Nq=({postId:e,reactions:t,myReaction:r,onReact:n,reactionsCount:s})=>{const[o,a]=m.useState(!1),l={like:{icon:ub,label:"Curtir",color:"text-blue-500"},heart:{icon:DL,label:"Amei",color:"text-rose-500"},laugh:{icon:YL,label:"Haha",color:"text-yellow-500"},wow:{icon:bL,label:"Uau",color:"text-purple-500"},sad:{icon:RL,label:"Triste",color:"text-gray-500"}},c=r?l[r]:null,u=p=>{n(p),a(!1)};let f="like",d=-1;Object.entries(t).forEach(([p,g])=>{g>d&&(d=g,f=p)});const h=d>0?l[f].icon:ub;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cT,{delayDuration:300,children:i.jsxs(Rx,{open:o,onOpenChange:a,children:[i.jsx(Mx,{asChild:!0,children:i.jsxs(Q,{variant:"ghost",size:"sm",className:U("flex items-center gap-1.5 text-sm",r&&(c==null?void 0:c.color)),onClick:()=>r?n(r):a(!0),children:[c?i.jsx(c.icon,{className:"h-4 w-4"}):i.jsx(h,{className:"h-4 w-4"}),i.jsx("span",{children:r?c==null?void 0:c.label:s>0?`${s}`:"Reagir"})]})}),i.jsx(nm,{className:"w-auto p-2 flex gap-1",align:"start",children:Object.entries(l).map(([p,{icon:g,label:v,color:w}])=>i.jsxs(uT,{children:[i.jsx(dT,{asChild:!0,children:i.jsx(Q,{variant:"ghost",size:"icon",className:U("rounded-full hover:scale-125 transition-transform",w),onClick:()=>u(p),children:i.jsx(g,{className:"h-5 w-5"})})}),i.jsx(i0,{children:i.jsx("p",{children:v})})]},p))})]})}),s>0&&i.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx("div",{className:"flex -space-x-1 overflow-hidden",children:Object.entries(t).map(([p,g])=>{if(g>0){const{icon:v,color:w}=l[p];return i.jsx("div",{className:U("h-4 w-4 rounded-full bg-background flex items-center justify-center",w),children:i.jsx(v,{className:"h-3 w-3"})},p)}return null})}),i.jsx("span",{children:s})]})]})};function kq({commentsCount:e,onToggleComments:t,postId:r,reactions:n,myReaction:s,onReact:o,reactionsCount:a,isLoading:l}){return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Nq,{postId:r,reactions:n,myReaction:s,onReact:o,reactionsCount:a}),i.jsxs(Q,{variant:"ghost",size:"sm",className:"flex items-center gap-1.5 text-sm",onClick:t,disabled:l,children:[i.jsx(Hy,{className:"h-4 w-4"}),i.jsx("span",{children:e>0?`${e} comentrios`:"Comentar"})]})]})}function Eq({comment:e,currentUserId:t,onDelete:r}){var s,o,a;const n=t===e.user_id;return i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx(tn,{className:"h-8 w-8",children:(s=e.profiles)!=null&&s.avatar_url?i.jsx(rn,{src:e.profiles.avatar_url}):i.jsx(nn,{children:(o=e.profiles)!=null&&o.username?e.profiles.username[0].toUpperCase():i.jsx(Aa,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"bg-muted p-2 rounded-lg relative group",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h4",{className:"font-medium text-sm",children:((a=e.profiles)==null?void 0:a.username)||"Usurio"}),n&&i.jsx(Q,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity absolute top-1 right-1",onClick:()=>r(e.id),children:i.jsx(t5,{className:"h-3 w-3"})})]}),i.jsx("p",{className:"text-sm mt-1",children:e.content})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:E6(new Date(e.created_at),{addSuffix:!0,locale:ct})})]})]})}function Pq({comments:e,isLoading:t,error:r,currentUserId:n,onDeleteComment:s}){return r?i.jsxs(Hi,{variant:"destructive",className:"mb-3",children:[i.jsx(xu,{className:"h-4 w-4"}),i.jsxs(Ki,{children:["Erro ao carregar comentrios: ",r.message]})]}):t?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(nr,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):!e||e.length===0?i.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Nenhum comentrio ainda. Seja o primeiro a comentar!"}):i.jsx(i.Fragment,{children:e.map(o=>i.jsx(Eq,{comment:o,currentUserId:n,onDelete:s},o.id))})}function Tq({user:e,isSubmitting:t,onSubmit:r}){var a,l;const[n,s]=m.useState(""),o=()=>{n.trim()&&(r(n),s(""))};return i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(tn,{className:"h-8 w-8",children:(a=e==null?void 0:e.user_metadata)!=null&&a.avatar_url?i.jsx(rn,{src:e.user_metadata.avatar_url,alt:"Avatar do usurio"}):i.jsx(nn,{children:(l=e==null?void 0:e.user_metadata)!=null&&l.username?e.user_metadata.username[0].toUpperCase():i.jsx(Aa,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1 flex gap-2",children:[i.jsx(Ae,{placeholder:"Escreva um comentrio...",value:n,onChange:c=>s(c.target.value),className:"flex-1",disabled:t}),i.jsx(Q,{size:"icon",onClick:o,disabled:t||!n.trim(),children:t?i.jsx(nr,{className:"h-4 w-4 animate-spin"}):i.jsx(kj,{className:"h-4 w-4"})})]})]})}function fT({title:e,message:t,onRetry:r}){return i.jsxs(Hi,{variant:"destructive",className:"my-4",children:[i.jsx(xu,{className:"h-4 w-4"}),e&&i.jsx(Ef,{children:e}),i.jsx(Ki,{children:t}),r&&i.jsx(Q,{variant:"outline",className:"mt-2",onClick:r,children:"Tentar novamente"})]})}function Rq({postId:e,comments:t,isLoading:r,user:n,currentUserId:s,onAddComment:o,onDeleteComment:a}){const{toast:l}=pt(),[c,u]=m.useState(!1),[f,d]=m.useState(null),h=async g=>{if(!g||g.trim()===""){l({title:"Erro",description:"O comentrio no pode estar vazio",variant:"destructive"});return}u(!0),d(null);try{await o(g)}catch(v){d(v),l({title:"Erro",description:`No foi possvel adicionar o comentrio: ${v.message}`,variant:"destructive"})}finally{u(!1)}},p=async g=>{try{await a(g),l({title:"Sucesso",description:"Comentrio excludo com sucesso!"})}catch(v){l({title:"Erro",description:`No foi possvel excluir o comentrio: ${v.message}`,variant:"destructive"})}};return f?i.jsx(fT,{title:"Erro nos comentrios",message:f.message,onRetry:()=>d(null)}):i.jsxs("div",{className:"w-full space-y-4",children:[i.jsx(Pq,{comments:t||[],isLoading:r,currentUserId:s,onDeleteComment:p,error:null}),i.jsx(Tq,{user:n,isSubmitting:c,onSubmit:h})]})}function Mq({post:e,isExpanded:t,toggleExpanded:r,onEdit:n,currentUserId:s,openChat:o}){var b,_;const{user:a}=Ne(),{getComments:l,addComment:c,deleteComment:u,toggleReaction:f}=im(),[d,h]=m.useState(!1),[p,g]=m.useState([]),v=async()=>{if(t){r();return}try{h(!0);const S=await l(e.id);g(S),r()}catch(S){console.error("Erro ao carregar comentrios:",S)}finally{h(!1)}},w=async S=>{if(a)try{await c.mutateAsync({postId:e.id,content:S});const j=await l(e.id);g(j)}catch(j){console.error("Erro ao adicionar comentrio:",j)}},y=async S=>{try{await u.mutateAsync({commentId:S,postId:e.id});const j=await l(e.id);g(j)}catch(j){throw console.error("Erro ao excluir comentrio:",j),j}},x=async S=>{try{await f.mutateAsync({postId:e.id,reactionType:S})}catch(j){console.error("Erro ao reagir:",j)}};return i.jsx(Mt,{children:i.jsxs(Lt,{className:"p-4 md:p-6 space-y-4",children:[i.jsx(aq,{author:{username:((b=e.profiles)==null?void 0:b.username)||"Usurio",avatar_url:(_=e.profiles)==null?void 0:_.avatar_url,id:e.user_id},date:e.created_at,postId:e.id,canEdit:s===e.user_id,onEdit:n,openChat:o}),i.jsx(iq,{content:e.content,imageUrl:e.image_url}),i.jsx(kq,{commentsCount:e.comments_count||0,onToggleComments:v,postId:e.id,reactions:e.reactions||{like:0,heart:0,laugh:0,wow:0,sad:0},myReaction:e.my_reaction||null,onReact:x,reactionsCount:e.reactions_count||0,isLoading:d}),t&&i.jsx(Rq,{postId:e.id,comments:p,isLoading:d,user:a,currentUserId:s,onAddComment:w,onDeleteComment:y})]})})}function Dq({imageUrl:e,onRemove:t}){return i.jsxs("div",{className:"relative mb-3 inline-block",children:[i.jsx("img",{src:e,alt:"Pr-visualizao",className:"max-h-60 rounded-md object-cover"}),i.jsx(Q,{size:"icon",variant:"destructive",className:"absolute top-2 right-2 h-6 w-6 rounded-full",onClick:t,children:i.jsx(wu,{className:"h-4 w-4"})})]})}function Oq({isEditing:e,isLoading:t,hasContent:r,hasImage:n,fileInputRef:s,onSubmit:o,onCancel:a,imagePreview:l}){return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{children:i.jsxs(Q,{size:"sm",variant:"outline",type:"button",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},children:[i.jsx(Sj,{className:"h-4 w-4 mr-2"}),l?"Trocar imagem":"Adicionar imagem"]})}),i.jsxs("div",{className:"flex gap-2",children:[e&&a&&i.jsx(Q,{size:"sm",variant:"outline",onClick:a,disabled:t,children:"Cancelar"}),i.jsx(Q,{size:"sm",onClick:o,disabled:t||!r&&!n,children:t?i.jsxs(i.Fragment,{children:[i.jsx(nr,{className:"h-4 w-4 mr-2 animate-spin"}),e?"Salvando...":"Publicando..."]}):e?"Salvar":"Publicar"})]})]})}function Aq({initialContent:e,initialImageUrl:t,isEditing:r,isSubmitting:n,isUploading:s,onSubmit:o,onCancel:a}){const{toast:l}=pt(),[c,u]=m.useState(e),[f,d]=m.useState(null),[h,p]=m.useState(t),[g,v]=m.useState(!0),w=m.useRef(null),y=C=>{var R;const N=(R=C.target.files)==null?void 0:R[0];if(!N)return;if(N.size>5*1024*1024){l({title:"Erro",description:"A imagem deve ter menos de 5MB",variant:"destructive"});return}if(!N.type.startsWith("image/")){l({title:"Erro",description:"O arquivo selecionado no  uma imagem",variant:"destructive"});return}d(N),v(!0);const k=new FileReader;k.onload=O=>{var M;p((M=O.target)==null?void 0:M.result)},k.readAsDataURL(N)},x=()=>{d(null),p(null),v(!1),w.current&&(w.current.value="")},b=async()=>{if(!c.trim()&&!f&&!(r&&g&&h)){l({title:"Erro",description:"Adicione um texto ou imagem para publicar",variant:"destructive"});return}await o({content:c.trim(),imageFile:f,keepImage:g}),r||(u(""),d(null),p(null))},_=n||s,S=!!c.trim(),j=!!f||r&&g&&!!h;return i.jsxs("div",{className:"flex-1",children:[i.jsx(Ux,{placeholder:r?"Edite sua publicao...":"No que voc est pensando?",className:"resize-none mb-3",value:c,onChange:C=>u(C.target.value)}),h&&i.jsx(Dq,{imageUrl:h,onRemove:x}),i.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",ref:w,title:"Selecione uma imagem para upload"}),i.jsx(Oq,{isEditing:r,isLoading:_,hasContent:S,hasImage:j,fileInputRef:w,onSubmit:b,onCancel:a,imagePreview:h})]})}function Iq({editingPost:e,onCancelEdit:t}){var f,d;const{user:r}=Ne();pt();const[n,s]=m.useState(!1),{createPost:o,updatePost:a,isUploading:l}=im(),c=!!e,u=async({content:h,imageFile:p,keepImage:g})=>{s(!0);try{c&&e?(await a.mutateAsync({id:e.id,content:h,imageFile:p||void 0,keepExistingImage:!p&&g}),t&&t()):await o.mutateAsync({content:h,imageFile:p||void 0})}catch(v){console.error("Erro ao salvar post:",v)}finally{s(!1)}};return i.jsx(Mt,{className:"border-border mb-6",children:i.jsx(Lt,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(tn,{className:"h-10 w-10",children:(f=r==null?void 0:r.user_metadata)!=null&&f.avatar_url?i.jsx(rn,{src:r.user_metadata.avatar_url}):i.jsx(nn,{children:(d=r==null?void 0:r.user_metadata)!=null&&d.username&&r.user_metadata.username.length>0?r.user_metadata.username[0].toUpperCase():i.jsx(Aa,{className:"h-4 w-4"})})}),i.jsx(Aq,{initialContent:(e==null?void 0:e.content)||"",initialImageUrl:(e==null?void 0:e.image_url)||null,isEditing:c,isSubmitting:n,isUploading:l,onSubmit:u,onCancel:t})]})})})}function b1({posts:e,isLoadingPosts:t,editingPost:r,onEdit:n,onCancelEdit:s,showMyPostsOnly:o=!1,currentUserId:a,openChat:l}){const{user:c}=Ne(),[u,f]=m.useState(null),d=o&&a?e.filter(p=>p.user_id===a):e,h=p=>{f(u===p?null:p)};return i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsx(Iq,{editingPost:r,onCancelEdit:s}),t?i.jsx("div",{className:"space-y-4 sm:space-y-6",children:[1,2,3].map(p=>i.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Tr,{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Tr,{className:"h-3 w-24 sm:h-4 sm:w-32"}),i.jsx(Tr,{className:"h-2 w-16 sm:h-3 sm:w-24"})]})]}),i.jsx(Tr,{className:"h-3 w-full sm:h-4"}),i.jsx(Tr,{className:"h-3 w-3/4 sm:h-4"}),i.jsx(Tr,{className:"h-32 w-full rounded-md sm:h-40"})]},p))}):d.length===0?i.jsx("div",{className:"text-center py-8 sm:py-10 text-muted-foreground",children:i.jsx("p",{className:"text-sm sm:text-base",children:o?"Voc ainda no criou nenhuma publicao.":"Nenhuma publicao encontrada na comunidade."})}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:d.map(p=>i.jsx(Mq,{post:p,isExpanded:u===p.id,toggleExpanded:()=>h(p.id),onEdit:()=>n(p),currentUserId:c==null?void 0:c.id,openChat:l},p.id))})]})}const Lq=()=>{const e=ns(),{user:t}=Ne(),{toast:r}=pt(),{posts:n,isLoadingPosts:s,postsError:o,refetchPosts:a}=im(),[l,c]=m.useState(null),[u,f]=m.useState(!1),[d,h]=m.useState({id:"",name:"",avatar:""});m.useEffect(()=>{t||(r({title:"Acesso restrito",description:"Voc precisa estar autenticado para acessar a comunidade.",variant:"destructive"}),e("/login",{replace:!0}))},[t,r,e]),m.useEffect(()=>{if(o){const y=setTimeout(()=>{t&&a()},5e3);return()=>clearTimeout(y)}},[o,a,t]),m.useEffect(()=>{const y=x=>{const{userId:b,userName:_,userAvatar:S}=x.detail;p(b,_,S)};return window.addEventListener("open-chat",y),()=>{window.removeEventListener("open-chat",y)}},[]);const p=(y,x,b)=>{if(y===(t==null?void 0:t.id)){r({title:"Operao no permitida",description:"Voc no pode iniciar um chat consigo mesmo.",variant:"destructive"});return}h({id:y,name:x,avatar:b||""}),f(!0)},g=y=>{c(y),window.scrollTo({top:0,behavior:"smooth"})},v=()=>{c(null)},w=()=>{a(),r({title:"Recarregando",description:"Tentando carregar as publicaes novamente..."})};return o&&!s?i.jsxs("div",{className:"w-full space-y-8 p-4",children:[i.jsx(w1,{openChat:p}),i.jsx(fT,{title:"Erro ao carregar publicaes",message:"No foi possvel carregar as publicaes da comunidade. Por favor, tente novamente em alguns momentos.",onRetry:w})]}):i.jsxs("div",{className:"w-full space-y-4 sm:space-y-8 p-2 sm:p-4",children:[i.jsx(w1,{openChat:p}),i.jsxs(s0,{defaultValue:"feed",className:"w-full",children:[i.jsxs(hm,{className:"mb-4 sm:mb-6 grid w-full grid-cols-2",children:[i.jsx(Kn,{value:"feed",className:"text-sm",children:"Feed da Comunidade"}),i.jsx(Kn,{value:"my-posts",className:"text-sm",children:"Minhas Publicaes"})]}),i.jsx(Gn,{value:"feed",className:"w-full",children:i.jsx(b1,{posts:n,isLoadingPosts:s,editingPost:l,onEdit:g,onCancelEdit:v,openChat:p})}),i.jsx(Gn,{value:"my-posts",className:"w-full",children:i.jsx(b1,{posts:n,isLoadingPosts:s,editingPost:l,onEdit:g,onCancelEdit:v,showMyPostsOnly:!0,currentUserId:t==null?void 0:t.id,openChat:p})})]}),i.jsx(HW,{isOpen:u,onOpenChange:f,recipientId:d.id,recipientName:d.name,recipientAvatar:d.avatar})]})},$q=({className:e,...t})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:U("animate-spin",e),...t,children:i.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),hT=[{name:"Bsico",themes:[{id:"light",name:"Claro",icon:ZL},{id:"dark",name:"Escuro",icon:cb}]},{name:"Especial",themes:[{id:"cyberpunk",name:"Cyberpunk",icon:o5},{id:"dracula",name:"Dracula",icon:ML},{id:"nord",name:"Nord",icon:LL},{id:"super-hacker",name:"Super Hacker",icon:e5}]},{name:"Cores",themes:[{id:"purple",name:"Roxo",icon:Nj},{id:"green",name:"Verde",icon:ib},{id:"ocean",name:"Oceano",icon:s5},{id:"sunset",name:"Pr do Sol",icon:XL},{id:"forest",name:"Floresta",icon:ib}]},{name:"Estilos",themes:[{id:"coffee",name:"Caf",icon:NL},{id:"pastel",name:"Pastel",icon:$L},{id:"neon",name:"Neon",icon:QL},{id:"vintage",name:"Vintage",icon:$h},{id:"midnight",name:"Meia-noite",icon:cb},{id:"royal",name:"Real",icon:EL}]}],Fq=hT.flatMap(e=>e.themes),zq=()=>{const{theme:e,setTheme:t,isUpdating:r}=W4(),{toast:n}=Bt(),[s,o]=m.useState(e),a=async l=>{var u;const c=((u=Fq.find(f=>f.id===l))==null?void 0:u.name.toLowerCase())||l;try{o(l),await t(l),n({title:"Tema alterado",description:`O tema foi alterado para ${c}.`})}catch(f){console.error("Erro ao atualizar tema:",f),n({title:"Erro",description:"No foi possvel atualizar o tema.",variant:"destructive"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Personalizao"}),i.jsx("p",{className:"text-muted-foreground",children:"Escolha o tema que melhor combina com voc."})]}),r&&i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx($q,{className:"w-6 h-6 mr-2"}),i.jsx("span",{children:"Atualizando tema..."})]}),i.jsx("div",{className:"space-y-6",children:hT.map(l=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-medium",children:l.name}),i.jsx(tm,{value:s,onValueChange:a,className:"grid grid-cols-2 md:grid-cols-3 gap-4",disabled:r,children:l.themes.map(({id:c,name:u,icon:f})=>i.jsxs(xe,{htmlFor:c,className:`flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-accent transition-colors ${s===c?"border-primary bg-accent/50":"border-input"} ${r?"opacity-50":""}`,children:[i.jsx(ko,{value:c,id:c,disabled:r}),i.jsx(f,{className:"w-5 h-5"}),i.jsx("span",{children:u})]},c))})]},l.name))})]})},Uq=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(""),[s,o]=m.useState(null),{toast:a}=Bt(),{user:l}=Ne();m.useEffect(()=>{l&&c()},[l]);const c=async()=>{var f,d;try{if(t(!0),!l)return;console.log("ProfileSettings loading profile for user ID:",l.id);const{data:h,error:p}=await L.from("profiles").select("username, avatar_url").eq("id",l.id).maybeSingle();if(p)throw console.error("Error loading profile:",p),p;if(console.log("ProfileSettings profile data loaded:",h),h)n(h.username||""),o(h.avatar_url);else{console.log("No profile found, creating one");const{error:g}=await L.from("profiles").insert({id:l.id,username:((f=l.email)==null?void 0:f.split("@")[0])||"Usurio",avatar_url:null});if(g)throw console.error("Error creating profile:",g),g;n(((d=l.email)==null?void 0:d.split("@")[0])||"Usurio")}}catch(h){console.error("Erro ao carregar perfil:",h),a({title:"Erro",description:"No foi possvel carregar as informaes do perfil.",variant:"destructive"})}finally{t(!1)}},u=async f=>{f.preventDefault(),t(!0);try{if(!l){a({title:"Erro",description:"Usurio no encontrado. Faa login novamente.",variant:"destructive"});return}const{error:d}=await L.from("profiles").upsert({id:l.id,username:r,updated_at:new Date().toISOString()});if(d)throw d;a({title:"Perfil atualizado",description:"Suas informaes foram atualizadas com sucesso."})}catch(d){console.error("Erro ao atualizar perfil:",d),a({title:"Erro",description:"No foi possvel atualizar o perfil.",variant:"destructive"})}finally{t(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Informaes do Perfil"}),i.jsx("p",{className:"text-muted-foreground",children:"Atualize suas informaes de perfil."})]}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsxs(tn,{className:"w-16 h-16 border border-border",children:[i.jsx(rn,{src:s||void 0,alt:r}),i.jsx(nn,{children:e?i.jsx(nr,{className:"h-6 w-6 animate-spin"}):i.jsx(Tj,{className:"h-6 w-6"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:r||"Usurio"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:'Altere seu avatar na aba "Avatar"'})]})]}),i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"username",children:"Nome de usurio"}),i.jsx(Ae,{id:"username",value:r,onChange:f=>n(f.target.value),required:!0,placeholder:"Seu nome de usurio",disabled:e})]}),i.jsx(Q,{type:"submit",disabled:e,children:e?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(nr,{className:"h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar alteraes"})]})]})},Bq=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(""),[s,o]=m.useState(!1),{toast:a}=Bt(),{user:l}=Ne();m.useEffect(()=>{l&&c()},[l]);const c=async()=>{var f,d;try{if(o(!0),!l)return;console.log("AvatarSettings loading avatar for user ID:",l.id);const{data:h,error:p}=await L.from("profiles").select("avatar_url, username").eq("id",l.id).maybeSingle();if(p)throw console.error("Error loading avatar:",p),p;if(console.log("AvatarSettings profile data loaded:",h),h)t(h.avatar_url||null),n(h.username||"");else{console.log("No profile found, creating one");const{error:g}=await L.from("profiles").insert({id:l.id,username:((f=l.email)==null?void 0:f.split("@")[0])||"Usurio",avatar_url:null});if(g)throw console.error("Error creating profile:",g),g;n(((d=l.email)==null?void 0:d.split("@")[0])||"Usurio"),t(null)}}catch(h){console.error("Erro ao carregar avatar:",h),a({title:"Erro",description:"No foi possvel carregar seu avatar.",variant:"destructive"})}finally{o(!1)}},u=async f=>{var d;try{if(o(!0),!l){a({title:"Erro",description:"Usurio no encontrado. Faa login novamente.",variant:"destructive"});return}if(!f.target.files||f.target.files.length===0)throw new Error("Voc precisa selecionar uma imagem para fazer upload.");const h=f.target.files[0],p=h.name.split(".").pop(),v=`${l.id}-${Math.random()}.${p}`;console.log("Uploading avatar:",v);const{data:w}=await L.storage.listBuckets();w!=null&&w.find(_=>_.name==="avatars")||await L.storage.createBucket("avatars",{public:!0});const{error:y}=await L.storage.from("avatars").upload(v,h);if(y)throw y;const{data:{publicUrl:x}}=L.storage.from("avatars").getPublicUrl(v);console.log("Avatar uploaded, public URL:",x);const{error:b}=await L.from("profiles").upsert({id:l.id,avatar_url:x,updated_at:new Date().toISOString(),username:r||((d=l.email)==null?void 0:d.split("@")[0])||"Usurio"});if(b)throw b;console.log("Profile updated with new avatar"),t(x),a({title:"Avatar atualizado",description:"Seu avatar foi atualizado com sucesso."})}catch(h){console.error("Erro ao fazer upload do avatar:",h),a({title:"Erro",description:h instanceof Error?h.message:"No foi possvel atualizar o avatar.",variant:"destructive"})}finally{o(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Avatar"}),i.jsx("p",{className:"text-muted-foreground",children:"Atualize sua foto de perfil."})]}),i.jsxs("div",{className:"flex flex-col items-center gap-6 sm:flex-row",children:[i.jsxs(tn,{className:"w-32 h-32 border border-border",children:[i.jsx(rn,{src:e||void 0,alt:r}),i.jsx(nn,{children:s?i.jsx(nr,{className:"w-10 h-10 animate-spin"}):i.jsx(Tj,{className:"w-10 h-10"})})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("p",{className:"text-center sm:text-left",children:r||"Usurio"}),i.jsx(Q,{variant:"outline",disabled:s,onClick:()=>{var f;return(f=document.getElementById("avatar-upload"))==null?void 0:f.click()},className:"w-full",children:s?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(nr,{className:"h-4 w-4 animate-spin"})," Enviando..."]}):"Alterar avatar"}),i.jsx("label",{htmlFor:"avatar-upload",className:"sr-only",children:"Upload Avatar"}),i.jsx("input",{type:"file",id:"avatar-upload",accept:"image/*",className:"hidden",onChange:u,disabled:s})]})]})]})},Vq=()=>{const{toast:e}=pt(),t=Qe(),{user:r}=Ne(),n=async()=>{if(!r)return;const d=s();try{const{data:h,error:p}=await L.from("user_sessions").select("*").eq("user_id",r.id).eq("device_info",d);if(p){console.error("Erro ao consultar sesses:",p);return}if(!h||h.length===0){const{error:g}=await L.from("user_sessions").insert({user_id:r.id,device_info:d});g&&console.error("Erro ao criar sesso:",g)}else{const{error:g}=await L.from("user_sessions").update({last_active:new Date().toISOString()}).eq("id",h[0].id);g&&console.error("Erro ao atualizar sesso:",g)}}catch(h){console.error("Erro no tratado ao registrar sesso:",h)}},s=()=>{const d=o(),h=a();return`${d} em ${h}`},o=()=>{const d=navigator.userAgent;return d.indexOf("Firefox")>-1?"Firefox":d.indexOf("Opera")>-1||d.indexOf("OPR")>-1?"Opera":d.indexOf("Trident")>-1?"Internet Explorer":d.indexOf("Edge")>-1?"Edge":d.indexOf("Chrome")>-1?"Chrome":d.indexOf("Safari")>-1?"Safari":"Navegador Desconhecido"},a=()=>{const d=navigator.userAgent;return d.indexOf("Win")>-1?"Windows":d.indexOf("Mac")>-1?"MacOS":d.indexOf("Linux")>-1?"Linux":d.indexOf("Android")>-1?"Android":d.indexOf("iOS")>-1||d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1?"iOS":"Sistema Operacional Desconhecido"},{data:l=[],isLoading:c}=Tt({queryKey:["userSessions"],queryFn:async()=>{if(!r)return[];try{await n();const d=s(),{data:h,error:p}=await L.from("user_sessions").select("*").eq("user_id",r.id).order("last_active",{ascending:!1});if(p)throw console.error("Erro ao buscar sesses:",p),p;return(h||[]).map(g=>({...g,is_current:g.device_info===d}))}catch(d){return console.error("Erro no tratado ao buscar sesses:",d),[]}},enabled:!!r}),u=Pt({mutationFn:async d=>{if(!r)throw new Error("Usurio no autenticado");if(l.find(g=>g.is_current&&g.id===d))throw new Error("Voc no pode encerrar sua sesso atual. Use a opo 'Sair' para isso.");const{error:p}=await L.from("user_sessions").delete().eq("id",d).eq("user_id",r.id);if(p)throw console.error("Erro ao encerrar sesso:",p),p;return d},onSuccess:d=>{t.invalidateQueries({queryKey:["userSessions"]}),e({title:"Sucesso",description:"Sesso encerrada com sucesso!"})},onError:d=>{e({title:"Erro",description:`No foi possvel encerrar a sesso: ${d.message}`,variant:"destructive"})}}),f=Pt({mutationFn:async()=>{if(!r)throw new Error("Usurio no autenticado");const d=s(),{error:h}=await L.from("user_sessions").delete().eq("user_id",r.id).neq("device_info",d);if(h)throw console.error("Erro ao encerrar outras sesses:",h),h;return!0},onSuccess:()=>{t.invalidateQueries({queryKey:["userSessions"]}),e({title:"Sucesso",description:"Todas as outras sesses foram encerradas com sucesso!"})},onError:d=>{e({title:"Erro",description:`No foi possvel encerrar as sesses: ${d.message}`,variant:"destructive"})}});return{sessions:l,isLoading:c,terminateSession:u,terminateAllOtherSessions:f}};function Wq(){const{sessions:e,isLoading:t,terminateSession:r,terminateAllOtherSessions:n}=Vq(),s=a=>a.toLowerCase().includes("android")||a.toLowerCase().includes("iphone")||a.toLowerCase().includes("ios")?i.jsx(GL,{className:"h-5 w-5 text-primary"}):i.jsx(kL,{className:"h-5 w-5 text-primary"}),o=a=>new Date(a).toLocaleString();return t?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(nr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold",children:["Sesses Ativas (",e.length,")"]}),e.length>1&&i.jsxs(Q,{variant:"outline",onClick:()=>n.mutate(),disabled:n.isPending,children:[n.isPending?i.jsx(nr,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(WL,{className:"h-4 w-4 mr-2"}),"Encerrar outras sesses"]})]}),i.jsxs("div",{className:"space-y-4",children:[e.map(a=>i.jsx(qq,{session:a,onTerminate:r.mutate,isTerminating:r.isPending,getDeviceIconComponent:s,formatSessionDate:o},a.id)),e.length===0&&i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Nenhuma sesso ativa encontrada."})]})]})}function qq({session:e,onTerminate:t,isTerminating:r,getDeviceIconComponent:n,formatSessionDate:s}){return i.jsx(Mt,{className:`border ${e.is_current?"border-primary/50":"border-border"}`,children:i.jsx(Lt,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex gap-3",children:[n(e.device_info),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium",children:[e.device_info,e.is_current&&i.jsx("span",{className:"ml-2 text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:"Atual"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[i.jsxs("p",{children:["ltima atividade: ",s(e.last_active)]}),i.jsxs("p",{children:["Iniciada em: ",s(e.created_at)]})]})]})]}),i.jsxs(Q,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>t(e.id),disabled:r||e.is_current,children:[i.jsx(jj,{className:"h-4 w-4 mr-1"}),"Encerrar"]})]})})})}const Hq=()=>{const{toast:e}=pt(),t=Qe(),{user:r}=Ne(),{data:n,isLoading:s}=Tt({queryKey:["twoFactorStatus"],queryFn:async()=>{if(!r)throw new Error("Usurio no autenticado");const{data:c,error:u}=await L.from("two_factor_auth").select("*").eq("user_id",r.id).maybeSingle();if(u)throw console.error("Erro ao verificar status 2FA:",u),u;if(!c){const{data:f,error:d}=await L.from("two_factor_auth").insert({user_id:r.id,enabled:!1}).select().single();if(d)throw console.error("Erro ao criar configurao 2FA:",d),d;return f}return c},enabled:!!r}),o=Pt({mutationFn:async()=>{if(!r)throw new Error("Usurio no autenticado");const c=Array.from({length:16},()=>Math.floor(Math.random()*16).toString(16)).join(""),{data:u,error:f}=await L.from("two_factor_auth").update({secret:c,enabled:!1}).eq("user_id",r.id).select().single();if(f)throw console.error("Erro ao configurar 2FA:",f),f;return u},onSuccess:c=>{t.invalidateQueries({queryKey:["twoFactorStatus"]}),e({title:"Sucesso",description:"Cdigo de verificao em duas etapas gerado com sucesso!"})},onError:c=>{e({title:"Erro",description:`No foi possvel configurar a verificao em duas etapas: ${c.message}`,variant:"destructive"})}}),a=Pt({mutationFn:async c=>{if(!r)throw new Error("Usurio no autenticado");if(!n)throw new Error("Configurao 2FA no encontrada");if(!(c.length===6&&/^\d+$/.test(c)))throw new Error("Cdigo invlido");const{data:f,error:d}=await L.from("two_factor_auth").update({enabled:!0}).eq("user_id",r.id).select().single();if(d)throw console.error("Erro ao verificar cdigo 2FA:",d),d;return f},onSuccess:()=>{t.invalidateQueries({queryKey:["twoFactorStatus"]}),e({title:"Sucesso",description:"Verificao em duas etapas ativada com sucesso!"})},onError:c=>{e({title:"Erro",description:`No foi possvel verificar o cdigo: ${c.message}`,variant:"destructive"})}}),l=Pt({mutationFn:async()=>{if(!r)throw new Error("Usurio no autenticado");const{data:c,error:u}=await L.from("two_factor_auth").update({enabled:!1,secret:null}).eq("user_id",r.id).select().single();if(u)throw console.error("Erro ao desativar 2FA:",u),u;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["twoFactorStatus"]}),e({title:"Sucesso",description:"Verificao em duas etapas desativada com sucesso!"})},onError:c=>{e({title:"Erro",description:`No foi possvel desativar a verificao em duas etapas: ${c.message}`,variant:"destructive"})}});return{twoFactorStatus:n,isLoading:s,setupTwoFactor:o,verifyTwoFactorCode:a,disableTwoFactor:l}};function Kq(){const{twoFactorStatus:e,isLoading:t,setupTwoFactor:r,verifyTwoFactorCode:n,disableTwoFactor:s}=Hq(),[o,a]=m.useState(""),[l,c]=m.useState(!1);m.useEffect(()=>{e&&a("")},[e==null?void 0:e.enabled]);const u=async()=>{c(!0),await r.mutateAsync()},f=async()=>{o.length===6&&(await n.mutateAsync(o),c(!1))},d=async()=>{await s.mutateAsync(),c(!1)};if(t)return i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(nr,{className:"h-6 w-6 animate-spin text-muted-foreground"})});const h=(e==null?void 0:e.enabled)||!1;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Verificao em duas etapas"}),h?i.jsxs("span",{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs px-2 py-1 rounded-full flex items-center",children:[i.jsx(HL,{className:"h-3 w-3 mr-1"}),"Ativada"]}):i.jsxs("span",{className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 text-xs px-2 py-1 rounded-full flex items-center",children:[i.jsx(qL,{className:"h-3 w-3 mr-1"}),"Desativada"]})]}),i.jsx(Mt,{children:i.jsx(Lt,{className:"p-6",children:i.jsx("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:h?"Sua conta est protegida":"Adicione uma camada extra de segurana"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:h?"A verificao em duas etapas est ativada para sua conta. Isso ajuda a proteger sua conta contra acessos no autorizados.":"Com a verificao em duas etapas, voc precisar informar um cdigo adicional ao fazer login, mesmo que algum descubra sua senha."}),l&&!h&&i.jsxs("div",{className:"mb-6 border rounded-md p-4 bg-muted",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(BL,{className:"h-6 w-6 text-primary"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Cdigo de verificao"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use um aplicativo autenticador para escanear o QR code"})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-40 h-40 bg-muted-foreground/20 rounded-md flex items-center justify-center",children:i.jsx(Ej,{className:"h-10 w-10 text-primary"})})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm",children:"Insira o cdigo gerado pelo seu aplicativo autenticador:"}),i.jsx("div",{className:"flex gap-2",children:i.jsx(Ae,{value:o,onChange:p=>a(p.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"text-center tracking-widest font-mono text-lg"})}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(Q,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),i.jsx(Q,{onClick:f,disabled:o.length!==6||n.isPending,children:n.isPending?i.jsxs(i.Fragment,{children:[i.jsx(nr,{className:"h-4 w-4 mr-2 animate-spin"}),"Verificando..."]}):"Verificar"})]})]})]}),h?i.jsx(Q,{variant:"destructive",onClick:d,disabled:s.isPending,children:s.isPending?i.jsxs(i.Fragment,{children:[i.jsx(nr,{className:"h-4 w-4 mr-2 animate-spin"}),"Desativando..."]}):"Desativar verificao em duas etapas"}):l?null:i.jsx(Q,{onClick:u,disabled:r.isPending,children:r.isPending?i.jsxs(i.Fragment,{children:[i.jsx(nr,{className:"h-4 w-4 mr-2 animate-spin"}),"Configurando..."]}):"Configurar verificao em duas etapas"})]})})})})]})}const Gq=()=>{const e=ns(),[t,r]=m.useState("overview"),n=({icon:s,title:o,description:a,action:l,onClick:c})=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(s,{className:"w-5 h-5 mt-1 text-primary"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:o}),i.jsx("p",{className:"text-sm text-muted-foreground",children:a})]})]}),i.jsx(Q,{variant:"outline",onClick:c,children:l})]});return i.jsx("div",{className:"space-y-6",children:i.jsxs(s0,{value:t,onValueChange:r,className:"space-y-6",children:[i.jsxs(hm,{children:[i.jsx(Kn,{value:"overview",children:"Viso Geral"}),i.jsx(Kn,{value:"sessions",children:"Sesses Ativas"}),i.jsx(Kn,{value:"2fa",children:"Verificao em Duas Etapas"})]}),i.jsxs(Gn,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Segurana"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas configuraes de segurana e privacidade."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(n,{icon:OL,title:"Senha",description:"Altere sua senha para manter sua conta segura",action:"Alterar senha",onClick:()=>e("/change-password")}),i.jsx(n,{icon:Ej,title:"Verificao em duas etapas",description:"Adicione uma camada extra de segurana  sua conta",action:"Configurar",onClick:()=>r("2fa")}),i.jsx(n,{icon:xu,title:"Sesses ativas",description:"Gerencie os dispositivos que esto conectados  sua conta",action:"Visualizar",onClick:()=>r("sessions")})]})]}),i.jsx(Gn,{value:"sessions",children:i.jsx(Wq,{})}),i.jsx(Gn,{value:"2fa",children:i.jsx(Kq,{})})]})})},Yq=()=>{const e=ns(),t=Fo(),r=()=>{var c;const a=(c=t.hash)==null?void 0:c.replace("#","");if(a&&["profile","theme","avatar","security"].includes(a))return a;const l=localStorage.getItem("settings-tab");return l&&["profile","theme","avatar","security"].includes(l)?l:"profile"},[n,s]=m.useState(r),o=a=>{s(a),localStorage.setItem("settings-tab",a),window.history.replaceState(null,"",`#${a}`)};return i.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-8 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"rounded-full","aria-label":"Voltar",children:i.jsx(wL,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Configuraes"})]}),i.jsxs(s0,{value:n,onValueChange:o,className:"w-full",children:[i.jsxs(hm,{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mb-8",children:[i.jsxs(Kn,{value:"profile",className:"flex items-center gap-2",children:[i.jsx(Aa,{className:"w-4 h-4"}),i.jsx("span",{children:"Perfil"})]}),i.jsxs(Kn,{value:"theme",className:"flex items-center gap-2",children:[i.jsx(Nj,{className:"w-4 h-4"}),i.jsx("span",{children:"Tema"})]}),i.jsxs(Kn,{value:"avatar",className:"flex items-center gap-2",children:[i.jsx(Sj,{className:"w-4 h-4"}),i.jsx("span",{children:"Avatar"})]}),i.jsxs(Kn,{value:"security",className:"flex items-center gap-2",children:[i.jsx(IL,{className:"w-4 h-4"}),i.jsx("span",{children:"Segurana"})]})]}),i.jsxs(Mt,{className:"p-6 border-border rounded-xl shadow-sm",children:[i.jsx(Gn,{value:"profile",className:"mt-0",children:i.jsx(Uq,{})}),i.jsx(Gn,{value:"theme",className:"mt-0",children:i.jsx(zq,{})}),i.jsx(Gn,{value:"avatar",className:"mt-0",children:i.jsx(Bq,{})}),i.jsx(Gn,{value:"security",className:"mt-0",children:i.jsx(Gq,{})})]})]})]})},Qq=()=>{const e=Fo();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var Zq="Separator",_1="horizontal",Xq=["horizontal","vertical"],mT=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=_1,...s}=e,o=Jq(n)?n:_1,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(ie.div,{"data-orientation":o,...l,...s,ref:t})});mT.displayName=Zq;function Jq(e){return Xq.includes(e)}var pT=mT;const l0=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(pT,{ref:s,decorative:r,orientation:t,className:U("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));l0.displayName=pT.displayName;const eH="sidebar:state",tH=60*60*24*7,rH="16rem",nH="18rem",sH="3rem",oH="b",gT=m.createContext(null);function ym(){const e=m.useContext(gT);if(!e)throw new Error("useShadcnSidebar must be used within a SidebarProvider.");return e}const c0=m.forwardRef(({defaultOpen:e,open:t,onOpenChange:r,className:n,style:s,children:o,...a},l)=>{const c=Ml(),[u,f]=m.useState(!1),d=e!==void 0?e:!c,[h,p]=m.useState(d),g=t??h,v=m.useCallback(b=>{const _=typeof b=="function"?b(g):b;r?r(_):p(_),document.cookie=`${eH}=${_}; path=/; max-age=${tH}`},[r,g]),w=m.useCallback(()=>c?f(b=>!b):v(b=>!b),[c,v,f]);m.useEffect(()=>{const b=_=>{_.key===oH&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),w())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[w]);const y=g?"expanded":"collapsed",x=m.useMemo(()=>({state:y,open:g,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:f,toggleSidebar:w}),[y,g,v,c,u,f,w]);return i.jsx(gT.Provider,{value:x,children:i.jsx(cT,{delayDuration:0,children:i.jsx("div",{style:{"--sidebar-width":rH,"--sidebar-width-icon":sH,...s},className:U("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...a,children:o})})})});c0.displayName="SidebarProvider";const vT=m.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...o},a)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:f}=ym();return r==="none"?i.jsx("div",{className:U("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...o,children:s}):l?i.jsx(ZP,{open:u,onOpenChange:f,...o,children:i.jsx(o0,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":nH},side:e,children:i.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):i.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[i.jsx("div",{className:U("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),i.jsx("div",{className:U("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:i.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});vT.displayName="Sidebar";const yT=m.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=ym();return i.jsxs(Q,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:U("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...r,children:[i.jsx(FL,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});yT.displayName="SidebarTrigger";const aH=m.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=ym();return i.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:U("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});aH.displayName="SidebarRail";const xT=m.forwardRef(({className:e,...t},r)=>i.jsx("main",{ref:r,className:U("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));xT.displayName="SidebarInset";const iH=m.forwardRef(({className:e,...t},r)=>i.jsx(Ae,{ref:r,"data-sidebar":"input",className:U("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));iH.displayName="SidebarInput";const wT=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"header",className:U("flex flex-col gap-2 p-2",e),...t}));wT.displayName="SidebarHeader";const bT=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"footer",className:U("flex flex-col gap-2 p-2",e),...t}));bT.displayName="SidebarFooter";const lH=m.forwardRef(({className:e,...t},r)=>i.jsx(l0,{ref:r,"data-sidebar":"separator",className:U("mx-2 w-auto bg-sidebar-border",e),...t}));lH.displayName="SidebarSeparator";const _T=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"content",className:U("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));_T.displayName="SidebarContent";const ST=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group",className:U("relative flex w-full min-w-0 flex-col p-2",e),...t}));ST.displayName="SidebarGroup";const cH=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?_r:"div";return i.jsx(s,{ref:n,"data-sidebar":"group-label",className:U("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});cH.displayName="SidebarGroupLabel";const uH=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?_r:"button";return i.jsx(s,{ref:n,"data-sidebar":"group-action",className:U("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});uH.displayName="SidebarGroupAction";const CT=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group-content",className:U("w-full text-sm",e),...t}));CT.displayName="SidebarGroupContent";const jT=m.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu",className:U("flex w-full min-w-0 flex-col gap-1",e),...t}));jT.displayName="SidebarMenu";const NT=m.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,"data-sidebar":"menu-item",className:U("group/menu-item relative",e),...t}));NT.displayName="SidebarMenuItem";const dH=Oa("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),kT=m.forwardRef(({asChild:e=!1,isActive:t=!0,variant:r="default",size:n="default",tooltip:s,className:o,...a},l)=>{const c=e?_r:"button",{isMobile:u,state:f}=ym(),d=i.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:U(dH({variant:r,size:n}),o),...a});return s?(typeof s=="string"&&(s={children:s}),i.jsxs(uT,{children:[i.jsx(dT,{asChild:!0,children:d}),i.jsx(i0,{side:"right",align:"center",hidden:f!=="collapsed"||u,...s})]})):d});kT.displayName="SidebarMenuButton";const fH=m.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const o=t?_r:"button";return i.jsx(o,{ref:s,"data-sidebar":"menu-action",className:U("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});fH.displayName="SidebarMenuAction";const hH=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:U("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));hH.displayName="SidebarMenuBadge";const mH=m.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return i.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:U("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&i.jsx(Tr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),i.jsx(Tr,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});mH.displayName="SidebarMenuSkeleton";const pH=m.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:U("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));pH.displayName="SidebarMenuSub";const gH=m.forwardRef(({...e},t)=>i.jsx("li",{ref:t,...e}));gH.displayName="SidebarMenuSubItem";const vH=m.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},o)=>{const a=e?_r:"a";return i.jsx(a,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:U("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});vH.displayName="SidebarMenuSubButton";function ET(){var a,l,c,u,f;const e=Fo(),t=ns(),{user:r,signOut:n}=Ne(),s=async()=>{try{await n(),t("/login")}catch(d){console.error("Erro ao fazer logout:",d)}},o=[{icon:Cj,label:"Dashboard",href:"/dashboard"},{icon:yu,label:"Transaes",href:"/transactions"},{icon:ks,label:"Metas",href:"/goals"},{icon:VL,label:"Faturadas",href:"/invoiced"},{icon:r5,label:"Despesas",href:"/expenses"},{icon:Rj,label:"Clientes",href:"/clients"},{icon:Hy,label:"Comunidade",href:"/social"},{icon:kf,label:"Configuraes",href:"/settings"}];return i.jsxs(vT,{className:"border-r bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[i.jsx(wT,{className:"border-b px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx(TL,{className:"h-5 w-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"CandleLife"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gesto Financeira"})]})]})}),i.jsx(_T,{className:"px-4 py-6",children:i.jsx(ST,{children:i.jsx(CT,{children:i.jsx(jT,{children:o.map(d=>i.jsx(NT,{children:i.jsx(kT,{asChild:!0,isActive:e.pathname===d.href,className:"w-full justify-start gap-3 px-3 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground data-[active=true]:bg-accent data-[active=true]:text-accent-foreground",children:i.jsxs(wf,{to:d.href,className:"flex items-center gap-3",children:[i.jsx(d.icon,{className:"h-4 w-4"}),d.label]})})},d.href))})})})}),i.jsx(bT,{className:"border-t px-6 py-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(tn,{className:"h-8 w-8",children:[i.jsx(rn,{src:(a=r==null?void 0:r.user_metadata)==null?void 0:a.avatar_url}),i.jsx(nn,{children:((c=(l=r==null?void 0:r.user_metadata)==null?void 0:l.name)==null?void 0:c.charAt(0))||((u=r==null?void 0:r.email)==null?void 0:u.charAt(0))})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-foreground truncate",children:((f=r==null?void 0:r.user_metadata)==null?void 0:f.name)||"Usurio"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})]}),i.jsx(l0,{}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Q,{variant:"outline",size:"sm",asChild:!0,className:"flex-1",children:i.jsxs(wf,{to:"/settings",children:[i.jsx(kf,{className:"h-3 w-3 mr-1"}),"Conta"]})}),i.jsxs(Q,{variant:"ghost",size:"sm",onClick:s,className:"flex-1",children:[i.jsx(jj,{className:"h-3 w-3 mr-1"}),"Sair"]})]})]})})]})}function yH(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const PT=G.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Dl=()=>{const e=G.useContext(PT);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};yH(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const xH=24,wH=typeof window<"u"?m.useLayoutEffect:m.useEffect;function S1(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function bH(){return u0(/^Mac/)}function _H(){return u0(/^iPhone/)}function C1(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function SH(){return u0(/^iPad/)||bH()&&navigator.maxTouchPoints>1}function TT(){return _H()||SH()}function u0(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Mp=typeof document<"u"&&window.visualViewport;function j1(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function RT(e){for(j1(e)&&(e=e.parentElement);e&&!j1(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const CH=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let wd=0,Dp;function jH(e={}){let{isDisabled:t}=e;wH(()=>{if(!t)return wd++,wd===1&&TT()&&(Dp=NH()),()=>{wd--,wd===0&&(Dp==null||Dp())}},[t])}function NH(){let e,t=0,r=d=>{e=RT(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},n=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let h=d.changedTouches[0].pageY,p=e.scrollTop,g=e.scrollHeight-e.clientHeight;g!==0&&((p<=0&&h>t||p>=g&&h<t)&&d.preventDefault(),t=h)},s=d=>{let h=d.target;Ov(h)&&h!==document.activeElement&&(d.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},o=d=>{let h=d.target;Ov(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Mp&&(Mp.height<window.innerHeight?requestAnimationFrame(()=>{N1(h)}):Mp.addEventListener("resize",()=>N1(h),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=S1(kH(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=S1(Yl(document,"touchstart",r,{passive:!1,capture:!0}),Yl(document,"touchmove",n,{passive:!1,capture:!0}),Yl(document,"touchend",s,{passive:!1,capture:!0}),Yl(document,"focus",o,!0),Yl(window,"scroll",a));return()=>{u(),f(),window.scrollTo(l,c)}}function kH(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function Yl(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function N1(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=RT(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,s=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const a=r.getBoundingClientRect().bottom+xH;o>a&&(r.scrollTop+=s-n)}e=r.parentElement}}function Ov(e){return e instanceof HTMLInputElement&&!CH.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function EH(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function PH(...e){return t=>e.forEach(r=>EH(r,t))}function MT(...e){return m.useCallback(PH(...e),e)}const DT=new WeakMap;function Ct(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([s,o])=>{if(s.startsWith("--")){e.style.setProperty(s,o);return}n[s]=e.style[s],e.style[s]=o}),!r&&DT.set(e,n)}function TH(e,t){if(!e||!(e instanceof HTMLElement))return;let r=DT.get(e);r&&(e.style[t]=r[t])}const jt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function bd(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[jt(t)?13:12]):(s=n.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[jt(t)?5:4]):null)}function RH(e){return 8*(Math.log(e+1)-2)}function Op(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function MH(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const at={DURATION:.5,EASE:[.32,.72,0,1]},OT=.4,DH=.25,OH=100,AT=8,Ko=16,Av=26,Ap="vaul-dragging";function IT(e){const t=G.useRef(e);return G.useEffect(()=>{t.current=e}),G.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function AH({defaultProp:e,onChange:t}){const r=G.useState(e),[n]=r,s=G.useRef(n),o=IT(t);return G.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}function LT({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=AH({defaultProp:t,onChange:r}),o=e!==void 0,a=o?e:n,l=IT(r),c=G.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[o,e,s,l]);return[a,c]}function IH({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:s,fadeFromIndex:o,onSnapPointChange:a,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[f,d]=LT({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,p]=G.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);G.useEffect(()=>{function C(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const g=G.useMemo(()=>f===(r==null?void 0:r[r.length-1])||null,[r,f]),v=G.useMemo(()=>r==null?void 0:r.findIndex(C=>C===f),[r,f]),w=r&&r.length>0&&(o||o===0)&&!Number.isNaN(o)&&r[o]===f||!r,y=G.useMemo(()=>{const C=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var N;return(N=r==null?void 0:r.map(k=>{const R=typeof k=="string";let O=0;if(R&&(O=parseInt(k,10)),jt(l)){const $=R?O:h?k*C.height:0;return h?l==="bottom"?C.height-$:-C.height+$:$}const M=R?O:h?k*C.width:0;return h?l==="right"?C.width-M:-C.width+M:M}))!=null?N:[]},[r,h,c]),x=G.useMemo(()=>v!==null?y==null?void 0:y[v]:null,[y,v]),b=G.useCallback(C=>{var N;const k=(N=y==null?void 0:y.findIndex(R=>R===C))!=null?N:null;a(k),Ct(n.current,{transition:`transform ${at.DURATION}s cubic-bezier(${at.EASE.join(",")})`,transform:jt(l)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`}),y&&k!==y.length-1&&k!==o&&k<o?Ct(s.current,{transition:`opacity ${at.DURATION}s cubic-bezier(${at.EASE.join(",")})`,opacity:"0"}):Ct(s.current,{transition:`opacity ${at.DURATION}s cubic-bezier(${at.EASE.join(",")})`,opacity:"1"}),d(r==null?void 0:r[Math.max(k,0)])},[n.current,r,y,o,s,d]);G.useEffect(()=>{if(f||e){var C;const N=(C=r==null?void 0:r.findIndex(k=>k===e||k===f))!=null?C:-1;y&&N!==-1&&typeof y[N]=="number"&&b(y[N])}},[f,e,r,y,b]);function _({draggedDistance:C,closeDrawer:N,velocity:k,dismissible:R}){if(o===void 0)return;const O=l==="bottom"||l==="right"?(x??0)-C:(x??0)+C,M=v===o-1,$=v===0,I=C>0;if(M&&Ct(s.current,{transition:`opacity ${at.DURATION}s cubic-bezier(${at.EASE.join(",")})`}),!u&&k>2&&!I){R?N():b(y[0]);return}if(!u&&k>2&&I&&y&&r){b(y[r.length-1]);return}const B=y==null?void 0:y.reduce((F,T)=>typeof F!="number"||typeof T!="number"?F:Math.abs(T-O)<Math.abs(F-O)?T:F),q=jt(l)?window.innerHeight:window.innerWidth;if(k>OT&&Math.abs(C)<q*.4){const F=I?1:-1;if(F>0&&g){b(y[r.length-1]);return}if($&&F<0&&R&&N(),v===null)return;b(y[v+F]);return}b(B)}function S({draggedDistance:C}){if(x===null)return;const N=l==="bottom"||l==="right"?x-C:x+C;(l==="bottom"||l==="right")&&N<y[y.length-1]||(l==="top"||l==="left")&&N>y[y.length-1]||Ct(n.current,{transform:jt(l)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})}function j(C,N){if(!r||typeof v!="number"||!y||o===void 0)return null;const k=v===o-1;if(v>=o&&N)return 0;if(k&&!N)return 1;if(!w&&!k)return null;const O=k?v+1:v-1,M=k?y[O]-y[O-1]:y[O+1]-y[O],$=C/Math.abs(M);return k?1-$:$}return{isLastSnapPoint:g,activeSnapPoint:f,shouldFade:w,getPercentageDragged:j,setActiveSnapPoint:d,activeSnapPointIndex:v,onRelease:_,onDrag:S,snapPointsOffset:y}}const LH=()=>()=>{};function $H(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:s}=Dl(),o=G.useRef(null),a=m.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Av)/window.innerWidth}G.useEffect(()=>{if(t&&r){o.current&&clearTimeout(o.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;MH(n&&!s?Op(document.body,{background:"black"}):LH,Op(c,{transformOrigin:jt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${at.DURATION}s`,transitionTimingFunction:`cubic-bezier(${at.EASE.join(",")})`}));const u=Op(c,{borderRadius:`${AT}px`,overflow:"hidden",...jt(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{a?document.body.style.background=a:document.body.style.removeProperty("background")},at.DURATION*1e3)}}},[t,r,a])}let Ql=null;function FH({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:s,noBodyStyles:o}){const[a,l]=G.useState(()=>typeof window<"u"?window.location.href:""),c=G.useRef(0),u=G.useCallback(()=>{if(C1()&&Ql===null&&e&&!o){Ql={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=h-window.innerHeight;p&&c.current>=h&&(document.body.style.top=`${-(c.current+p)}px`)}),300)}},[e]),f=G.useCallback(()=>{if(C1()&&Ql!==null&&!o){const d=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Ql),window.requestAnimationFrame(()=>{if(s&&a!==window.location.href){l(window.location.href);return}window.scrollTo(h,d)}),Ql=null}},[a]);return G.useEffect(()=>{function d(){c.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),G.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{f()},500)):f())},[e,n,a,t,r,u,f]),{restorePositionSetting:f}}function $T({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:s,snapPoints:o,shouldScaleBackground:a=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=DH,scrollLockTimeout:u=OH,dismissible:f=!0,handleOnly:d=!1,fadeFromIndex:h=o&&o.length-1,activeSnapPoint:p,setActiveSnapPoint:g,fixed:v,modal:w=!0,onClose:y,nested:x,noBodyStyles:b,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:j=!0,snapToSequentialPoint:C=!1,preventScrollRestoration:N=!1,repositionInputs:k=!0,onAnimationEnd:R,container:O,autoFocus:M=!1}){var $,I;const[B=!1,q]=LT({defaultProp:S,prop:e,onChange:ge=>{t==null||t(ge),!ge&&!x&&xt(),setTimeout(()=>{R==null||R(ge)},at.DURATION*1e3),ge&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ge||(document.body.style.pointerEvents="auto")}}),[F,T]=G.useState(!1),[D,H]=G.useState(!1),[re,he]=G.useState(!1),Oe=G.useRef(null),Ie=G.useRef(null),_t=G.useRef(null),Be=G.useRef(null),ae=G.useRef(null),ke=G.useRef(!1),Le=G.useRef(null),Me=G.useRef(0),Ee=G.useRef(!1),$e=G.useRef(0),le=G.useRef(null),Vt=G.useRef((($=le.current)==null?void 0:$.getBoundingClientRect().height)||0),is=G.useRef(((I=le.current)==null?void 0:I.getBoundingClientRect().width)||0),kn=G.useRef(0),Us=G.useCallback(ge=>{o&&ge===Z.length-1&&(Ie.current=new Date)},[]),{activeSnapPoint:E,activeSnapPointIndex:A,setActiveSnapPoint:z,onRelease:J,snapPointsOffset:Z,onDrag:Y,shouldFade:ue,getPercentageDragged:Ce}=IH({snapPoints:o,activeSnapPointProp:p,setActiveSnapPointProp:g,drawerRef:le,fadeFromIndex:h,overlayRef:Oe,onSnapPointChange:Us,direction:_,container:O,snapToSequentialPoint:C});jH({isDisabled:!B||D||!w||re||!F||!k||!j});const{restorePositionSetting:xt}=FH({isOpen:B,modal:w,nested:x,hasBeenOpened:F,preventScrollRestoration:N,noBodyStyles:b});function ot(){return(window.innerWidth-Av)/window.innerWidth}function ls(ge){var qe,Xe;!f&&!o||le.current&&!le.current.contains(ge.target)||(Vt.current=((qe=le.current)==null?void 0:qe.getBoundingClientRect().height)||0,is.current=((Xe=le.current)==null?void 0:Xe.getBoundingClientRect().width)||0,H(!0),_t.current=new Date,TT()&&window.addEventListener("touchend",()=>ke.current=!1,{once:!0}),ge.target.setPointerCapture(ge.pointerId),Me.current=jt(_)?ge.pageY:ge.pageX)}function Iu(ge,qe){var Xe,rt;let He=ge;const Fr=(Xe=window.getSelection())==null?void 0:Xe.toString(),Zt=le.current?bd(le.current,_):null,Nr=new Date;if(He.hasAttribute("data-vaul-no-drag")||He.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(Ie.current&&Nr.getTime()-Ie.current.getTime()<500)return!1;if(Zt!==null&&(_==="bottom"?Zt>0:Zt<0))return!0;if(Fr&&Fr.length>0)return!1;if(Nr.getTime()-((rt=ae.current)==null?void 0:rt.getTime())<u&&Zt===0||qe)return ae.current=Nr,!1;for(;He;){if(He.scrollHeight>He.clientHeight){if(He.scrollTop!==0)return ae.current=new Date,!1;if(He.getAttribute("role")==="dialog")return!0}He=He.parentNode}return!0}function Ol(ge){if(le.current&&D){const qe=_==="bottom"||_==="right"?1:-1,Xe=(Me.current-(jt(_)?ge.pageY:ge.pageX))*qe,rt=Xe>0,He=o&&!f&&!rt;if(He&&A===0)return;const Fr=Math.abs(Xe),Zt=document.querySelector("[data-vaul-drawer-wrapper]"),Nr=_==="bottom"||_==="top"?Vt.current:is.current;let on=Fr/Nr;const qo=Ce(Fr,rt);if(qo!==null&&(on=qo),He&&on>=1||!ke.current&&!Iu(ge.target,rt))return;if(le.current.classList.add(Ap),ke.current=!0,Ct(le.current,{transition:"none"}),Ct(Oe.current,{transition:"none"}),o&&Y({draggedDistance:Xe}),rt&&!o){const En=RH(Xe),zu=Math.min(En*-1,0)*qe;Ct(le.current,{transform:jt(_)?`translate3d(0, ${zu}px, 0)`:`translate3d(${zu}px, 0, 0)`});return}const Bs=1-on;if((ue||h&&A===h-1)&&(n==null||n(ge,on),Ct(Oe.current,{opacity:`${Bs}`,transition:"none"},!0)),Zt&&Oe.current&&a){const En=Math.min(ot()+on*(1-ot()),1),zu=8-on*8,d0=Math.max(0,14-on*14);Ct(Zt,{borderRadius:`${zu}px`,transform:jt(_)?`scale(${En}) translate3d(0, ${d0}px, 0)`:`scale(${En}) translate3d(${d0}px, 0, 0)`,transition:"none"},!0)}if(!o){const En=Fr*qe;Ct(le.current,{transform:jt(_)?`translate3d(0, ${En}px, 0)`:`translate3d(${En}px, 0, 0)`})}}}G.useEffect(()=>{var ge;function qe(){if(!le.current||!k)return;const Xe=document.activeElement;if(Ov(Xe)||Ee.current){var rt;const He=((rt=window.visualViewport)==null?void 0:rt.height)||0,Fr=window.innerHeight;let Zt=Fr-He;const Nr=le.current.getBoundingClientRect().height||0,on=Nr>Fr*.8;kn.current||(kn.current=Nr);const qo=le.current.getBoundingClientRect().top;if(Math.abs($e.current-Zt)>60&&(Ee.current=!Ee.current),o&&o.length>0&&Z&&A){const Bs=Z[A]||0;Zt+=Bs}if($e.current=Zt,Nr>He||Ee.current){const Bs=le.current.getBoundingClientRect().height;let En=Bs;Bs>He&&(En=He-(on?qo:Av)),v?le.current.style.height=`${Bs-Math.max(Zt,0)}px`:le.current.style.height=`${Math.max(En,He-qo)}px`}else le.current.style.height=`${kn.current}px`;o&&o.length>0&&!Ee.current?le.current.style.bottom="0px":le.current.style.bottom=`${Math.max(Zt,0)}px`}}return(ge=window.visualViewport)==null||ge.addEventListener("resize",qe),()=>{var Xe;return(Xe=window.visualViewport)==null?void 0:Xe.removeEventListener("resize",qe)}},[A,o,Z]);function cs(ge){$u(),y==null||y(),ge||q(!1),setTimeout(()=>{o&&z(o[0])},at.DURATION*1e3)}function Lu(){if(!le.current)return;const ge=document.querySelector("[data-vaul-drawer-wrapper]"),qe=bd(le.current,_);Ct(le.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${at.DURATION}s cubic-bezier(${at.EASE.join(",")})`}),Ct(Oe.current,{transition:`opacity ${at.DURATION}s cubic-bezier(${at.EASE.join(",")})`,opacity:"1"}),a&&qe&&qe>0&&B&&Ct(ge,{borderRadius:`${AT}px`,overflow:"hidden",...jt(_)?{transform:`scale(${ot()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ot()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${at.DURATION}s`,transitionTimingFunction:`cubic-bezier(${at.EASE.join(",")})`},!0)}function $u(){!D||!le.current||(le.current.classList.remove(Ap),ke.current=!1,H(!1),Be.current=new Date)}function xm(ge){if(!D||!le.current)return;le.current.classList.remove(Ap),ke.current=!1,H(!1),Be.current=new Date;const qe=bd(le.current,_);if(!Iu(ge.target,!1)||!qe||Number.isNaN(qe)||_t.current===null)return;const Xe=Be.current.getTime()-_t.current.getTime(),rt=Me.current-(jt(_)?ge.pageY:ge.pageX),He=Math.abs(rt)/Xe;if(He>.05&&(he(!0),setTimeout(()=>{he(!1)},200)),o){J({draggedDistance:rt*(_==="bottom"||_==="right"?1:-1),closeDrawer:cs,velocity:He,dismissible:f}),s==null||s(ge,!0);return}if(_==="bottom"||_==="right"?rt>0:rt<0){Lu(),s==null||s(ge,!0);return}if(He>OT){cs(),s==null||s(ge,!1);return}var Fr;const Zt=Math.min((Fr=le.current.getBoundingClientRect().height)!=null?Fr:0,window.innerHeight);var Nr;const on=Math.min((Nr=le.current.getBoundingClientRect().width)!=null?Nr:0,window.innerWidth),qo=_==="left"||_==="right";if(Math.abs(qe)>=(qo?on:Zt)*c){cs(),s==null||s(ge,!1);return}s==null||s(ge,!0),Lu()}G.useEffect(()=>(B&&(Ct(document.documentElement,{scrollBehavior:"auto"}),Ie.current=new Date),()=>{TH(document.documentElement,"scrollBehavior")}),[B]);function Fu(ge){const qe=ge?(window.innerWidth-Ko)/window.innerWidth:1,Xe=ge?-Ko:0;Le.current&&window.clearTimeout(Le.current),Ct(le.current,{transition:`transform ${at.DURATION}s cubic-bezier(${at.EASE.join(",")})`,transform:`scale(${qe}) translate3d(0, ${Xe}px, 0)`}),!ge&&le.current&&(Le.current=setTimeout(()=>{const rt=bd(le.current,_);Ct(le.current,{transition:"none",transform:jt(_)?`translate3d(0, ${rt}px, 0)`:`translate3d(${rt}px, 0, 0)`})},500))}function KT(ge,qe){if(qe<0)return;const Xe=(window.innerWidth-Ko)/window.innerWidth,rt=Xe+qe*(1-Xe),He=-Ko+qe*Ko;Ct(le.current,{transform:jt(_)?`scale(${rt}) translate3d(0, ${He}px, 0)`:`scale(${rt}) translate3d(${He}px, 0, 0)`,transition:"none"})}function GT(ge,qe){const Xe=jt(_)?window.innerHeight:window.innerWidth,rt=qe?(Xe-Ko)/Xe:1,He=qe?-Ko:0;qe&&Ct(le.current,{transition:`transform ${at.DURATION}s cubic-bezier(${at.EASE.join(",")})`,transform:jt(_)?`scale(${rt}) translate3d(0, ${He}px, 0)`:`scale(${rt}) translate3d(${He}px, 0, 0)`})}return G.createElement(Bh,{defaultOpen:S,onOpenChange:ge=>{!f&&!ge||(ge?T(!0):cs(!0),q(ge))},open:B},G.createElement(PT.Provider,{value:{activeSnapPoint:E,snapPoints:o,setActiveSnapPoint:z,drawerRef:le,overlayRef:Oe,onOpenChange:t,onPress:ls,onRelease:xm,onDrag:Ol,dismissible:f,handleOnly:d,isOpen:B,isDragging:D,shouldFade:ue,closeDrawer:cs,onNestedDrag:KT,onNestedOpenChange:Fu,onNestedRelease:GT,keyboardIsOpen:Ee,modal:w,snapPointsOffset:Z,direction:_,shouldScaleBackground:a,setBackgroundColorOnScale:l,noBodyStyles:b,container:O,autoFocus:M}},r))}const FT=G.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:s,shouldFade:o,isOpen:a,modal:l}=Dl(),c=MT(t,r),u=n&&n.length>0;return l?G.createElement(pl,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":a&&u?"true":"false","data-vaul-snap-points-overlay":a&&o?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});FT.displayName="Drawer.Overlay";const zT=G.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},s){const{drawerRef:o,onPress:a,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:f,modal:d,isOpen:h,direction:p,snapPoints:g,container:v,handleOnly:w,autoFocus:y}=Dl(),[x,b]=G.useState(!1),_=MT(s,o),S=G.useRef(null),j=G.useRef(null),C=G.useRef(!1),N=g&&g.length>0;$H();const k=(O,M,$=0)=>{if(C.current)return!0;const I=Math.abs(O.y),B=Math.abs(O.x),q=B>I,F=["bottom","right"].includes(M)?1:-1;if(M==="left"||M==="right"){if(!(O.x*F<0)&&B>=0&&B<=$)return q}else if(!(O.y*F<0)&&I>=0&&I<=$)return!q;return C.current=!0,!0};G.useEffect(()=>{N&&window.requestAnimationFrame(()=>{b(!0)})},[]);function R(O){S.current=null,C.current=!1,l(O)}return G.createElement(gl,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":x?"true":"false","data-vaul-snap-points":h&&N?"true":"false","data-vaul-custom-container":v?"true":"false",...n,ref:_,style:f&&f.length>0?{"--snap-point-height":`${f[0]}px`,...t}:t,onPointerDown:O=>{w||(n.onPointerDown==null||n.onPointerDown.call(n,O),S.current={x:O.pageX,y:O.pageY},a(O))},onOpenAutoFocus:O=>{r==null||r(O),y||O.preventDefault()},onPointerDownOutside:O=>{if(e==null||e(O),!d||O.defaultPrevented){O.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:O=>{if(!d){O.preventDefault();return}},onPointerMove:O=>{if(j.current=O,w||(n.onPointerMove==null||n.onPointerMove.call(n,O),!S.current))return;const M=O.pageY-S.current.y,$=O.pageX-S.current.x,I=O.pointerType==="touch"?10:2;k({x:$,y:M},p,I)?c(O):(Math.abs($)>I||Math.abs(M)>I)&&(S.current=null)},onPointerUp:O=>{n.onPointerUp==null||n.onPointerUp.call(n,O),S.current=null,C.current=!1,l(O)},onPointerOut:O=>{n.onPointerOut==null||n.onPointerOut.call(n,O),R(j.current)},onContextMenu:O=>{n.onContextMenu==null||n.onContextMenu.call(n,O),R(j.current)}})});zT.displayName="Drawer.Content";const zH=250,UH=120,UT=G.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:s,isDragging:o,snapPoints:a,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:f,isOpen:d,onPress:h,onDrag:p}=Dl(),g=G.useRef(null),v=G.useRef(!1);function w(){if(v.current){b();return}window.setTimeout(()=>{y()},UH)}function y(){if(o||e||v.current){b();return}if(b(),(!a||a.length===0)&&u){s();return}if(l===a[a.length-1]&&u){s();return}const S=a.findIndex(C=>C===l);if(S===-1)return;const j=a[S+1];c(j)}function x(){g.current=window.setTimeout(()=>{v.current=!0},zH)}function b(){window.clearTimeout(g.current),v.current=!1}return G.createElement("div",{onClick:w,onPointerCancel:b,onPointerDown:_=>{f&&h(_),x()},onPointerMove:_=>{f&&p(_)},ref:n,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},G.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});UT.displayName="Drawer.Handle";function BH({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:s,onNestedRelease:o}=Dl();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return G.createElement($T,{nested:!0,onClose:()=>{s(!1)},onDrag:(a,l)=>{n(a,l),e==null||e(a,l)},onOpenChange:a=>{a&&s(a)},onRelease:o,...r})}function VH(e){const t=Dl(),{container:r=t.container,...n}=e;return G.createElement(Wh,{container:r,...n})}const as={Root:$T,NestedRoot:BH,Content:zT,Overlay:FT,Trigger:Vh,Portal:VH,Handle:UT,Close:Su,Title:vl,Description:yl},BT=({shouldScaleBackground:e=!0,...t})=>i.jsx(as.Root,{shouldScaleBackground:e,...t});BT.displayName="Drawer";const WH=as.Trigger,qH=as.Portal,VT=m.forwardRef(({className:e,...t},r)=>i.jsx(as.Overlay,{ref:r,className:U("fixed inset-0 z-50 bg-black/80",e),...t}));VT.displayName=as.Overlay.displayName;const WT=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(qH,{children:[i.jsx(VT,{}),i.jsxs(as.Content,{ref:n,className:U("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[i.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));WT.displayName="DrawerContent";const qT=({className:e,...t})=>i.jsx("div",{className:U("grid gap-1.5 p-4 text-center sm:text-left",e),...t});qT.displayName="DrawerHeader";const HT=m.forwardRef(({className:e,...t},r)=>i.jsx(as.Title,{ref:r,className:U("text-lg font-semibold leading-none tracking-tight",e),...t}));HT.displayName=as.Title.displayName;const HH=m.forwardRef(({className:e,...t},r)=>i.jsx(as.Description,{ref:r,className:U("text-sm text-muted-foreground",e),...t}));HH.displayName=as.Description.displayName;const KH=()=>{const e=Fo(),t=Ml(),[r,n]=m.useState(!1),s=[{icon:Cj,label:"Dashboard",href:"/dashboard"},{icon:yu,label:"Transaes",href:"/transactions"},{icon:ks,label:"Metas",href:"/goals"},{icon:Rj,label:"Clientes",href:"/clients"},{icon:Hy,label:"Social",href:"/social"}];return t?i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border",children:i.jsxs("nav",{className:"flex justify-around items-center py-2",children:[s.map(o=>{const a=e.pathname===o.href;return i.jsxs(wf,{to:o.href,className:U("flex flex-col items-center justify-center p-2 transition-colors min-w-[60px]",a?"text-primary":"text-muted-foreground hover:text-foreground"),children:[i.jsx(o.icon,{className:U("h-5 w-5 mb-1",a&&"text-primary")}),i.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.href)}),i.jsxs(BT,{open:r,onOpenChange:n,children:[i.jsx(WH,{asChild:!0,children:i.jsxs("button",{className:"flex flex-col items-center justify-center p-2 transition-colors min-w-[60px] text-muted-foreground hover:text-foreground",children:[i.jsx(kf,{className:"h-5 w-5 mb-1"}),i.jsx("span",{className:"text-xs font-medium",children:"Mais"})]})}),i.jsxs(WT,{children:[i.jsx(qT,{children:i.jsx(HT,{children:"Menu"})}),i.jsx("div",{className:"p-4 space-y-4",children:i.jsxs(wf,{to:"/settings",className:"flex items-center gap-3 p-3 rounded-lg hover:bg-accent transition-colors",onClick:()=>n(!1),children:[i.jsx(kf,{className:"h-5 w-5"}),i.jsx("span",{children:"Configuraes"})]})})]})]})]})}):null},GH=()=>{const e=Ml();return i.jsxs(c0,{children:[i.jsxs("div",{className:"flex h-screen w-full",children:[!e&&i.jsx(ET,{}),i.jsxs(xT,{className:"flex-1",children:[!e&&i.jsx("header",{className:"flex h-12 items-center border-b px-4",children:i.jsx(yT,{})}),i.jsx("main",{className:`flex-1 overflow-auto p-4 ${e?"pb-20":""} ${e?"":"pt-0"}`,children:i.jsx(mO,{})})]})]}),e&&i.jsx(KH,{})]})},YH=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,o]=m.useState(""),[a,l]=m.useState(!1),[c,u]=m.useState(!1),[f,d]=m.useState(!1),[h,p]=m.useState(!1),{toast:g}=pt(),v=ns(),y=(S=>({minLength:/.{8,}/.test(S),uppercase:/[A-Z]/.test(S),lowercase:/[a-z]/.test(S),number:/[0-9]/.test(S),specialChar:/[!@#$%^&*(),.?":{}|<>]/.test(S)}))(r),x=Object.values(y).every(Boolean),b=async S=>{if(S.preventDefault(),!x){g({title:"Senha fraca",description:"Por favor, atenda a todos os requisitos da senha.",variant:"destructive"});return}if(r!==s){g({title:"Erro",description:"A nova senha e a confirmao no coincidem.",variant:"destructive"});return}l(!0);try{const{data:{session:j},error:C}=await L.auth.getSession();if(C||!j)throw new Error("Sua sesso expirou. Por favor, faa login novamente.");const{error:N}=await L.auth.updateUser({password:r});if(N)throw N;g({title:"Senha alterada",description:"Sua senha foi alterada com sucesso. Por favor, faa login novamente."}),await L.auth.signOut(),v("/login")}catch(j){console.error("Erro ao alterar senha:",j),j.message.includes("session")&&v("/login"),g({title:"Erro",description:j.message,variant:"destructive"})}finally{l(!1)}},_=({isValid:S,text:j})=>i.jsxs("li",{className:"flex items-center text-sm",children:[i.jsx("span",{className:`mr-2 ${S?"text-green-500":"text-red-500"}`,children:S?"":""}),j]});return i.jsxs("div",{className:"min-h-screen flex bg-background",children:[i.jsx(ET,{}),i.jsx("main",{className:"flex-1 p-8",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Alterar Senha"}),i.jsxs(Mt,{children:[i.jsx(Ar,{children:i.jsx(Ir,{children:"Digite sua nova senha"})}),i.jsx(Lt,{children:i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"currentPassword",children:"Senha Atual"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ae,{id:"currentPassword",type:c?"text":"password",value:e,onChange:S=>t(S.target.value),required:!0}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>u(!c),children:c?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"newPassword",children:"Nova Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ae,{id:"newPassword",type:f?"text":"password",value:r,onChange:S=>n(S.target.value),required:!0}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>d(!f),children:f?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542-7z"})]})})]}),i.jsxs("ul",{className:"mt-2 space-y-1",children:[i.jsx(_,{isValid:y.minLength,text:"Mnimo de 8 caracteres"}),i.jsx(_,{isValid:y.uppercase,text:"Letra maiscula"}),i.jsx(_,{isValid:y.lowercase,text:"Letra minscula"}),i.jsx(_,{isValid:y.number,text:"Nmero"}),i.jsx(_,{isValid:y.specialChar,text:"Caractere especial"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ae,{id:"confirmPassword",type:h?"text":"password",value:s,onChange:S=>o(S.target.value),required:!0}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>p(!h),children:h?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543 7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542-7z"})]})})]})]}),i.jsx(Q,{type:"submit",className:"w-full",disabled:a||!x,children:a?"Alterando...":"Alterar Senha"})]})})]})]})})]})},QH=m.createContext(void 0),ZH=({children:e})=>{const{user:t}=Ne();return i.jsx(QH.Provider,{value:{user:t},children:e})},XH=()=>{const e=ns(),{user:t}=Ne(),{toast:r}=pt();return m.useEffect(()=>{t||(r({title:"Acesso restrito",description:"Voc precisa estar autenticado para acessar as metas financeiras.",variant:"destructive"}),e("/login",{replace:!0}))},[t,r,e]),t?i.jsxs("div",{className:"w-full space-y-8",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Metas Financeiras"})}),i.jsx(h2,{})]}):null},JH=new aI;function eK(){return i.jsx(V4,{children:i.jsx(q4,{children:i.jsx(dI,{client:JH,children:i.jsxs(ZH,{children:[i.jsx(U5,{}),i.jsx(SO,{children:i.jsxs(gO,{children:[i.jsx(dr,{path:"/login",element:i.jsx(a3,{})}),i.jsx(dr,{path:"/change-password",element:i.jsx(YH,{})}),i.jsxs(dr,{element:i.jsx(GH,{}),children:[i.jsx(dr,{path:"/",element:i.jsx(B5,{})}),i.jsx(dr,{path:"/dashboard",element:i.jsx(yB,{})}),i.jsx(dr,{path:"/transactions",element:i.jsx(AB,{})}),i.jsx(dr,{path:"/goals",element:i.jsx(XH,{})}),i.jsx(dr,{path:"/invoiced",element:i.jsx(LB,{})}),i.jsx(dr,{path:"/expenses",element:i.jsx(zB,{})}),i.jsx(dr,{path:"/clients",element:i.jsx(WB,{})}),i.jsx(dr,{path:"/social",element:i.jsx(Lq,{})}),i.jsx(dr,{path:"/settings",element:i.jsx(Yq,{})})]}),i.jsx(dr,{path:"*",element:i.jsx(Qq,{})})]})})]})})})})}Ip.createRoot(document.getElementById("root")).render(i.jsx(G.StrictMode,{children:i.jsx(c0,{defaultOpen:!1,children:i.jsx("div",{className:"min-h-screen flex w-full",children:i.jsx(eK,{})})})}));export{IP as W};
