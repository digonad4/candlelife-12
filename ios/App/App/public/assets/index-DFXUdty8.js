var SR=Object.defineProperty;var B0=e=>{throw TypeError(e)};var CR=(e,t,r)=>t in e?SR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rr=(e,t,r)=>CR(e,typeof t!="symbol"?t+"":t,r),Lm=(e,t,r)=>t.has(e)||B0("Cannot "+r);var P=(e,t,r)=>(Lm(e,t,"read from private field"),r?r.call(e):t.get(e)),ge=(e,t,r)=>t.has(e)?B0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ae=(e,t,r,n)=>(Lm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ae=(e,t,r)=>(Lm(e,t,"access private method"),r);var Xu=(e,t,r,n)=>({set _(s){ae(e,t,s,r)},get _(){return P(e,t,n)}});function jR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var b_={exports:{}},wh={},__={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),kR=Symbol.for("react.portal"),ER=Symbol.for("react.fragment"),TR=Symbol.for("react.strict_mode"),PR=Symbol.for("react.profiler"),RR=Symbol.for("react.provider"),MR=Symbol.for("react.context"),DR=Symbol.for("react.forward_ref"),AR=Symbol.for("react.suspense"),OR=Symbol.for("react.memo"),IR=Symbol.for("react.lazy"),V0=Symbol.iterator;function LR(e){return e===null||typeof e!="object"?null:(e=V0&&e[V0]||e["@@iterator"],typeof e=="function"?e:null)}var S_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C_=Object.assign,j_={};function Tl(e,t,r){this.props=e,this.context=t,this.refs=j_,this.updater=r||S_}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N_(){}N_.prototype=Tl.prototype;function ry(e,t,r){this.props=e,this.context=t,this.refs=j_,this.updater=r||S_}var ny=ry.prototype=new N_;ny.constructor=ry;C_(ny,Tl.prototype);ny.isPureReactComponent=!0;var W0=Array.isArray,k_=Object.prototype.hasOwnProperty,sy={current:null},E_={key:!0,ref:!0,__self:!0,__source:!0};function T_(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)k_.call(t,n)&&!E_.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ju,type:e,key:a,ref:o,props:s,_owner:sy.current}}function $R(e,t){return{$$typeof:ju,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ay(e){return typeof e=="object"&&e!==null&&e.$$typeof===ju}function FR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var q0=/\/+/g;function $m(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FR(""+e.key):t.toString(36)}function Od(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ju:case kR:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+$m(o,0):n,W0(s)?(r="",e!=null&&(r=e.replace(q0,"$&/")+"/"),Od(s,t,r,"",function(u){return u})):s!=null&&(ay(s)&&(s=$R(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(q0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",W0(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+$m(a,l);o+=Od(a,t,r,c,s)}else if(c=LR(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+$m(a,l++),o+=Od(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(e,t,r){if(e==null)return e;var n=[],s=0;return Od(e,n,"","",function(a){return t.call(r,a,s++)}),n}function zR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dr={current:null},Id={transition:null},UR={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:Id,ReactCurrentOwner:sy};function P_(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Ju,forEach:function(e,t,r){Ju(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ju(e,function(){t++}),t},toArray:function(e){return Ju(e,function(t){return t})||[]},only:function(e){if(!ay(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=Tl;ze.Fragment=ER;ze.Profiler=PR;ze.PureComponent=ry;ze.StrictMode=TR;ze.Suspense=AR;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UR;ze.act=P_;ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=C_({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=sy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k_.call(t,c)&&!E_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ju,type:e.type,key:s,ref:a,props:n,_owner:o}};ze.createContext=function(e){return e={$$typeof:MR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RR,_context:e},e.Consumer=e};ze.createElement=T_;ze.createFactory=function(e){var t=T_.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:DR,render:e}};ze.isValidElement=ay;ze.lazy=function(e){return{$$typeof:IR,_payload:{_status:-1,_result:e},_init:zR}};ze.memo=function(e,t){return{$$typeof:OR,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=Id.transition;Id.transition={};try{e()}finally{Id.transition=t}};ze.unstable_act=P_;ze.useCallback=function(e,t){return dr.current.useCallback(e,t)};ze.useContext=function(e){return dr.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return dr.current.useDeferredValue(e)};ze.useEffect=function(e,t){return dr.current.useEffect(e,t)};ze.useId=function(){return dr.current.useId()};ze.useImperativeHandle=function(e,t,r){return dr.current.useImperativeHandle(e,t,r)};ze.useInsertionEffect=function(e,t){return dr.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return dr.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return dr.current.useMemo(e,t)};ze.useReducer=function(e,t,r){return dr.current.useReducer(e,t,r)};ze.useRef=function(e){return dr.current.useRef(e)};ze.useState=function(e){return dr.current.useState(e)};ze.useSyncExternalStore=function(e,t,r){return dr.current.useSyncExternalStore(e,t,r)};ze.useTransition=function(){return dr.current.useTransition()};ze.version="18.3.1";__.exports=ze;var m=__.exports;const L=w_(m),R_=jR({__proto__:null,default:L},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR=m,VR=Symbol.for("react.element"),WR=Symbol.for("react.fragment"),qR=Object.prototype.hasOwnProperty,HR=BR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KR={key:!0,ref:!0,__self:!0,__source:!0};function M_(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)qR.call(t,n)&&!KR.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:VR,type:e,key:a,ref:o,props:s,_owner:HR.current}}wh.Fragment=WR;wh.jsx=M_;wh.jsxs=M_;b_.exports=wh;var i=b_.exports,Zp={},D_={exports:{}},Vr={},A_={exports:{}},O_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,M){var H=E.length;E.push(M);e:for(;0<H;){var K=H-1>>>1,te=E[K];if(0<s(te,M))E[K]=M,E[H]=te,H=K;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var M=E[0],H=E.pop();if(H!==M){E[0]=H;e:for(var K=0,te=E.length,ne=te>>>1;K<ne;){var ye=2*(K+1)-1,He=E[ye],xe=ye+1,oe=E[xe];if(0>s(He,H))xe<te&&0>s(oe,He)?(E[K]=oe,E[xe]=H,K=xe):(E[K]=He,E[ye]=H,K=ye);else if(xe<te&&0>s(oe,H))E[K]=oe,E[xe]=H,K=xe;else break e}}return M}function s(E,M){var H=E.sortIndex-M.sortIndex;return H!==0?H:E.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=E)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(E){if(v=!1,b(E),!g)if(r(c)!==null)g=!0,V(S);else{var M=r(u);M!==null&&F(_,M.startTime-E)}}function S(E,M){g=!1,v&&(v=!1,y(N),N=-1),p=!0;var H=h;try{for(b(M),d=r(c);d!==null&&(!(d.expirationTime>M)||E&&!D());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var te=K(d.expirationTime<=M);M=e.unstable_now(),typeof te=="function"?d.callback=te:d===r(c)&&n(c),b(M)}else n(c);d=r(c)}if(d!==null)var ne=!0;else{var ye=r(u);ye!==null&&F(_,ye.startTime-M),ne=!1}return ne}finally{d=null,h=H,p=!1}}var j=!1,C=null,N=-1,k=5,R=-1;function D(){return!(e.unstable_now()-R<k)}function A(){if(C!==null){var E=e.unstable_now();R=E;var M=!0;try{M=C(!0,E)}finally{M?U():(j=!1,C=null)}}else j=!1}var U;if(typeof x=="function")U=function(){x(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=A,U=function(){W.postMessage(null)}}else U=function(){w(A,0)};function V(E){C=E,j||(j=!0,U())}function F(E,M){N=w(function(){E(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,V(S))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var H=h;h=M;try{return E()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,M){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var H=h;h=E;try{return M()}finally{h=H}},e.unstable_scheduleCallback=function(E,M,H){var K=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,E){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=H+te,E={id:f++,callback:M,priorityLevel:E,startTime:H,expirationTime:te,sortIndex:-1},H>K?(E.sortIndex=H,t(u,E),r(c)===null&&E===r(u)&&(v?(y(N),N=-1):v=!0,F(_,H-K))):(E.sortIndex=te,t(c,E),g||p||(g=!0,V(S))),E},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(E){var M=h;return function(){var H=h;h=M;try{return E.apply(this,arguments)}finally{h=H}}}})(O_);A_.exports=O_;var GR=A_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR=m,Br=GR;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I_=new Set,qc={};function Wo(e,t){ol(e,t),ol(e+"Capture",t)}function ol(e,t){for(qc[e]=t,e=0;e<t.length;e++)I_.add(t[e])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H0={},K0={};function ZR(e){return Xp.call(K0,e)?!0:Xp.call(H0,e)?!1:YR.test(e)?K0[e]=!0:(H0[e]=!0,!1)}function XR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JR(e,t,r,n){if(t===null||typeof t>"u"||XR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var oy=/[\-:]([a-z])/g;function iy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oy,iy);Kt[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oy,iy);Kt[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oy,iy);Kt[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ly(e,t,r,n){var s=Kt.hasOwnProperty(t)?Kt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JR(t,r,s,n)&&(r=null),n||s===null?ZR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qs=QR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ed=Symbol.for("react.element"),xi=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),$_=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),dy=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),F_=Symbol.for("react.offscreen"),G0=Symbol.iterator;function Jl(e){return e===null||typeof e!="object"?null:(e=G0&&e[G0]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,Fm;function pc(e){if(Fm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fm=t&&t[1]||""}return`
`+Fm+e}var zm=!1;function Um(e,t){if(!e||zm)return"";zm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{zm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pc(e):""}function eM(e){switch(e.tag){case 5:return pc(e.type);case 16:return pc("Lazy");case 13:return pc("Suspense");case 19:return pc("SuspenseList");case 0:case 2:case 15:return e=Um(e.type,!1),e;case 11:return e=Um(e.type.render,!1),e;case 1:return e=Um(e.type,!0),e;default:return""}}function rg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wi:return"Fragment";case xi:return"Portal";case Jp:return"Profiler";case cy:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $_:return(e.displayName||"Context")+".Consumer";case L_:return(e._context.displayName||"Context")+".Provider";case uy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dy:return t=e.displayName||null,t!==null?t:rg(e.type)||"Memo";case ca:t=e._payload,e=e._init;try{return rg(e(t))}catch{}}return null}function tM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rg(t);case 8:return t===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rM(e){var t=z_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function td(e){e._valueTracker||(e._valueTracker=rM(e))}function U_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=z_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function of(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ng(e,t){var r=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Q0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function B_(e,t){t=t.checked,t!=null&&ly(e,"checked",t,!1)}function sg(e,t){B_(e,t);var r=Fa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ag(e,t.type,r):t.hasOwnProperty("defaultValue")&&ag(e,t.type,Fa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Y0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ag(e,t,r){(t!=="number"||of(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var gc=Array.isArray;function Ri(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function og(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Z0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(gc(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fa(r)}}function V_(e,t){var r=Fa(t.value),n=Fa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function X0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function W_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?W_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rd,q_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nM=["Webkit","ms","Moz","O"];Object.keys(Nc).forEach(function(e){nM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nc[t]=Nc[e]})});function H_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Nc.hasOwnProperty(e)&&Nc[e]?(""+t).trim():t+"px"}function K_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=H_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var sM=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lg(e,t){if(t){if(sM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function cg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=null;function fy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dg=null,Mi=null,Di=null;function J0(e){if(e=Eu(e)){if(typeof dg!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=jh(t),dg(e.stateNode,e.type,t))}}function G_(e){Mi?Di?Di.push(e):Di=[e]:Mi=e}function Q_(){if(Mi){var e=Mi,t=Di;if(Di=Mi=null,J0(e),t)for(e=0;e<t.length;e++)J0(t[e])}}function Y_(e,t){return e(t)}function Z_(){}var Bm=!1;function X_(e,t,r){if(Bm)return e(t,r);Bm=!0;try{return Y_(e,t,r)}finally{Bm=!1,(Mi!==null||Di!==null)&&(Z_(),Q_())}}function Kc(e,t){var r=e.stateNode;if(r===null)return null;var n=jh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var fg=!1;if(Fs)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){fg=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{fg=!1}function aM(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var kc=!1,lf=null,cf=!1,hg=null,oM={onError:function(e){kc=!0,lf=e}};function iM(e,t,r,n,s,a,o,l,c){kc=!1,lf=null,aM.apply(oM,arguments)}function lM(e,t,r,n,s,a,o,l,c){if(iM.apply(this,arguments),kc){if(kc){var u=lf;kc=!1,lf=null}else throw Error(Q(198));cf||(cf=!0,hg=u)}}function qo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function J_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ew(e){if(qo(e)!==e)throw Error(Q(188))}function cM(e){var t=e.alternate;if(!t){if(t=qo(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return ew(s),e;if(a===n)return ew(s),t;a=a.sibling}throw Error(Q(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function eS(e){return e=cM(e),e!==null?tS(e):null}function tS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tS(e);if(t!==null)return t;e=e.sibling}return null}var rS=Br.unstable_scheduleCallback,tw=Br.unstable_cancelCallback,uM=Br.unstable_shouldYield,dM=Br.unstable_requestPaint,bt=Br.unstable_now,fM=Br.unstable_getCurrentPriorityLevel,hy=Br.unstable_ImmediatePriority,nS=Br.unstable_UserBlockingPriority,uf=Br.unstable_NormalPriority,hM=Br.unstable_LowPriority,sS=Br.unstable_IdlePriority,bh=null,as=null;function mM(e){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(bh,e,void 0,(e.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:vM,pM=Math.log,gM=Math.LN2;function vM(e){return e>>>=0,e===0?32:31-(pM(e)/gM|0)|0}var nd=64,sd=4194304;function vc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function df(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=vc(l):(a&=o,a!==0&&(n=vc(a)))}else o=r&~s,o!==0?n=vc(o):a!==0&&(n=vc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-En(t),s=1<<r,n|=e[r],t&=~s;return n}function yM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-En(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=yM(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function mg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aS(){var e=nd;return nd<<=1,!(nd&4194240)&&(nd=64),e}function Vm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Nu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-En(t),e[t]=r}function wM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-En(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function my(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-En(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ye=0;function oS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iS,py,lS,cS,uS,pg=!1,ad=[],Ea=null,Ta=null,Pa=null,Gc=new Map,Qc=new Map,fa=[],bM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rw(e,t){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Gc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(t.pointerId)}}function tc(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Eu(t),t!==null&&py(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _M(e,t,r,n,s){switch(t){case"focusin":return Ea=tc(Ea,e,t,r,n,s),!0;case"dragenter":return Ta=tc(Ta,e,t,r,n,s),!0;case"mouseover":return Pa=tc(Pa,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Gc.set(a,tc(Gc.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Qc.set(a,tc(Qc.get(a)||null,e,t,r,n,s)),!0}return!1}function dS(e){var t=vo(e.target);if(t!==null){var r=qo(t);if(r!==null){if(t=r.tag,t===13){if(t=J_(r),t!==null){e.blockedOn=t,uS(e.priority,function(){lS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ld(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ug=n,r.target.dispatchEvent(n),ug=null}else return t=Eu(r),t!==null&&py(t),e.blockedOn=r,!1;t.shift()}return!0}function nw(e,t,r){Ld(e)&&r.delete(t)}function SM(){pg=!1,Ea!==null&&Ld(Ea)&&(Ea=null),Ta!==null&&Ld(Ta)&&(Ta=null),Pa!==null&&Ld(Pa)&&(Pa=null),Gc.forEach(nw),Qc.forEach(nw)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,pg||(pg=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,SM)))}function Yc(e){function t(s){return rc(s,e)}if(0<ad.length){rc(ad[0],e);for(var r=1;r<ad.length;r++){var n=ad[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ea!==null&&rc(Ea,e),Ta!==null&&rc(Ta,e),Pa!==null&&rc(Pa,e),Gc.forEach(t),Qc.forEach(t),r=0;r<fa.length;r++)n=fa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fa.length&&(r=fa[0],r.blockedOn===null);)dS(r),r.blockedOn===null&&fa.shift()}var Ai=Qs.ReactCurrentBatchConfig,ff=!0;function CM(e,t,r,n){var s=Ye,a=Ai.transition;Ai.transition=null;try{Ye=1,gy(e,t,r,n)}finally{Ye=s,Ai.transition=a}}function jM(e,t,r,n){var s=Ye,a=Ai.transition;Ai.transition=null;try{Ye=4,gy(e,t,r,n)}finally{Ye=s,Ai.transition=a}}function gy(e,t,r,n){if(ff){var s=gg(e,t,r,n);if(s===null)Jm(e,t,n,hf,r),rw(e,n);else if(_M(s,e,t,r,n))n.stopPropagation();else if(rw(e,n),t&4&&-1<bM.indexOf(e)){for(;s!==null;){var a=Eu(s);if(a!==null&&iS(a),a=gg(e,t,r,n),a===null&&Jm(e,t,n,hf,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Jm(e,t,n,null,r)}}var hf=null;function gg(e,t,r,n){if(hf=null,e=fy(n),e=vo(e),e!==null)if(t=qo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=J_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hf=e,null}function fS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fM()){case hy:return 1;case nS:return 4;case uf:case hM:return 16;case sS:return 536870912;default:return 16}default:return 16}}var ja=null,vy=null,$d=null;function hS(){if($d)return $d;var e,t=vy,r=t.length,n,s="value"in ja?ja.value:ja.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return $d=s.slice(e,1<n?1-n:void 0)}function Fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function od(){return!0}function sw(){return!1}function Wr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?od:sw,this.isPropagationStopped=sw,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yy=Wr(Pl),ku=mt({},Pl,{view:0,detail:0}),NM=Wr(ku),Wm,qm,nc,_h=mt({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nc&&(nc&&e.type==="mousemove"?(Wm=e.screenX-nc.screenX,qm=e.screenY-nc.screenY):qm=Wm=0,nc=e),Wm)},movementY:function(e){return"movementY"in e?e.movementY:qm}}),aw=Wr(_h),kM=mt({},_h,{dataTransfer:0}),EM=Wr(kM),TM=mt({},ku,{relatedTarget:0}),Hm=Wr(TM),PM=mt({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),RM=Wr(PM),MM=mt({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DM=Wr(MM),AM=mt({},Pl,{data:0}),ow=Wr(AM),OM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $M(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LM[e])?!!t[e]:!1}function xy(){return $M}var FM=mt({},ku,{key:function(e){if(e.key){var t=OM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xy,charCode:function(e){return e.type==="keypress"?Fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zM=Wr(FM),UM=mt({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=Wr(UM),BM=mt({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xy}),VM=Wr(BM),WM=mt({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qM=Wr(WM),HM=mt({},_h,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KM=Wr(HM),GM=[9,13,27,32],wy=Fs&&"CompositionEvent"in window,Ec=null;Fs&&"documentMode"in document&&(Ec=document.documentMode);var QM=Fs&&"TextEvent"in window&&!Ec,mS=Fs&&(!wy||Ec&&8<Ec&&11>=Ec),lw=" ",cw=!1;function pS(e,t){switch(e){case"keyup":return GM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bi=!1;function YM(e,t){switch(e){case"compositionend":return gS(t);case"keypress":return t.which!==32?null:(cw=!0,lw);case"textInput":return e=t.data,e===lw&&cw?null:e;default:return null}}function ZM(e,t){if(bi)return e==="compositionend"||!wy&&pS(e,t)?(e=hS(),$d=vy=ja=null,bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mS&&t.locale!=="ko"?null:t.data;default:return null}}var XM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XM[e.type]:t==="textarea"}function vS(e,t,r,n){G_(n),t=mf(t,"onChange"),0<t.length&&(r=new yy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tc=null,Zc=null;function JM(e){ES(e,0)}function Sh(e){var t=Ci(e);if(U_(t))return e}function eD(e,t){if(e==="change")return t}var yS=!1;if(Fs){var Km;if(Fs){var Gm="oninput"in document;if(!Gm){var dw=document.createElement("div");dw.setAttribute("oninput","return;"),Gm=typeof dw.oninput=="function"}Km=Gm}else Km=!1;yS=Km&&(!document.documentMode||9<document.documentMode)}function fw(){Tc&&(Tc.detachEvent("onpropertychange",xS),Zc=Tc=null)}function xS(e){if(e.propertyName==="value"&&Sh(Zc)){var t=[];vS(t,Zc,e,fy(e)),X_(JM,t)}}function tD(e,t,r){e==="focusin"?(fw(),Tc=t,Zc=r,Tc.attachEvent("onpropertychange",xS)):e==="focusout"&&fw()}function rD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sh(Zc)}function nD(e,t){if(e==="click")return Sh(t)}function sD(e,t){if(e==="input"||e==="change")return Sh(t)}function aD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pn=typeof Object.is=="function"?Object.is:aD;function Xc(e,t){if(Pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Xp.call(t,s)||!Pn(e[s],t[s]))return!1}return!0}function hw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mw(e,t){var r=hw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hw(r)}}function wS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bS(){for(var e=window,t=of();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=of(e.document)}return t}function by(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oD(e){var t=bS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wS(r.ownerDocument.documentElement,r)){if(n!==null&&by(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=mw(r,a);var o=mw(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iD=Fs&&"documentMode"in document&&11>=document.documentMode,_i=null,vg=null,Pc=null,yg=!1;function pw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yg||_i==null||_i!==of(n)||(n=_i,"selectionStart"in n&&by(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pc&&Xc(Pc,n)||(Pc=n,n=mf(vg,"onSelect"),0<n.length&&(t=new yy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_i)))}function id(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Si={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},Qm={},_S={};Fs&&(_S=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function Ch(e){if(Qm[e])return Qm[e];if(!Si[e])return e;var t=Si[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _S)return Qm[e]=t[r];return e}var SS=Ch("animationend"),CS=Ch("animationiteration"),jS=Ch("animationstart"),NS=Ch("transitionend"),kS=new Map,gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ha(e,t){kS.set(e,t),Wo(t,[e])}for(var Ym=0;Ym<gw.length;Ym++){var Zm=gw[Ym],lD=Zm.toLowerCase(),cD=Zm[0].toUpperCase()+Zm.slice(1);Ha(lD,"on"+cD)}Ha(SS,"onAnimationEnd");Ha(CS,"onAnimationIteration");Ha(jS,"onAnimationStart");Ha("dblclick","onDoubleClick");Ha("focusin","onFocus");Ha("focusout","onBlur");Ha(NS,"onTransitionEnd");ol("onMouseEnter",["mouseout","mouseover"]);ol("onMouseLeave",["mouseout","mouseover"]);ol("onPointerEnter",["pointerout","pointerover"]);ol("onPointerLeave",["pointerout","pointerover"]);Wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uD=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function vw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lM(n,t,void 0,e),e.currentTarget=null}function ES(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;vw(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;vw(s,l,u),a=c}}}if(cf)throw e=hg,cf=!1,hg=null,e}function at(e,t){var r=t[Sg];r===void 0&&(r=t[Sg]=new Set);var n=e+"__bubble";r.has(n)||(TS(t,e,2,!1),r.add(n))}function Xm(e,t,r){var n=0;t&&(n|=4),TS(r,e,n,t)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[ld]){e[ld]=!0,I_.forEach(function(r){r!=="selectionchange"&&(uD.has(r)||Xm(r,!1,e),Xm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ld]||(t[ld]=!0,Xm("selectionchange",!1,t))}}function TS(e,t,r,n){switch(fS(t)){case 1:var s=CM;break;case 4:s=jM;break;default:s=gy}r=s.bind(null,t,r,e),s=void 0,!fg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Jm(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=vo(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}X_(function(){var u=a,f=fy(r),d=[];e:{var h=kS.get(e);if(h!==void 0){var p=yy,g=e;switch(e){case"keypress":if(Fd(r)===0)break e;case"keydown":case"keyup":p=zM;break;case"focusin":g="focus",p=Hm;break;case"focusout":g="blur",p=Hm;break;case"beforeblur":case"afterblur":p=Hm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=EM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VM;break;case SS:case CS:case jS:p=RM;break;case NS:p=qM;break;case"scroll":p=NM;break;case"wheel":p=KM;break;case"copy":case"cut":case"paste":p=DM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iw}var v=(t&4)!==0,w=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=Kc(x,y),_!=null&&v.push(eu(x,_,b)))),w)break;x=x.return}0<v.length&&(h=new p(h,g,null,r,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==ug&&(g=r.relatedTarget||r.fromElement)&&(vo(g)||g[zs]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?vo(g):null,g!==null&&(w=qo(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=aw,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=iw,_="onPointerLeave",y="onPointerEnter",x="pointer"),w=p==null?h:Ci(p),b=g==null?h:Ci(g),h=new v(_,x+"leave",p,r,f),h.target=w,h.relatedTarget=b,_=null,vo(f)===u&&(v=new v(y,x+"enter",g,r,f),v.target=b,v.relatedTarget=w,_=v),w=_,p&&g)t:{for(v=p,y=g,x=0,b=v;b;b=li(b))x++;for(b=0,_=y;_;_=li(_))b++;for(;0<x-b;)v=li(v),x--;for(;0<b-x;)y=li(y),b--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=li(v),y=li(y)}v=null}else v=null;p!==null&&yw(d,h,p,v,!1),g!==null&&w!==null&&yw(d,w,g,v,!0)}}e:{if(h=u?Ci(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=eD;else if(uw(h))if(yS)S=sD;else{S=rD;var j=tD}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=nD);if(S&&(S=S(e,u))){vS(d,S,r,f);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&ag(h,"number",h.value)}switch(j=u?Ci(u):window,e){case"focusin":(uw(j)||j.contentEditable==="true")&&(_i=j,vg=u,Pc=null);break;case"focusout":Pc=vg=_i=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,pw(d,r,f);break;case"selectionchange":if(iD)break;case"keydown":case"keyup":pw(d,r,f)}var C;if(wy)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else bi?pS(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(mS&&r.locale!=="ko"&&(bi||N!=="onCompositionStart"?N==="onCompositionEnd"&&bi&&(C=hS()):(ja=f,vy="value"in ja?ja.value:ja.textContent,bi=!0)),j=mf(u,N),0<j.length&&(N=new ow(N,e,null,r,f),d.push({event:N,listeners:j}),C?N.data=C:(C=gS(r),C!==null&&(N.data=C)))),(C=QM?YM(e,r):ZM(e,r))&&(u=mf(u,"onBeforeInput"),0<u.length&&(f=new ow("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=C))}ES(d,t)})}function eu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mf(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Kc(e,r),a!=null&&n.unshift(eu(e,a,s)),a=Kc(e,t),a!=null&&n.push(eu(e,a,s))),e=e.return}return n}function li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yw(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Kc(r,a),c!=null&&o.unshift(eu(r,c,l))):s||(c=Kc(r,a),c!=null&&o.push(eu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var dD=/\r\n?/g,fD=/\u0000|\uFFFD/g;function xw(e){return(typeof e=="string"?e:""+e).replace(dD,`
`).replace(fD,"")}function cd(e,t,r){if(t=xw(t),xw(e)!==t&&r)throw Error(Q(425))}function pf(){}var xg=null,wg=null;function bg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,hD=typeof clearTimeout=="function"?clearTimeout:void 0,ww=typeof Promise=="function"?Promise:void 0,mD=typeof queueMicrotask=="function"?queueMicrotask:typeof ww<"u"?function(e){return ww.resolve(null).then(e).catch(pD)}:_g;function pD(e){setTimeout(function(){throw e})}function ep(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Yc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Yc(t)}function Ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Rl,tu="__reactProps$"+Rl,zs="__reactContainer$"+Rl,Sg="__reactEvents$"+Rl,gD="__reactListeners$"+Rl,vD="__reactHandles$"+Rl;function vo(e){var t=e[Zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zs]||r[Zn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bw(e);e!==null;){if(r=e[Zn])return r;e=bw(e)}return t}e=r,r=e.parentNode}return null}function Eu(e){return e=e[Zn]||e[zs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ci(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function jh(e){return e[tu]||null}var Cg=[],ji=-1;function Ka(e){return{current:e}}function ot(e){0>ji||(e.current=Cg[ji],Cg[ji]=null,ji--)}function tt(e,t){ji++,Cg[ji]=e.current,e.current=t}var za={},tr=Ka(za),jr=Ka(!1),Ro=za;function il(e,t){var r=e.type.contextTypes;if(!r)return za;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nr(e){return e=e.childContextTypes,e!=null}function gf(){ot(jr),ot(tr)}function _w(e,t,r){if(tr.current!==za)throw Error(Q(168));tt(tr,t),tt(jr,r)}function PS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Q(108,tM(e)||"Unknown",s));return mt({},r,n)}function vf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||za,Ro=tr.current,tt(tr,e),tt(jr,jr.current),!0}function Sw(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=PS(e,t,Ro),n.__reactInternalMemoizedMergedChildContext=e,ot(jr),ot(tr),tt(tr,e)):ot(jr),tt(jr,r)}var ks=null,Nh=!1,tp=!1;function RS(e){ks===null?ks=[e]:ks.push(e)}function yD(e){Nh=!0,RS(e)}function Ga(){if(!tp&&ks!==null){tp=!0;var e=0,t=Ye;try{var r=ks;for(Ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ks=null,Nh=!1}catch(s){throw ks!==null&&(ks=ks.slice(e+1)),rS(hy,Ga),s}finally{Ye=t,tp=!1}}return null}var Ni=[],ki=0,yf=null,xf=0,Xr=[],Jr=0,Mo=null,Ts=1,Ps="";function io(e,t){Ni[ki++]=xf,Ni[ki++]=yf,yf=e,xf=t}function MS(e,t,r){Xr[Jr++]=Ts,Xr[Jr++]=Ps,Xr[Jr++]=Mo,Mo=e;var n=Ts;e=Ps;var s=32-En(n)-1;n&=~(1<<s),r+=1;var a=32-En(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ts=1<<32-En(t)+s|r<<s|n,Ps=a+e}else Ts=1<<a|r<<s|n,Ps=e}function _y(e){e.return!==null&&(io(e,1),MS(e,1,0))}function Sy(e){for(;e===yf;)yf=Ni[--ki],Ni[ki]=null,xf=Ni[--ki],Ni[ki]=null;for(;e===Mo;)Mo=Xr[--Jr],Xr[Jr]=null,Ps=Xr[--Jr],Xr[Jr]=null,Ts=Xr[--Jr],Xr[Jr]=null}var zr=null,Fr=null,lt=!1,_n=null;function DS(e,t){var r=tn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zr=e,Fr=Ra(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zr=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Mo!==null?{id:Ts,overflow:Ps}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,zr=e,Fr=null,!0):!1;default:return!1}}function jg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ng(e){if(lt){var t=Fr;if(t){var r=t;if(!Cw(e,t)){if(jg(e))throw Error(Q(418));t=Ra(r.nextSibling);var n=zr;t&&Cw(e,t)?DS(n,r):(e.flags=e.flags&-4097|2,lt=!1,zr=e)}}else{if(jg(e))throw Error(Q(418));e.flags=e.flags&-4097|2,lt=!1,zr=e}}}function jw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zr=e}function ud(e){if(e!==zr)return!1;if(!lt)return jw(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bg(e.type,e.memoizedProps)),t&&(t=Fr)){if(jg(e))throw AS(),Error(Q(418));for(;t;)DS(e,t),t=Ra(t.nextSibling)}if(jw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fr=Ra(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=zr?Ra(e.stateNode.nextSibling):null;return!0}function AS(){for(var e=Fr;e;)e=Ra(e.nextSibling)}function ll(){Fr=zr=null,lt=!1}function Cy(e){_n===null?_n=[e]:_n.push(e)}var xD=Qs.ReactCurrentBatchConfig;function sc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function dd(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nw(e){var t=e._init;return t(e._payload)}function OS(e){function t(y,x){if(e){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Oa(y,x),y.index=0,y.sibling=null,y}function a(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,_){return x===null||x.tag!==6?(x=lp(b,y.mode,_),x.return=y,x):(x=s(x,b),x.return=y,x)}function c(y,x,b,_){var S=b.type;return S===wi?f(y,x,b.props.children,_,b.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ca&&Nw(S)===x.type)?(_=s(x,b.props),_.ref=sc(y,x,b),_.return=y,_):(_=Hd(b.type,b.key,b.props,null,y.mode,_),_.ref=sc(y,x,b),_.return=y,_)}function u(y,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=cp(b,y.mode,_),x.return=y,x):(x=s(x,b.children||[]),x.return=y,x)}function f(y,x,b,_,S){return x===null||x.tag!==7?(x=To(b,y.mode,_,S),x.return=y,x):(x=s(x,b),x.return=y,x)}function d(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=lp(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ed:return b=Hd(x.type,x.key,x.props,null,y.mode,b),b.ref=sc(y,null,x),b.return=y,b;case xi:return x=cp(x,y.mode,b),x.return=y,x;case ca:var _=x._init;return d(y,_(x._payload),b)}if(gc(x)||Jl(x))return x=To(x,y.mode,b,null),x.return=y,x;dd(y,x)}return null}function h(y,x,b,_){var S=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(y,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ed:return b.key===S?c(y,x,b,_):null;case xi:return b.key===S?u(y,x,b,_):null;case ca:return S=b._init,h(y,x,S(b._payload),_)}if(gc(b)||Jl(b))return S!==null?null:f(y,x,b,_,null);dd(y,b)}return null}function p(y,x,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(x,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ed:return y=y.get(_.key===null?b:_.key)||null,c(x,y,_,S);case xi:return y=y.get(_.key===null?b:_.key)||null,u(x,y,_,S);case ca:var j=_._init;return p(y,x,b,j(_._payload),S)}if(gc(_)||Jl(_))return y=y.get(b)||null,f(x,y,_,S,null);dd(x,_)}return null}function g(y,x,b,_){for(var S=null,j=null,C=x,N=x=0,k=null;C!==null&&N<b.length;N++){C.index>N?(k=C,C=null):k=C.sibling;var R=h(y,C,b[N],_);if(R===null){C===null&&(C=k);break}e&&C&&R.alternate===null&&t(y,C),x=a(R,x,N),j===null?S=R:j.sibling=R,j=R,C=k}if(N===b.length)return r(y,C),lt&&io(y,N),S;if(C===null){for(;N<b.length;N++)C=d(y,b[N],_),C!==null&&(x=a(C,x,N),j===null?S=C:j.sibling=C,j=C);return lt&&io(y,N),S}for(C=n(y,C);N<b.length;N++)k=p(C,y,N,b[N],_),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?N:k.key),x=a(k,x,N),j===null?S=k:j.sibling=k,j=k);return e&&C.forEach(function(D){return t(y,D)}),lt&&io(y,N),S}function v(y,x,b,_){var S=Jl(b);if(typeof S!="function")throw Error(Q(150));if(b=S.call(b),b==null)throw Error(Q(151));for(var j=S=null,C=x,N=x=0,k=null,R=b.next();C!==null&&!R.done;N++,R=b.next()){C.index>N?(k=C,C=null):k=C.sibling;var D=h(y,C,R.value,_);if(D===null){C===null&&(C=k);break}e&&C&&D.alternate===null&&t(y,C),x=a(D,x,N),j===null?S=D:j.sibling=D,j=D,C=k}if(R.done)return r(y,C),lt&&io(y,N),S;if(C===null){for(;!R.done;N++,R=b.next())R=d(y,R.value,_),R!==null&&(x=a(R,x,N),j===null?S=R:j.sibling=R,j=R);return lt&&io(y,N),S}for(C=n(y,C);!R.done;N++,R=b.next())R=p(C,y,N,R.value,_),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?N:R.key),x=a(R,x,N),j===null?S=R:j.sibling=R,j=R);return e&&C.forEach(function(A){return t(y,A)}),lt&&io(y,N),S}function w(y,x,b,_){if(typeof b=="object"&&b!==null&&b.type===wi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ed:e:{for(var S=b.key,j=x;j!==null;){if(j.key===S){if(S=b.type,S===wi){if(j.tag===7){r(y,j.sibling),x=s(j,b.props.children),x.return=y,y=x;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ca&&Nw(S)===j.type){r(y,j.sibling),x=s(j,b.props),x.ref=sc(y,j,b),x.return=y,y=x;break e}r(y,j);break}else t(y,j);j=j.sibling}b.type===wi?(x=To(b.props.children,y.mode,_,b.key),x.return=y,y=x):(_=Hd(b.type,b.key,b.props,null,y.mode,_),_.ref=sc(y,x,b),_.return=y,y=_)}return o(y);case xi:e:{for(j=b.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=s(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=cp(b,y.mode,_),x.return=y,y=x}return o(y);case ca:return j=b._init,w(y,x,j(b._payload),_)}if(gc(b))return g(y,x,b,_);if(Jl(b))return v(y,x,b,_);dd(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,b),x.return=y,y=x):(r(y,x),x=lp(b,y.mode,_),x.return=y,y=x),o(y)):r(y,x)}return w}var cl=OS(!0),IS=OS(!1),wf=Ka(null),bf=null,Ei=null,jy=null;function Ny(){jy=Ei=bf=null}function ky(e){var t=wf.current;ot(wf),e._currentValue=t}function kg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oi(e,t){bf=e,jy=Ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sr=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(jy!==e)if(e={context:e,memoizedValue:t,next:null},Ei===null){if(bf===null)throw Error(Q(308));Ei=e,bf.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return t}var yo=null;function Ey(e){yo===null?yo=[e]:yo.push(e)}function LS(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ey(t)):(r.next=s.next,s.next=r),t.interleaved=r,Us(e,n)}function Us(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ua=!1;function Ty(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $S(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Us(e,r)}return s=n.interleaved,s===null?(t.next=t,Ey(n)):(t.next=s.next,s.next=t),n.interleaved=t,Us(e,r)}function zd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,my(e,r)}}function kw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _f(e,t,r,n){var s=e.updateQueue;ua=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var d=s.baseState;o=0,f=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(h=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=mt({},d,h);break e;case 2:ua=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ao|=o,e.lanes=o,e.memoizedState=d}}function Ew(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Q(191,s));s.call(n)}}}var Tu={},os=Ka(Tu),ru=Ka(Tu),nu=Ka(Tu);function xo(e){if(e===Tu)throw Error(Q(174));return e}function Py(e,t){switch(tt(nu,t),tt(ru,e),tt(os,Tu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ig(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ig(t,e)}ot(os),tt(os,t)}function ul(){ot(os),ot(ru),ot(nu)}function FS(e){xo(nu.current);var t=xo(os.current),r=ig(t,e.type);t!==r&&(tt(ru,e),tt(os,r))}function Ry(e){ru.current===e&&(ot(os),ot(ru))}var ft=Ka(0);function Sf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rp=[];function My(){for(var e=0;e<rp.length;e++)rp[e]._workInProgressVersionPrimary=null;rp.length=0}var Ud=Qs.ReactCurrentDispatcher,np=Qs.ReactCurrentBatchConfig,Do=0,ht=null,Mt=null,$t=null,Cf=!1,Rc=!1,su=0,wD=0;function Qt(){throw Error(Q(321))}function Dy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pn(e[r],t[r]))return!1;return!0}function Ay(e,t,r,n,s,a){if(Do=a,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ud.current=e===null||e.memoizedState===null?CD:jD,e=r(n,s),Rc){a=0;do{if(Rc=!1,su=0,25<=a)throw Error(Q(301));a+=1,$t=Mt=null,t.updateQueue=null,Ud.current=ND,e=r(n,s)}while(Rc)}if(Ud.current=jf,t=Mt!==null&&Mt.next!==null,Do=0,$t=Mt=ht=null,Cf=!1,t)throw Error(Q(300));return e}function Oy(){var e=su!==0;return su=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ht.memoizedState=$t=e:$t=$t.next=e,$t}function cn(){if(Mt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=$t===null?ht.memoizedState:$t.next;if(t!==null)$t=t,Mt=e;else{if(e===null)throw Error(Q(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},$t===null?ht.memoizedState=$t=e:$t=$t.next=e}return $t}function au(e,t){return typeof t=="function"?t(e):t}function sp(e){var t=cn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=Mt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var f=u.lane;if((Do&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,ht.lanes|=f,Ao|=f}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Pn(n,t.memoizedState)||(Sr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ht.lanes|=a,Ao|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ap(e){var t=cn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Pn(a,t.memoizedState)||(Sr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function zS(){}function US(e,t){var r=ht,n=cn(),s=t(),a=!Pn(n.memoizedState,s);if(a&&(n.memoizedState=s,Sr=!0),n=n.queue,Iy(WS.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,ou(9,VS.bind(null,r,n,s,t),void 0,null),Ft===null)throw Error(Q(349));Do&30||BS(r,t,s)}return s}function BS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function VS(e,t,r,n){t.value=r,t.getSnapshot=n,qS(t)&&HS(e)}function WS(e,t,r){return r(function(){qS(t)&&HS(e)})}function qS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pn(e,r)}catch{return!0}}function HS(e){var t=Us(e,1);t!==null&&Tn(t,e,1,-1)}function Tw(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:e},t.queue=e,e=e.dispatch=SD.bind(null,ht,e),[t.memoizedState,e]}function ou(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function KS(){return cn().memoizedState}function Bd(e,t,r,n){var s=Vn();ht.flags|=e,s.memoizedState=ou(1|t,r,void 0,n===void 0?null:n)}function kh(e,t,r,n){var s=cn();n=n===void 0?null:n;var a=void 0;if(Mt!==null){var o=Mt.memoizedState;if(a=o.destroy,n!==null&&Dy(n,o.deps)){s.memoizedState=ou(t,r,a,n);return}}ht.flags|=e,s.memoizedState=ou(1|t,r,a,n)}function Pw(e,t){return Bd(8390656,8,e,t)}function Iy(e,t){return kh(2048,8,e,t)}function GS(e,t){return kh(4,2,e,t)}function QS(e,t){return kh(4,4,e,t)}function YS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZS(e,t,r){return r=r!=null?r.concat([e]):null,kh(4,4,YS.bind(null,t,e),r)}function Ly(){}function XS(e,t){var r=cn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function JS(e,t){var r=cn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function eC(e,t,r){return Do&21?(Pn(r,t)||(r=aS(),ht.lanes|=r,Ao|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sr=!0),e.memoizedState=r)}function bD(e,t){var r=Ye;Ye=r!==0&&4>r?r:4,e(!0);var n=np.transition;np.transition={};try{e(!1),t()}finally{Ye=r,np.transition=n}}function tC(){return cn().memoizedState}function _D(e,t,r){var n=Aa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rC(e))nC(t,r);else if(r=LS(e,t,r,n),r!==null){var s=cr();Tn(r,e,n,s),sC(r,t,n)}}function SD(e,t,r){var n=Aa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rC(e))nC(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Pn(l,o)){var c=t.interleaved;c===null?(s.next=s,Ey(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=LS(e,t,s,n),r!==null&&(s=cr(),Tn(r,e,n,s),sC(r,t,n))}}function rC(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function nC(e,t){Rc=Cf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,my(e,r)}}var jf={readContext:ln,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},CD={readContext:ln,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:Pw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bd(4194308,4,YS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bd(4,2,e,t)},useMemo:function(e,t){var r=Vn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_D.bind(null,ht,e),[n.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:Tw,useDebugValue:Ly,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=Tw(!1),t=e[0];return e=bD.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ht,s=Vn();if(lt){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),Ft===null)throw Error(Q(349));Do&30||BS(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Pw(WS.bind(null,n,a,e),[e]),n.flags|=2048,ou(9,VS.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Vn(),t=Ft.identifierPrefix;if(lt){var r=Ps,n=Ts;r=(n&~(1<<32-En(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=su++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wD++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jD={readContext:ln,useCallback:XS,useContext:ln,useEffect:Iy,useImperativeHandle:ZS,useInsertionEffect:GS,useLayoutEffect:QS,useMemo:JS,useReducer:sp,useRef:KS,useState:function(){return sp(au)},useDebugValue:Ly,useDeferredValue:function(e){var t=cn();return eC(t,Mt.memoizedState,e)},useTransition:function(){var e=sp(au)[0],t=cn().memoizedState;return[e,t]},useMutableSource:zS,useSyncExternalStore:US,useId:tC,unstable_isNewReconciler:!1},ND={readContext:ln,useCallback:XS,useContext:ln,useEffect:Iy,useImperativeHandle:ZS,useInsertionEffect:GS,useLayoutEffect:QS,useMemo:JS,useReducer:ap,useRef:KS,useState:function(){return ap(au)},useDebugValue:Ly,useDeferredValue:function(e){var t=cn();return Mt===null?t.memoizedState=e:eC(t,Mt.memoizedState,e)},useTransition:function(){var e=ap(au)[0],t=cn().memoizedState;return[e,t]},useMutableSource:zS,useSyncExternalStore:US,useId:tC,unstable_isNewReconciler:!1};function vn(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Eg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Eh={isMounted:function(e){return(e=e._reactInternals)?qo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cr(),s=Aa(e),a=Os(n,s);a.payload=t,r!=null&&(a.callback=r),t=Ma(e,a,s),t!==null&&(Tn(t,e,s,n),zd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cr(),s=Aa(e),a=Os(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ma(e,a,s),t!==null&&(Tn(t,e,s,n),zd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cr(),n=Aa(e),s=Os(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ma(e,s,n),t!==null&&(Tn(t,e,n,r),zd(t,e,n))}};function Rw(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Xc(r,n)||!Xc(s,a):!0}function aC(e,t,r){var n=!1,s=za,a=t.contextType;return typeof a=="object"&&a!==null?a=ln(a):(s=Nr(t)?Ro:tr.current,n=t.contextTypes,a=(n=n!=null)?il(e,s):za),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Mw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Eh.enqueueReplaceState(t,t.state,null)}function Tg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ty(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ln(a):(a=Nr(t)?Ro:tr.current,s.context=il(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Eg(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Eh.enqueueReplaceState(s,s.state,null),_f(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function dl(e,t){try{var r="",n=t;do r+=eM(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function op(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Pg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kD=typeof WeakMap=="function"?WeakMap:Map;function oC(e,t,r){r=Os(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){kf||(kf=!0,zg=n),Pg(e,t)},r}function iC(e,t,r){r=Os(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Pg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Pg(e,t),typeof n!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Dw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kD;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=UD.bind(null,e,t,r),t.then(e,e))}function Aw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ow(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Os(-1,1),t.tag=2,Ma(r,t,1))),r.lanes|=1),e)}var ED=Qs.ReactCurrentOwner,Sr=!1;function or(e,t,r,n){t.child=e===null?IS(t,null,r,n):cl(t,e.child,r,n)}function Iw(e,t,r,n,s){r=r.render;var a=t.ref;return Oi(t,s),n=Ay(e,t,r,n,a,s),r=Oy(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bs(e,t,s)):(lt&&r&&_y(t),t.flags|=1,or(e,t,n,s),t.child)}function Lw(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!qy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,lC(e,t,a,n,s)):(e=Hd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Xc,r(o,n)&&e.ref===t.ref)return Bs(e,t,s)}return t.flags|=1,e=Oa(a,n),e.ref=t.ref,e.return=t,t.child=e}function lC(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Xc(a,n)&&e.ref===t.ref)if(Sr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Sr=!0);else return t.lanes=e.lanes,Bs(e,t,s)}return Rg(e,t,r,n,s)}function cC(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Pi,Lr),Lr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Pi,Lr),Lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,tt(Pi,Lr),Lr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,tt(Pi,Lr),Lr|=n;return or(e,t,s,r),t.child}function uC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rg(e,t,r,n,s){var a=Nr(r)?Ro:tr.current;return a=il(t,a),Oi(t,s),r=Ay(e,t,r,n,a,s),n=Oy(),e!==null&&!Sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bs(e,t,s)):(lt&&n&&_y(t),t.flags|=1,or(e,t,r,s),t.child)}function $w(e,t,r,n,s){if(Nr(r)){var a=!0;vf(t)}else a=!1;if(Oi(t,s),t.stateNode===null)Vd(e,t),aC(t,r,n),Tg(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ln(u):(u=Nr(r)?Ro:tr.current,u=il(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Mw(t,o,n,u),ua=!1;var h=t.memoizedState;o.state=h,_f(t,n,o,s),c=t.memoizedState,l!==n||h!==c||jr.current||ua?(typeof f=="function"&&(Eg(t,r,f,n),c=t.memoizedState),(l=ua||Rw(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,$S(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vn(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ln(c):(c=Nr(r)?Ro:tr.current,c=il(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&Mw(t,o,n,c),ua=!1,h=t.memoizedState,o.state=h,_f(t,n,o,s);var g=t.memoizedState;l!==d||h!==g||jr.current||ua?(typeof p=="function"&&(Eg(t,r,p,n),g=t.memoizedState),(u=ua||Rw(t,r,u,n,h,g,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Mg(e,t,r,n,a,s)}function Mg(e,t,r,n,s,a){uC(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Sw(t,r,!1),Bs(e,t,a);n=t.stateNode,ED.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=cl(t,e.child,null,a),t.child=cl(t,null,l,a)):or(e,t,l,a),t.memoizedState=n.state,s&&Sw(t,r,!0),t.child}function dC(e){var t=e.stateNode;t.pendingContext?_w(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_w(e,t.context,!1),Py(e,t.containerInfo)}function Fw(e,t,r,n,s){return ll(),Cy(s),t.flags|=256,or(e,t,r,n),t.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function Ag(e){return{baseLanes:e,cachePool:null,transitions:null}}function fC(e,t,r){var n=t.pendingProps,s=ft.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(ft,s&1),e===null)return Ng(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Rh(o,n,0,null),e=To(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ag(r),t.memoizedState=Dg,e):$y(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return TD(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Oa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Oa(l,a):(a=To(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ag(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Dg,n}return a=e.child,e=a.sibling,n=Oa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $y(e,t){return t=Rh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fd(e,t,r,n){return n!==null&&Cy(n),cl(t,e.child,null,r),e=$y(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function TD(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=op(Error(Q(422))),fd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Rh({mode:"visible",children:n.children},s,0,null),a=To(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&cl(t,e.child,null,o),t.child.memoizedState=Ag(o),t.memoizedState=Dg,a);if(!(t.mode&1))return fd(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Q(419)),n=op(a,n,void 0),fd(e,t,o,n)}if(l=(o&e.childLanes)!==0,Sr||l){if(n=Ft,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Us(e,s),Tn(n,e,s,-1))}return Wy(),n=op(Error(Q(421))),fd(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BD.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Fr=Ra(s.nextSibling),zr=t,lt=!0,_n=null,e!==null&&(Xr[Jr++]=Ts,Xr[Jr++]=Ps,Xr[Jr++]=Mo,Ts=e.id,Ps=e.overflow,Mo=t),t=$y(t,n.children),t.flags|=4096,t)}function zw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kg(e.return,t,r)}function ip(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function hC(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(or(e,t,n.children,r),n=ft.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zw(e,r,t);else if(e.tag===19)zw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tt(ft,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Sf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ip(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ip(t,!0,r,null,a);break;case"together":ip(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ao|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=Oa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Oa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function PD(e,t,r){switch(t.tag){case 3:dC(t),ll();break;case 5:FS(t);break;case 1:Nr(t.type)&&vf(t);break;case 4:Py(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;tt(wf,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(tt(ft,ft.current&1),t.flags|=128,null):r&t.child.childLanes?fC(e,t,r):(tt(ft,ft.current&1),e=Bs(e,t,r),e!==null?e.sibling:null);tt(ft,ft.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return hC(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(ft,ft.current),n)break;return null;case 22:case 23:return t.lanes=0,cC(e,t,r)}return Bs(e,t,r)}var mC,Og,pC,gC;mC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Og=function(){};pC=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xo(os.current);var a=null;switch(r){case"input":s=ng(e,s),n=ng(e,n),a=[];break;case"select":s=mt({},s,{value:void 0}),n=mt({},n,{value:void 0}),a=[];break;case"textarea":s=og(e,s),n=og(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pf)}lg(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&at("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};gC=function(e,t,r,n){r!==n&&(t.flags|=4)};function ac(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function RD(e,t,r){var n=t.pendingProps;switch(Sy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return Nr(t.type)&&gf(),Yt(t),null;case 3:return n=t.stateNode,ul(),ot(jr),ot(tr),My(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ud(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(Vg(_n),_n=null))),Og(e,t),Yt(t),null;case 5:Ry(t);var s=xo(nu.current);if(r=t.type,e!==null&&t.stateNode!=null)pC(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return Yt(t),null}if(e=xo(os.current),ud(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Zn]=t,n[tu]=a,e=(t.mode&1)!==0,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(s=0;s<yc.length;s++)at(yc[s],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":Q0(n,a),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},at("invalid",n);break;case"textarea":Z0(n,a),at("invalid",n)}lg(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&cd(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&cd(n.textContent,l,e),s=["children",""+l]):qc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&at("scroll",n)}switch(r){case"input":td(n),Y0(n,a,!0);break;case"textarea":td(n),X0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=pf)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=W_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Zn]=t,e[tu]=n,mC(e,t,!1,!1),t.stateNode=e;e:{switch(o=cg(r,n),r){case"dialog":at("cancel",e),at("close",e),s=n;break;case"iframe":case"object":case"embed":at("load",e),s=n;break;case"video":case"audio":for(s=0;s<yc.length;s++)at(yc[s],e);s=n;break;case"source":at("error",e),s=n;break;case"img":case"image":case"link":at("error",e),at("load",e),s=n;break;case"details":at("toggle",e),s=n;break;case"input":Q0(e,n),s=ng(e,n),at("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=mt({},n,{value:void 0}),at("invalid",e);break;case"textarea":Z0(e,n),s=og(e,n),at("invalid",e);break;default:s=n}lg(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?K_(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&q_(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Hc(e,c):typeof c=="number"&&Hc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&at("scroll",e):c!=null&&ly(e,a,c,o))}switch(r){case"input":td(e),Y0(e,n,!1);break;case"textarea":td(e),X0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fa(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ri(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ri(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)gC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=xo(nu.current),xo(os.current),ud(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zn]=t,(a=n.nodeValue!==r)&&(e=zr,e!==null))switch(e.tag){case 3:cd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cd(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zn]=t,t.stateNode=n}return Yt(t),null;case 13:if(ot(ft),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Fr!==null&&t.mode&1&&!(t.flags&128))AS(),ll(),t.flags|=98560,a=!1;else if(a=ud(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[Zn]=t}else ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),a=!1}else _n!==null&&(Vg(_n),_n=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?At===0&&(At=3):Wy())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return ul(),Og(e,t),e===null&&Jc(t.stateNode.containerInfo),Yt(t),null;case 10:return ky(t.type._context),Yt(t),null;case 17:return Nr(t.type)&&gf(),Yt(t),null;case 19:if(ot(ft),a=t.memoizedState,a===null)return Yt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)ac(a,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sf(e),o!==null){for(t.flags|=128,ac(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tt(ft,ft.current&1|2),t.child}e=e.sibling}a.tail!==null&&bt()>fl&&(t.flags|=128,n=!0,ac(a,!1),t.lanes=4194304)}else{if(!n)if(e=Sf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ac(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!lt)return Yt(t),null}else 2*bt()-a.renderingStartTime>fl&&r!==1073741824&&(t.flags|=128,n=!0,ac(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=bt(),t.sibling=null,r=ft.current,tt(ft,n?r&1|2:r&1),t):(Yt(t),null);case 22:case 23:return Vy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Lr&1073741824&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function MD(e,t){switch(Sy(t),t.tag){case 1:return Nr(t.type)&&gf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(),ot(jr),ot(tr),My(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ry(t),null;case 13:if(ot(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(ft),null;case 4:return ul(),null;case 10:return ky(t.type._context),null;case 22:case 23:return Vy(),null;case 24:return null;default:return null}}var hd=!1,Jt=!1,DD=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ti(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yt(e,t,n)}else r.current=null}function Ig(e,t,r){try{r()}catch(n){yt(e,t,n)}}var Uw=!1;function AD(e,t){if(xg=ff,e=bS(),by(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==a||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++f===n&&(c=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wg={focusedElem:e,selectionRange:r},ff=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:vn(t.type,v),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(_){yt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return g=Uw,Uw=!1,g}function Mc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Ig(t,r,a)}s=s.next}while(s!==n)}}function Th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Lg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vC(e){var t=e.alternate;t!==null&&(e.alternate=null,vC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zn],delete t[tu],delete t[Sg],delete t[gD],delete t[vD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yC(e){return e.tag===5||e.tag===3||e.tag===4}function Bw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $g(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pf));else if(n!==4&&(e=e.child,e!==null))for($g(e,t,r),e=e.sibling;e!==null;)$g(e,t,r),e=e.sibling}function Fg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Fg(e,t,r),e=e.sibling;e!==null;)Fg(e,t,r),e=e.sibling}var Wt=null,wn=!1;function ea(e,t,r){for(r=r.child;r!==null;)xC(e,t,r),r=r.sibling}function xC(e,t,r){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(bh,r)}catch{}switch(r.tag){case 5:Jt||Ti(r,t);case 6:var n=Wt,s=wn;Wt=null,ea(e,t,r),Wt=n,wn=s,Wt!==null&&(wn?(e=Wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wt.removeChild(r.stateNode));break;case 18:Wt!==null&&(wn?(e=Wt,r=r.stateNode,e.nodeType===8?ep(e.parentNode,r):e.nodeType===1&&ep(e,r),Yc(e)):ep(Wt,r.stateNode));break;case 4:n=Wt,s=wn,Wt=r.stateNode.containerInfo,wn=!0,ea(e,t,r),Wt=n,wn=s;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ig(r,t,o),s=s.next}while(s!==n)}ea(e,t,r);break;case 1:if(!Jt&&(Ti(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){yt(r,t,l)}ea(e,t,r);break;case 21:ea(e,t,r);break;case 22:r.mode&1?(Jt=(n=Jt)||r.memoizedState!==null,ea(e,t,r),Jt=n):ea(e,t,r);break;default:ea(e,t,r)}}function Vw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new DD),t.forEach(function(n){var s=VD.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function pn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Wt=l.stateNode,wn=!1;break e;case 3:Wt=l.stateNode.containerInfo,wn=!0;break e;case 4:Wt=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(Wt===null)throw Error(Q(160));xC(a,o,s),Wt=null,wn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){yt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wC(t,e),t=t.sibling}function wC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),Un(e),n&4){try{Mc(3,e,e.return),Th(3,e)}catch(v){yt(e,e.return,v)}try{Mc(5,e,e.return)}catch(v){yt(e,e.return,v)}}break;case 1:pn(t,e),Un(e),n&512&&r!==null&&Ti(r,r.return);break;case 5:if(pn(t,e),Un(e),n&512&&r!==null&&Ti(r,r.return),e.flags&32){var s=e.stateNode;try{Hc(s,"")}catch(v){yt(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&B_(s,a),cg(l,o);var u=cg(l,a);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?K_(s,d):f==="dangerouslySetInnerHTML"?q_(s,d):f==="children"?Hc(s,d):ly(s,f,d,u)}switch(l){case"input":sg(s,a);break;case"textarea":V_(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ri(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ri(s,!!a.multiple,a.defaultValue,!0):Ri(s,!!a.multiple,a.multiple?[]:"",!1))}s[tu]=a}catch(v){yt(e,e.return,v)}}break;case 6:if(pn(t,e),Un(e),n&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){yt(e,e.return,v)}}break;case 3:if(pn(t,e),Un(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yc(t.containerInfo)}catch(v){yt(e,e.return,v)}break;case 4:pn(t,e),Un(e);break;case 13:pn(t,e),Un(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Uy=bt())),n&4&&Vw(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Jt=(u=Jt)||f,pn(t,e),Jt=u):pn(t,e),Un(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ce=e,f=e.child;f!==null;){for(d=ce=f;ce!==null;){switch(h=ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:Mc(4,h,h.return);break;case 1:Ti(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){yt(n,r,v)}}break;case 5:Ti(h,h.return);break;case 22:if(h.memoizedState!==null){qw(d);continue}}p!==null?(p.return=h,ce=p):qw(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=H_("display",o))}catch(v){yt(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){yt(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pn(t,e),Un(e),n&4&&Vw(e);break;case 21:break;default:pn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yC(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Hc(s,""),n.flags&=-33);var a=Bw(e);Fg(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Bw(e);$g(e,l,o);break;default:throw Error(Q(161))}}catch(c){yt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OD(e,t,r){ce=e,bC(e)}function bC(e,t,r){for(var n=(e.mode&1)!==0;ce!==null;){var s=ce,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||hd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Jt;l=hd;var u=Jt;if(hd=o,(Jt=c)&&!u)for(ce=s;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?Hw(s):c!==null?(c.return=o,ce=c):Hw(s);for(;a!==null;)ce=a,bC(a),a=a.sibling;ce=s,hd=l,Jt=u}Ww(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ce=a):Ww(e)}}function Ww(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jt||Th(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Jt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:vn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ew(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ew(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Yc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Jt||t.flags&512&&Lg(t)}catch(h){yt(t,t.return,h)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function qw(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Hw(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Th(4,t)}catch(c){yt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){yt(t,s,c)}}var a=t.return;try{Lg(t)}catch(c){yt(t,a,c)}break;case 5:var o=t.return;try{Lg(t)}catch(c){yt(t,o,c)}}}catch(c){yt(t,t.return,c)}if(t===e){ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ce=l;break}ce=t.return}}var ID=Math.ceil,Nf=Qs.ReactCurrentDispatcher,Fy=Qs.ReactCurrentOwner,rn=Qs.ReactCurrentBatchConfig,qe=0,Ft=null,Nt=null,qt=0,Lr=0,Pi=Ka(0),At=0,iu=null,Ao=0,Ph=0,zy=0,Dc=null,br=null,Uy=0,fl=1/0,js=null,kf=!1,zg=null,Da=null,md=!1,Na=null,Ef=0,Ac=0,Ug=null,Wd=-1,qd=0;function cr(){return qe&6?bt():Wd!==-1?Wd:Wd=bt()}function Aa(e){return e.mode&1?qe&2&&qt!==0?qt&-qt:xD.transition!==null?(qd===0&&(qd=aS()),qd):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:fS(e.type)),e):1}function Tn(e,t,r,n){if(50<Ac)throw Ac=0,Ug=null,Error(Q(185));Nu(e,r,n),(!(qe&2)||e!==Ft)&&(e===Ft&&(!(qe&2)&&(Ph|=r),At===4&&ha(e,qt)),kr(e,n),r===1&&qe===0&&!(t.mode&1)&&(fl=bt()+500,Nh&&Ga()))}function kr(e,t){var r=e.callbackNode;xM(e,t);var n=df(e,e===Ft?qt:0);if(n===0)r!==null&&tw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tw(r),t===1)e.tag===0?yD(Kw.bind(null,e)):RS(Kw.bind(null,e)),mD(function(){!(qe&6)&&Ga()}),r=null;else{switch(oS(n)){case 1:r=hy;break;case 4:r=nS;break;case 16:r=uf;break;case 536870912:r=sS;break;default:r=uf}r=TC(r,_C.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _C(e,t){if(Wd=-1,qd=0,qe&6)throw Error(Q(327));var r=e.callbackNode;if(Ii()&&e.callbackNode!==r)return null;var n=df(e,e===Ft?qt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Tf(e,n);else{t=n;var s=qe;qe|=2;var a=CC();(Ft!==e||qt!==t)&&(js=null,fl=bt()+500,Eo(e,t));do try{FD();break}catch(l){SC(e,l)}while(!0);Ny(),Nf.current=a,qe=s,Nt!==null?t=0:(Ft=null,qt=0,t=At)}if(t!==0){if(t===2&&(s=mg(e),s!==0&&(n=s,t=Bg(e,s))),t===1)throw r=iu,Eo(e,0),ha(e,n),kr(e,bt()),r;if(t===6)ha(e,n);else{if(s=e.current.alternate,!(n&30)&&!LD(s)&&(t=Tf(e,n),t===2&&(a=mg(e),a!==0&&(n=a,t=Bg(e,a))),t===1))throw r=iu,Eo(e,0),ha(e,n),kr(e,bt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:lo(e,br,js);break;case 3:if(ha(e,n),(n&130023424)===n&&(t=Uy+500-bt(),10<t)){if(df(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){cr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_g(lo.bind(null,e,br,js),t);break}lo(e,br,js);break;case 4:if(ha(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-En(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ID(n/1960))-n,10<n){e.timeoutHandle=_g(lo.bind(null,e,br,js),n);break}lo(e,br,js);break;case 5:lo(e,br,js);break;default:throw Error(Q(329))}}}return kr(e,bt()),e.callbackNode===r?_C.bind(null,e):null}function Bg(e,t){var r=Dc;return e.current.memoizedState.isDehydrated&&(Eo(e,t).flags|=256),e=Tf(e,t),e!==2&&(t=br,br=r,t!==null&&Vg(t)),e}function Vg(e){br===null?br=e:br.push.apply(br,e)}function LD(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Pn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ha(e,t){for(t&=~zy,t&=~Ph,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-En(t),n=1<<r;e[r]=-1,t&=~n}}function Kw(e){if(qe&6)throw Error(Q(327));Ii();var t=df(e,0);if(!(t&1))return kr(e,bt()),null;var r=Tf(e,t);if(e.tag!==0&&r===2){var n=mg(e);n!==0&&(t=n,r=Bg(e,n))}if(r===1)throw r=iu,Eo(e,0),ha(e,t),kr(e,bt()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lo(e,br,js),kr(e,bt()),null}function By(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(fl=bt()+500,Nh&&Ga())}}function Oo(e){Na!==null&&Na.tag===0&&!(qe&6)&&Ii();var t=qe;qe|=1;var r=rn.transition,n=Ye;try{if(rn.transition=null,Ye=1,e)return e()}finally{Ye=n,rn.transition=r,qe=t,!(qe&6)&&Ga()}}function Vy(){Lr=Pi.current,ot(Pi)}function Eo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hD(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(Sy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gf();break;case 3:ul(),ot(jr),ot(tr),My();break;case 5:Ry(n);break;case 4:ul();break;case 13:ot(ft);break;case 19:ot(ft);break;case 10:ky(n.type._context);break;case 22:case 23:Vy()}r=r.return}if(Ft=e,Nt=e=Oa(e.current,null),qt=Lr=t,At=0,iu=null,zy=Ph=Ao=0,br=Dc=null,yo!==null){for(t=0;t<yo.length;t++)if(r=yo[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}yo=null}return e}function SC(e,t){do{var r=Nt;try{if(Ny(),Ud.current=jf,Cf){for(var n=ht.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Cf=!1}if(Do=0,$t=Mt=ht=null,Rc=!1,su=0,Fy.current=null,r===null||r.return===null){At=1,iu=t,Nt=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=qt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Aw(o);if(p!==null){p.flags&=-257,Ow(p,o,l,a,t),p.mode&1&&Dw(a,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Dw(a,u,t),Wy();break e}c=Error(Q(426))}}else if(lt&&l.mode&1){var w=Aw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ow(w,o,l,a,t),Cy(dl(c,l));break e}}a=c=dl(c,l),At!==4&&(At=2),Dc===null?Dc=[a]:Dc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=oC(a,c,t);kw(a,y);break e;case 1:l=c;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Da===null||!Da.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=iC(a,l,t);kw(a,_);break e}}a=a.return}while(a!==null)}NC(r)}catch(S){t=S,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(!0)}function CC(){var e=Nf.current;return Nf.current=jf,e===null?jf:e}function Wy(){(At===0||At===3||At===2)&&(At=4),Ft===null||!(Ao&268435455)&&!(Ph&268435455)||ha(Ft,qt)}function Tf(e,t){var r=qe;qe|=2;var n=CC();(Ft!==e||qt!==t)&&(js=null,Eo(e,t));do try{$D();break}catch(s){SC(e,s)}while(!0);if(Ny(),qe=r,Nf.current=n,Nt!==null)throw Error(Q(261));return Ft=null,qt=0,At}function $D(){for(;Nt!==null;)jC(Nt)}function FD(){for(;Nt!==null&&!uM();)jC(Nt)}function jC(e){var t=EC(e.alternate,e,Lr);e.memoizedProps=e.pendingProps,t===null?NC(e):Nt=t,Fy.current=null}function NC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=MD(r,t),r!==null){r.flags&=32767,Nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,Nt=null;return}}else if(r=RD(r,t,Lr),r!==null){Nt=r;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);At===0&&(At=5)}function lo(e,t,r){var n=Ye,s=rn.transition;try{rn.transition=null,Ye=1,zD(e,t,r,n)}finally{rn.transition=s,Ye=n}return null}function zD(e,t,r,n){do Ii();while(Na!==null);if(qe&6)throw Error(Q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(wM(e,a),e===Ft&&(Nt=Ft=null,qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||md||(md=!0,TC(uf,function(){return Ii(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=rn.transition,rn.transition=null;var o=Ye;Ye=1;var l=qe;qe|=4,Fy.current=null,AD(e,r),wC(r,e),oD(wg),ff=!!xg,wg=xg=null,e.current=r,OD(r),dM(),qe=l,Ye=o,rn.transition=a}else e.current=r;if(md&&(md=!1,Na=e,Ef=s),a=e.pendingLanes,a===0&&(Da=null),mM(r.stateNode),kr(e,bt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(kf)throw kf=!1,e=zg,zg=null,e;return Ef&1&&e.tag!==0&&Ii(),a=e.pendingLanes,a&1?e===Ug?Ac++:(Ac=0,Ug=e):Ac=0,Ga(),null}function Ii(){if(Na!==null){var e=oS(Ef),t=rn.transition,r=Ye;try{if(rn.transition=null,Ye=16>e?16:e,Na===null)var n=!1;else{if(e=Na,Na=null,Ef=0,qe&6)throw Error(Q(331));var s=qe;for(qe|=4,ce=e.current;ce!==null;){var a=ce,o=a.child;if(ce.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ce=u;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Mc(8,f,a)}var d=f.child;if(d!==null)d.return=f,ce=d;else for(;ce!==null;){f=ce;var h=f.sibling,p=f.return;if(vC(f),f===u){ce=null;break}if(h!==null){h.return=p,ce=h;break}ce=p}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ce=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ce=o;else e:for(;ce!==null;){if(a=ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mc(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ce=y;break e}ce=a.return}}var x=e.current;for(ce=x;ce!==null;){o=ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ce=b;else e:for(o=x;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Th(9,l)}}catch(S){yt(l,l.return,S)}if(l===o){ce=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ce=_;break e}ce=l.return}}if(qe=s,Ga(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(bh,e)}catch{}n=!0}return n}finally{Ye=r,rn.transition=t}}return!1}function Gw(e,t,r){t=dl(r,t),t=oC(e,t,1),e=Ma(e,t,1),t=cr(),e!==null&&(Nu(e,1,t),kr(e,t))}function yt(e,t,r){if(e.tag===3)Gw(e,e,r);else for(;t!==null;){if(t.tag===3){Gw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Da===null||!Da.has(n))){e=dl(r,e),e=iC(t,e,1),t=Ma(t,e,1),e=cr(),t!==null&&(Nu(t,1,e),kr(t,e));break}}t=t.return}}function UD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cr(),e.pingedLanes|=e.suspendedLanes&r,Ft===e&&(qt&r)===r&&(At===4||At===3&&(qt&130023424)===qt&&500>bt()-Uy?Eo(e,0):zy|=r),kr(e,t)}function kC(e,t){t===0&&(e.mode&1?(t=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):t=1);var r=cr();e=Us(e,t),e!==null&&(Nu(e,t,r),kr(e,r))}function BD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kC(e,r)}function VD(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),kC(e,r)}var EC;EC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jr.current)Sr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Sr=!1,PD(e,t,r);Sr=!!(e.flags&131072)}else Sr=!1,lt&&t.flags&1048576&&MS(t,xf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vd(e,t),e=t.pendingProps;var s=il(t,tr.current);Oi(t,r),s=Ay(null,t,n,e,s,r);var a=Oy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nr(n)?(a=!0,vf(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ty(t),s.updater=Eh,t.stateNode=s,s._reactInternals=t,Tg(t,n,e,r),t=Mg(null,t,n,!0,a,r)):(t.tag=0,lt&&a&&_y(t),or(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=qD(n),e=vn(n,e),s){case 0:t=Rg(null,t,n,e,r);break e;case 1:t=$w(null,t,n,e,r);break e;case 11:t=Iw(null,t,n,e,r);break e;case 14:t=Lw(null,t,n,vn(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vn(n,s),Rg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vn(n,s),$w(e,t,n,s,r);case 3:e:{if(dC(t),e===null)throw Error(Q(387));n=t.pendingProps,a=t.memoizedState,s=a.element,$S(e,t),_f(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=dl(Error(Q(423)),t),t=Fw(e,t,n,r,s);break e}else if(n!==s){s=dl(Error(Q(424)),t),t=Fw(e,t,n,r,s);break e}else for(Fr=Ra(t.stateNode.containerInfo.firstChild),zr=t,lt=!0,_n=null,r=IS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ll(),n===s){t=Bs(e,t,r);break e}or(e,t,n,r)}t=t.child}return t;case 5:return FS(t),e===null&&Ng(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,bg(n,s)?o=null:a!==null&&bg(n,a)&&(t.flags|=32),uC(e,t),or(e,t,o,r),t.child;case 6:return e===null&&Ng(t),null;case 13:return fC(e,t,r);case 4:return Py(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cl(t,null,n,r):or(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vn(n,s),Iw(e,t,n,s,r);case 7:return or(e,t,t.pendingProps,r),t.child;case 8:return or(e,t,t.pendingProps.children,r),t.child;case 12:return or(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,tt(wf,n._currentValue),n._currentValue=o,a!==null)if(Pn(a.value,o)){if(a.children===s.children&&!jr.current){t=Bs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Os(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),kg(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),kg(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}or(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Oi(t,r),s=ln(s),n=n(s),t.flags|=1,or(e,t,n,r),t.child;case 14:return n=t.type,s=vn(n,t.pendingProps),s=vn(n.type,s),Lw(e,t,n,s,r);case 15:return lC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vn(n,s),Vd(e,t),t.tag=1,Nr(n)?(e=!0,vf(t)):e=!1,Oi(t,r),aC(t,n,s),Tg(t,n,s,r),Mg(null,t,n,!0,e,r);case 19:return hC(e,t,r);case 22:return cC(e,t,r)}throw Error(Q(156,t.tag))};function TC(e,t){return rS(e,t)}function WD(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,r,n){return new WD(e,t,r,n)}function qy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qD(e){if(typeof e=="function")return qy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uy)return 11;if(e===dy)return 14}return 2}function Oa(e,t){var r=e.alternate;return r===null?(r=tn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hd(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")qy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wi:return To(r.children,s,a,t);case cy:o=8,s|=8;break;case Jp:return e=tn(12,r,t,s|2),e.elementType=Jp,e.lanes=a,e;case eg:return e=tn(13,r,t,s),e.elementType=eg,e.lanes=a,e;case tg:return e=tn(19,r,t,s),e.elementType=tg,e.lanes=a,e;case F_:return Rh(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L_:o=10;break e;case $_:o=9;break e;case uy:o=11;break e;case dy:o=14;break e;case ca:o=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=tn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function To(e,t,r,n){return e=tn(7,e,n,t),e.lanes=r,e}function Rh(e,t,r,n){return e=tn(22,e,n,t),e.elementType=F_,e.lanes=r,e.stateNode={isHidden:!1},e}function lp(e,t,r){return e=tn(6,e,null,t),e.lanes=r,e}function cp(e,t,r){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function HD(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vm(0),this.expirationTimes=Vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hy(e,t,r,n,s,a,o,l,c){return e=new HD(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=tn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ty(a),e}function KD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function PC(e){if(!e)return za;e=e._reactInternals;e:{if(qo(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Nr(r))return PS(e,r,t)}return t}function RC(e,t,r,n,s,a,o,l,c){return e=Hy(r,n,!0,e,s,a,o,l,c),e.context=PC(null),r=e.current,n=cr(),s=Aa(r),a=Os(n,s),a.callback=t??null,Ma(r,a,s),e.current.lanes=s,Nu(e,s,n),kr(e,n),e}function Mh(e,t,r,n){var s=t.current,a=cr(),o=Aa(s);return r=PC(r),t.context===null?t.context=r:t.pendingContext=r,t=Os(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ma(s,t,o),e!==null&&(Tn(e,s,o,a),zd(e,s,o)),o}function Pf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ky(e,t){Qw(e,t),(e=e.alternate)&&Qw(e,t)}function GD(){return null}var MC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gy(e){this._internalRoot=e}Dh.prototype.render=Gy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Mh(e,t,null,null)};Dh.prototype.unmount=Gy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oo(function(){Mh(null,e,null,null)}),t[zs]=null}};function Dh(e){this._internalRoot=e}Dh.prototype.unstable_scheduleHydration=function(e){if(e){var t=cS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fa.length&&t!==0&&t<fa[r].priority;r++);fa.splice(r,0,e),r===0&&dS(e)}};function Qy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yw(){}function QD(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Pf(o);a.call(u)}}var o=RC(t,n,e,0,null,!1,!1,"",Yw);return e._reactRootContainer=o,e[zs]=o.current,Jc(e.nodeType===8?e.parentNode:e),Oo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Pf(c);l.call(u)}}var c=Hy(e,0,!1,null,null,!1,!1,"",Yw);return e._reactRootContainer=c,e[zs]=c.current,Jc(e.nodeType===8?e.parentNode:e),Oo(function(){Mh(t,c,r,n)}),c}function Oh(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Pf(o);l.call(c)}}Mh(t,o,e,s)}else o=QD(r,t,e,s,n);return Pf(o)}iS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=vc(t.pendingLanes);r!==0&&(my(t,r|1),kr(t,bt()),!(qe&6)&&(fl=bt()+500,Ga()))}break;case 13:Oo(function(){var n=Us(e,1);if(n!==null){var s=cr();Tn(n,e,1,s)}}),Ky(e,1)}};py=function(e){if(e.tag===13){var t=Us(e,134217728);if(t!==null){var r=cr();Tn(t,e,134217728,r)}Ky(e,134217728)}};lS=function(e){if(e.tag===13){var t=Aa(e),r=Us(e,t);if(r!==null){var n=cr();Tn(r,e,t,n)}Ky(e,t)}};cS=function(){return Ye};uS=function(e,t){var r=Ye;try{return Ye=e,t()}finally{Ye=r}};dg=function(e,t,r){switch(t){case"input":if(sg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=jh(n);if(!s)throw Error(Q(90));U_(n),sg(n,s)}}}break;case"textarea":V_(e,r);break;case"select":t=r.value,t!=null&&Ri(e,!!r.multiple,t,!1)}};Y_=By;Z_=Oo;var YD={usingClientEntryPoint:!1,Events:[Eu,Ci,jh,G_,Q_,By]},oc={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZD={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eS(e),e===null?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||GD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{bh=pd.inject(ZD),as=pd}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YD;Vr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(t))throw Error(Q(200));return KD(e,t,null,r)};Vr.createRoot=function(e,t){if(!Qy(e))throw Error(Q(299));var r=!1,n="",s=MC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hy(e,1,!1,null,null,r,!1,n,s),e[zs]=t.current,Jc(e.nodeType===8?e.parentNode:e),new Gy(t)};Vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=eS(t),e=e===null?null:e.stateNode,e};Vr.flushSync=function(e){return Oo(e)};Vr.hydrate=function(e,t,r){if(!Ah(t))throw Error(Q(200));return Oh(null,e,t,!0,r)};Vr.hydrateRoot=function(e,t,r){if(!Qy(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=MC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=RC(t,null,e,1,r??null,s,!1,a,o),e[zs]=t.current,Jc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Dh(t)};Vr.render=function(e,t,r){if(!Ah(t))throw Error(Q(200));return Oh(null,e,t,!1,r)};Vr.unmountComponentAtNode=function(e){if(!Ah(e))throw Error(Q(40));return e._reactRootContainer?(Oo(function(){Oh(null,null,e,!1,function(){e._reactRootContainer=null,e[zs]=null})}),!0):!1};Vr.unstable_batchedUpdates=By;Vr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ah(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Oh(e,t,r,!1,n)};Vr.version="18.3.1-next-f1338f8080-20240426";function DC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DC)}catch(e){console.error(e)}}DC(),D_.exports=Vr;var Ho=D_.exports;const AC=w_(Ho);var Zw=Ho;Zp.createRoot=Zw.createRoot,Zp.hydrateRoot=Zw.hydrateRoot;const XD=3,JD=1e4;let up=0;function eA(){return up=(up+1)%Number.MAX_SAFE_INTEGER,up.toString()}const dp=new Map,Xw=e=>{if(dp.has(e))return;const t=setTimeout(()=>{dp.delete(e),Oc({type:"REMOVE_TOAST",toastId:e})},JD);dp.set(e,t)},tA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,XD)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Xw(r):e.toasts.forEach(n=>{Xw(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Kd=[];let Gd={toasts:[]};function Oc(e){Gd=tA(Gd,e),Kd.forEach(t=>{t(Gd)})}function rA({...e}){const t=eA(),r=s=>Oc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Oc({type:"DISMISS_TOAST",toastId:t});return Oc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{var a;s||n(),(a=e.onOpenChange)==null||a.call(e,s)}}}),{id:t,dismiss:n,update:r}}function pt(){const[e,t]=m.useState(Gd);return m.useEffect(()=>(Kd.push(t),()=>{const r=Kd.indexOf(t);r>-1&&Kd.splice(r,1)}),[e]),{...e,toast:rA,dismiss:r=>Oc({type:"DISMISS_TOAST",toastId:r})}}function G(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function nA(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ih(...e){return t=>e.forEach(r=>nA(r,t))}function je(...e){return m.useCallback(Ih(...e),e)}function sA(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:p,...g}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=m.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,f]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,aA(s,...t)]}function aA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Er=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),a=s.find(oA);if(a){const o=a.props.children,l=s.map(c=>c===a?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return i.jsx(Wg,{...n,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return i.jsx(Wg,{...n,ref:t,children:r})});Er.displayName="Slot";var Wg=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=lA(r);return m.cloneElement(r,{...iA(n,r.props),ref:t?Ih(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});Wg.displayName="SlotClone";var Yy=({children:e})=>i.jsx(i.Fragment,{children:e});function oA(e){return m.isValidElement(e)&&e.type===Yy}function iA(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function lA(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Lh(e){const t=e+"CollectionProvider",[r,n]=sA(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:v}=p,w=L.useRef(null),y=L.useRef(new Map).current;return i.jsx(s,{scope:g,itemMap:y,collectionRef:w,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=L.forwardRef((p,g)=>{const{scope:v,children:w}=p,y=a(l,v),x=je(g,y.collectionRef);return i.jsx(Er,{ref:x,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=L.forwardRef((p,g)=>{const{scope:v,children:w,...y}=p,x=L.useRef(null),b=je(g,x),_=a(u,v);return L.useEffect(()=>(_.itemMap.set(x,{ref:x,...y}),()=>void _.itemMap.delete(x))),i.jsx(Er,{[f]:"",ref:b,children:w})});d.displayName=u;function h(p){const g=a(e+"CollectionConsumer",p);return L.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((_,S)=>y.indexOf(_.ref.current)-y.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:d},h,n]}function cA(e,t){const r=m.createContext(t),n=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Dr(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=d=>{var y;const{scope:h,children:p,...g}=d,v=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})};u.displayName=a+"Provider";function f(d,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=m.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[u,f]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,uA(s,...t)]}function uA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var dA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=dA.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?Er:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Zy(e,t){e&&Ho.flushSync(()=>e.dispatchEvent(t))}function ct(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function fA(e,t=globalThis==null?void 0:globalThis.document){const r=ct(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var hA="DismissableLayer",qg="dismissableLayer.update",mA="dismissableLayer.pointerDownOutside",pA="dismissableLayer.focusOutside",Jw,OC=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ko=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(OC),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),g=je(t,C=>d(C)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(w),x=f?v.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,S=vA(C=>{const N=C.target,k=[...u.branches].some(R=>R.contains(N));!_||k||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),j=yA(C=>{const N=C.target;[...u.branches].some(R=>R.contains(N))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return fA(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Jw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),eb(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Jw)}},[f,h,r,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),eb())},[f,u]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(qg,C),()=>document.removeEventListener(qg,C)},[]),i.jsx(ue.div,{...c,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,j.onFocusCapture),onBlurCapture:G(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,S.onPointerDownCapture)})});Ko.displayName=hA;var gA="DismissableLayerBranch",IC=m.forwardRef((e,t)=>{const r=m.useContext(OC),n=m.useRef(null),s=je(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(ue.div,{...e,ref:s})});IC.displayName=gA;function vA(e,t=globalThis==null?void 0:globalThis.document){const r=ct(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){LC(mA,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yA(e,t=globalThis==null?void 0:globalThis.document){const r=ct(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&LC(pA,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eb(){const e=new CustomEvent(qg);document.dispatchEvent(e)}function LC(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Zy(s,a):s.dispatchEvent(a)}var xA=Ko,wA=IC,Ot=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},bA="Portal",Ml=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);Ot(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?AC.createPortal(i.jsx(ue.div,{...n,ref:t}),o):null});Ml.displayName=bA;function _A(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var It=e=>{const{present:t,children:r}=e,n=SA(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=je(n.ref,CA(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};It.displayName="Presence";function SA(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=_A(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=gd(n.current);a.current=l==="mounted"?u:"none"},[l]),Ot(()=>{const u=n.current,f=s.current;if(f!==e){const h=a.current,p=gd(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ot(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const v=gd(n.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(a.current=gd(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function gd(e){return(e==null?void 0:e.animationName)||"none"}function CA(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Rn({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=jA({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=ct(r),c=m.useCallback(u=>{if(a){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[a,e,s,l]);return[o,c]}function jA({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),a=ct(t);return m.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var NA="VisuallyHidden",Pu=m.forwardRef((e,t)=>i.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Pu.displayName=NA;var kA=Pu,Xy="ToastProvider",[Jy,EA,TA]=Lh("Toast"),[$C,CG]=Dr("Toast",[TA]),[PA,$h]=$C(Xy),FC=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[u,f]=m.useState(0),d=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xy}\`. Expected non-empty \`string\`.`),i.jsx(Jy.Provider,{scope:t,children:i.jsx(PA,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>f(p=>p+1),[]),onToastRemove:m.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};FC.displayName=Xy;var zC="ToastViewport",RA=["F8"],Hg="toast.viewportPause",Kg="toast.viewportResume",UC=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=RA,label:s="Notifications ({hotkey})",...a}=e,o=$h(zC,r),l=EA(r),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),d=m.useRef(null),h=je(t,d,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;m.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,y=d.current;if(g&&w&&y){const x=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Hg);y.dispatchEvent(j),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(Kg);y.dispatchEvent(j),o.isClosePausedRef.current=!1}},_=j=>{!w.contains(j.relatedTarget)&&b()},S=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",_),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:w})=>{const x=l().map(b=>{const _=b.ref.current,S=[_,...WA(_)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return m.useEffect(()=>{const w=d.current;if(w){const y=x=>{var S,j,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const N=document.activeElement,k=x.shiftKey;if(x.target===w&&k){(S=u.current)==null||S.focus();return}const A=v({tabbingDirection:k?"backwards":"forwards"}),U=A.findIndex(I=>I===N);fp(A.slice(U+1))?x.preventDefault():k?(j=u.current)==null||j.focus():(C=f.current)==null||C.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,v]),i.jsxs(wA,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(Gg,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});fp(w)}}),i.jsx(Jy.Slot,{scope:r,children:i.jsx(ue.ol,{tabIndex:-1,...a,ref:h})}),g&&i.jsx(Gg,{ref:f,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});fp(w)}})]})});UC.displayName=zC;var BC="ToastFocusProxy",Gg=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=$h(BC,r);return i.jsx(Pu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});Gg.displayName=BC;var Fh="Toast",MA="toast.swipeStart",DA="toast.swipeMove",AA="toast.swipeCancel",OA="toast.swipeEnd",VC=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Rn({prop:n,defaultProp:s,onChange:a});return i.jsx(It,{present:r||l,children:i.jsx($A,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ct(e.onPause),onResume:ct(e.onResume),onSwipeStart:G(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:G(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:G(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:G(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});VC.displayName=Fh;var[IA,LA]=$C(Fh,{onClose(){}}),$A=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...g}=e,v=$h(Fh,r),[w,y]=m.useState(null),x=je(t,I=>y(I)),b=m.useRef(null),_=m.useRef(null),S=s||v.duration,j=m.useRef(0),C=m.useRef(S),N=m.useRef(0),{onToastAdd:k,onToastRemove:R}=v,D=ct(()=>{var W;(w==null?void 0:w.contains(document.activeElement))&&((W=v.viewport)==null||W.focus()),o()}),A=m.useCallback(I=>{!I||I===1/0||(window.clearTimeout(N.current),j.current=new Date().getTime(),N.current=window.setTimeout(D,I))},[D]);m.useEffect(()=>{const I=v.viewport;if(I){const W=()=>{A(C.current),u==null||u()},V=()=>{const F=new Date().getTime()-j.current;C.current=C.current-F,window.clearTimeout(N.current),c==null||c()};return I.addEventListener(Hg,V),I.addEventListener(Kg,W),()=>{I.removeEventListener(Hg,V),I.removeEventListener(Kg,W)}}},[v.viewport,S,c,u,A]),m.useEffect(()=>{a&&!v.isClosePausedRef.current&&A(S)},[a,S,v.isClosePausedRef,A]),m.useEffect(()=>(k(),()=>R()),[k,R]);const U=m.useMemo(()=>w?YC(w):null,[w]);return v.viewport?i.jsxs(i.Fragment,{children:[U&&i.jsx(FA,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),i.jsx(IA,{scope:r,onClose:D,children:Ho.createPortal(i.jsx(Jy.ItemSlot,{scope:r,children:i.jsx(xA,{asChild:!0,onEscapeKeyDown:G(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:G(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:G(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:G(e.onPointerMove,I=>{if(!b.current)return;const W=I.clientX-b.current.x,V=I.clientY-b.current.y,F=!!_.current,E=["left","right"].includes(v.swipeDirection),M=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,H=E?M(0,W):0,K=E?0:M(0,V),te=I.pointerType==="touch"?10:2,ne={x:H,y:K},ye={originalEvent:I,delta:ne};F?(_.current=ne,vd(DA,d,ye,{discrete:!1})):tb(ne,v.swipeDirection,te)?(_.current=ne,vd(MA,f,ye,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(W)>te||Math.abs(V)>te)&&(b.current=null)}),onPointerUp:G(e.onPointerUp,I=>{const W=_.current,V=I.target;if(V.hasPointerCapture(I.pointerId)&&V.releasePointerCapture(I.pointerId),_.current=null,b.current=null,W){const F=I.currentTarget,E={originalEvent:I,delta:W};tb(W,v.swipeDirection,v.swipeThreshold)?vd(OA,p,E,{discrete:!0}):vd(AA,h,E,{discrete:!0}),F.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),FA=e=>{const{__scopeToast:t,children:r,...n}=e,s=$h(Fh,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return BA(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Ml,{asChild:!0,children:i.jsx(Pu,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},zA="ToastTitle",WC=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ue.div,{...n,ref:t})});WC.displayName=zA;var UA="ToastDescription",qC=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(ue.div,{...n,ref:t})});qC.displayName=UA;var HC="ToastAction",KC=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(QC,{altText:r,asChild:!0,children:i.jsx(ex,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${HC}\`. Expected non-empty \`string\`.`),null)});KC.displayName=HC;var GC="ToastClose",ex=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=LA(GC,r);return i.jsx(QC,{asChild:!0,children:i.jsx(ue.button,{type:"button",...n,ref:t,onClick:G(e.onClick,s.onClose)})})});ex.displayName=GC;var QC=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function YC(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),VA(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...YC(n))}}),t}function vd(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Zy(s,a):s.dispatchEvent(a)}var tb=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function BA(e=()=>{}){const t=ct(e);Ot(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function VA(e){return e.nodeType===e.ELEMENT_NODE}function WA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var qA=FC,ZC=UC,XC=VC,JC=WC,ej=qC,tj=KC,rj=ex;function nj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=nj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function sj(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=nj(e))&&(n&&(n+=" "),n+=t);return n}const rb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nb=sj,Go=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return nb(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=a==null?void 0:a[u];if(f===null)return null;const h=rb(f)||rb(d);return s[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(g=>{let[v,w]=g;return Array.isArray(w)?w.includes({...a,...l}[v]):{...a,...l}[v]===w})?[...u,d,h]:u},[]);return nb(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aj=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...KA,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:aj("lucide",s),...l},[...o.map(([u,f])=>m.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=m.forwardRef(({className:n,...s},a)=>m.createElement(GA,{ref:a,iconNode:t,className:aj(`lucide-${HA(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ee("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ee("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=ee("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=ee("Computer",[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=ee("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ee("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=ee("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=ee("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ee("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ee("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=ee("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=ee("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ee("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ee("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=ee("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=ee("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=ee("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=ee("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=ee("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=ee("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=ee("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=ee("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=ee("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ee("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=ee("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=ee("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ox="-",$O=e=>{const t=zO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ox);return l[0]===""&&l.length!==1&&l.shift(),pj(l,t)||FO(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},pj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?pj(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(ox);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},ub=/^\[(.+)\]$/,FO=e=>{if(ub.test(e)){const t=ub.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},zO=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return BO(Object.entries(e.classGroups),r).forEach(([a,o])=>{Yg(o,n,a,t)}),n},Yg=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:db(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(UO(s)){Yg(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{Yg(o,db(t,a),r,n)})})},db=(e,t)=>{let r=e;return t.split(ox).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},UO=e=>e.isThemeGetter,BO=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,VO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},gj="!",WO=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(n||l.slice(w,w+a)===t)){c.push(l.slice(f,w)),f=w+a;continue}if(y==="/"){d=w;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(gj),g=p?h.substring(1):h,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},qO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},HO=e=>({cache:VO(e.cacheSize),parseClassName:WO(e),...$O(e)}),KO=/\s+/,GO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(KO);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,v=n(g?h.substring(0,p):h);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=n(h),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const w=qO(f).join(":"),y=d?w+gj:w,x=y+v;if(a.includes(x))continue;a.push(x);const b=s(v,g);for(let _=0;_<b.length;++_){const S=b[_];a.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function QO(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=vj(t))&&(n&&(n+=" "),n+=r);return n}const vj=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=vj(e[n]))&&(r&&(r+=" "),r+=t);return r};function YO(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=HO(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=GO(c,r);return s(c,f),f}return function(){return a(QO.apply(null,arguments))}}const st=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},yj=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZO=/^\d+\/\d+$/,XO=new Set(["px","full","screen"]),JO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=e=>$i(e)||XO.has(e)||ZO.test(e),ta=e=>Dl(e,"length",d4),$i=e=>!!e&&!Number.isNaN(Number(e)),hp=e=>Dl(e,"number",$i),ic=e=>!!e&&Number.isInteger(Number(e)),s4=e=>e.endsWith("%")&&$i(e.slice(0,-1)),Pe=e=>yj.test(e),ra=e=>JO.test(e),a4=new Set(["length","size","percentage"]),o4=e=>Dl(e,a4,xj),i4=e=>Dl(e,"position",xj),l4=new Set(["image","url"]),c4=e=>Dl(e,l4,h4),u4=e=>Dl(e,"",f4),lc=()=>!0,Dl=(e,t,r)=>{const n=yj.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},d4=e=>e4.test(e)&&!t4.test(e),xj=()=>!1,f4=e=>r4.test(e),h4=e=>n4.test(e),m4=()=>{const e=st("colors"),t=st("spacing"),r=st("blur"),n=st("brightness"),s=st("borderColor"),a=st("borderRadius"),o=st("borderSpacing"),l=st("borderWidth"),c=st("contrast"),u=st("grayscale"),f=st("hueRotate"),d=st("invert"),h=st("gap"),p=st("gradientColorStops"),g=st("gradientColorStopPositions"),v=st("inset"),w=st("margin"),y=st("opacity"),x=st("padding"),b=st("saturate"),_=st("scale"),S=st("sepia"),j=st("skew"),C=st("space"),N=st("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Pe,t],A=()=>[Pe,t],U=()=>["",xs,ta],I=()=>["auto",$i,Pe],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Pe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[$i,Pe];return{cacheSize:500,separator:":",theme:{colors:[lc],spacing:[xs,ta],blur:["none","",ra,Pe],brightness:K(),borderColor:[e],borderRadius:["none","","full",ra,Pe],borderSpacing:A(),borderWidth:U(),contrast:K(),grayscale:M(),hueRotate:K(),invert:M(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[s4,ta],inset:D(),margin:D(),opacity:K(),padding:A(),saturate:K(),scale:K(),sepia:M(),skew:K(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[ra]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Pe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ic,Pe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",ic,Pe]}],"grid-cols":[{"grid-cols":[lc]}],"col-start-end":[{col:["auto",{span:["full",ic,Pe]},Pe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[lc]}],"row-start-end":[{row:["auto",{span:[ic,Pe]},Pe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,t]}],"min-w":[{"min-w":[Pe,t,"min","max","fit"]}],"max-w":[{"max-w":[Pe,t,"none","full","min","max","fit","prose",{screen:[ra]},ra]}],h:[{h:[Pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ra,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hp]}],"font-family":[{font:[lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",$i,hp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,ta]}],"underline-offset":[{"underline-offset":["auto",xs,Pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),i4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",o4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},c4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[xs,Pe]}],"outline-w":[{outline:[xs,ta]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[xs,ta]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ra,u4]}],"shadow-color":[{shadow:[lc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ra,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ic,Pe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xs,ta,hp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},p4=YO(m4);function B(...e){return p4(sj(e))}const g4=qA,wj=m.forwardRef(({className:e,...t},r)=>i.jsx(ZC,{ref:r,className:B("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));wj.displayName=ZC.displayName;const v4=Go("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bj=m.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(XC,{ref:n,className:B(v4({variant:t}),e),...r}));bj.displayName=XC.displayName;const y4=m.forwardRef(({className:e,...t},r)=>i.jsx(tj,{ref:r,className:B("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));y4.displayName=tj.displayName;const _j=m.forwardRef(({className:e,...t},r)=>i.jsx(rj,{ref:r,className:B("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Qa,{className:"h-4 w-4"})}));_j.displayName=rj.displayName;const Sj=m.forwardRef(({className:e,...t},r)=>i.jsx(JC,{ref:r,className:B("text-sm font-semibold",e),...t}));Sj.displayName=JC.displayName;const Cj=m.forwardRef(({className:e,...t},r)=>i.jsx(ej,{ref:r,className:B("text-sm opacity-90",e),...t}));Cj.displayName=ej.displayName;function x4(){const{toasts:e}=pt();return i.jsxs(g4,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(bj,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Sj,{children:r}),n&&i.jsx(Cj,{children:n})]}),s,i.jsx(_j,{})]},t)}),i.jsx(wj,{})]})}var fb=["light","dark"],w4="(prefers-color-scheme: dark)",b4=m.createContext(void 0),_4={setTheme:e=>{},themes:[]},S4=()=>{var e;return(e=m.useContext(b4))!=null?e:_4};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=s?fb.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,v=!1,w=!0)=>{let y=o?o[g]:g,x=v?g+"|| ''":`'${y}'`,b="";return s&&w&&!v&&fb.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?v||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${f}${h(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${w4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${d}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var C4=e=>{switch(e){case"success":return k4;case"info":return T4;case"warning":return E4;case"error":return P4;default:return null}},j4=Array(12).fill(0),N4=({visible:e})=>L.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},L.createElement("div",{className:"sonner-spinner"},j4.map((t,r)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),k4=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),E4=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),T4=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P4=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),R4=()=>{let[e,t]=L.useState(document.hidden);return L.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Zg=1,M4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Zg++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async a=>{if(A4(a)&&!a.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Zg++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ir=new M4,D4=(e,t)=>{let r=(t==null?void 0:t.id)||Zg++;return Ir.addToast({title:e,...t,id:r}),r},A4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",O4=D4,I4=()=>Ir.toasts;Object.assign(O4,{success:Ir.success,info:Ir.info,warning:Ir.warning,error:Ir.error,custom:Ir.custom,message:Ir.message,promise:Ir.promise,dismiss:Ir.dismiss,loading:Ir.loading},{getHistory:I4});function L4(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}L4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yd(e){return e.label!==void 0}var $4=3,F4="32px",z4=4e3,U4=356,B4=14,V4=20,W4=200;function q4(...e){return e.filter(Boolean).join(" ")}var H4=e=>{var t,r,n,s,a,o,l,c,u,f;let{invert:d,toast:h,unstyled:p,interacting:g,setHeights:v,visibleToasts:w,heights:y,index:x,toasts:b,expanded:_,removeToast:S,defaultRichColors:j,closeButton:C,style:N,cancelButtonStyle:k,actionButtonStyle:R,className:D="",descriptionClassName:A="",duration:U,position:I,gap:W,loadingIcon:V,expandByDefault:F,classNames:E,icons:M,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:K,cn:te}=e,[ne,ye]=L.useState(!1),[He,xe]=L.useState(!1),[oe,Ce]=L.useState(!1),[Oe,Te]=L.useState(!1),[De,$e]=L.useState(0),[de,Et]=L.useState(0),Hr=L.useRef(null),zt=L.useRef(null),$n=x===0,T=x+1<=w,O=h.type,z=h.dismissible!==!1,re=h.className||"",J=h.descriptionClassName||"",Y=L.useMemo(()=>y.findIndex(X=>X.toastId===h.id)||0,[y,h.id]),he=L.useMemo(()=>{var X;return(X=h.closeButton)!=null?X:C},[h.closeButton,C]),Ne=L.useMemo(()=>h.duration||U||z4,[h.duration,U]),it=L.useRef(0),Ke=L.useRef(0),Kr=L.useRef(0),fn=L.useRef(null),[Zs,hn]=I.split("-"),ro=L.useMemo(()=>y.reduce((X,me,pe)=>pe>=Y?X:X+me.height,0),[y,Y]),no=R4(),Xl=h.invert||d,Xs=O==="loading";Ke.current=L.useMemo(()=>Y*W+ro,[Y,ro]),L.useEffect(()=>{ye(!0)},[]),L.useLayoutEffect(()=>{if(!ne)return;let X=zt.current,me=X.style.height;X.style.height="auto";let pe=X.getBoundingClientRect().height;X.style.height=me,Et(pe),v(Be=>Be.find(Ie=>Ie.toastId===h.id)?Be.map(Ie=>Ie.toastId===h.id?{...Ie,height:pe}:Ie):[{toastId:h.id,height:pe,position:h.position},...Be])},[ne,h.title,h.description,v,h.id]);let Fn=L.useCallback(()=>{xe(!0),$e(Ke.current),v(X=>X.filter(me=>me.toastId!==h.id)),setTimeout(()=>{S(h)},W4)},[h,S,v,Ke]);L.useEffect(()=>{if(h.promise&&O==="loading"||h.duration===1/0||h.type==="loading")return;let X,me=Ne;return _||g||K&&no?(()=>{if(Kr.current<it.current){let pe=new Date().getTime()-it.current;me=me-pe}Kr.current=new Date().getTime()})():me!==1/0&&(it.current=new Date().getTime(),X=setTimeout(()=>{var pe;(pe=h.onAutoClose)==null||pe.call(h,h),Fn()},me)),()=>clearTimeout(X)},[_,g,F,h,Ne,Fn,h.promise,O,K,no]),L.useEffect(()=>{let X=zt.current;if(X){let me=X.getBoundingClientRect().height;return Et(me),v(pe=>[{toastId:h.id,height:me,position:h.position},...pe]),()=>v(pe=>pe.filter(Be=>Be.toastId!==h.id))}},[v,h.id]),L.useEffect(()=>{h.delete&&Fn()},[Fn,h.delete]);function Im(){return M!=null&&M.loading?L.createElement("div",{className:"sonner-loader","data-visible":O==="loading"},M.loading):V?L.createElement("div",{className:"sonner-loader","data-visible":O==="loading"},V):L.createElement(N4,{visible:O==="loading"})}return L.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:zt,className:te(D,re,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[O],(r=h==null?void 0:h.classNames)==null?void 0:r[O]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:j,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":ne,"data-promise":!!h.promise,"data-removed":He,"data-visible":T,"data-y-position":Zs,"data-x-position":hn,"data-index":x,"data-front":$n,"data-swiping":oe,"data-dismissible":z,"data-type":O,"data-invert":Xl,"data-swipe-out":Oe,"data-expanded":!!(_||F&&ne),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${He?De:Ke.current}px`,"--initial-height":F?"auto":`${de}px`,...N,...h.style},onPointerDown:X=>{Xs||!z||(Hr.current=new Date,$e(Ke.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(Ce(!0),fn.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,me,pe,Be;if(Oe||!z)return;fn.current=null;let Ie=Number(((X=zt.current)==null?void 0:X.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ut=new Date().getTime()-((me=Hr.current)==null?void 0:me.getTime()),Bt=Math.abs(Ie)/Ut;if(Math.abs(Ie)>=V4||Bt>.11){$e(Ke.current),(pe=h.onDismiss)==null||pe.call(h,h),Fn(),Te(!0);return}(Be=zt.current)==null||Be.style.setProperty("--swipe-amount","0px"),Ce(!1)},onPointerMove:X=>{var me;if(!fn.current||!z)return;let pe=X.clientY-fn.current.y,Be=X.clientX-fn.current.x,Ie=(Zs==="top"?Math.min:Math.max)(0,pe),Ut=X.pointerType==="touch"?10:2;Math.abs(Ie)>Ut?(me=zt.current)==null||me.style.setProperty("--swipe-amount",`${pe}px`):Math.abs(Be)>Ut&&(fn.current=null)}},he&&!h.jsx?L.createElement("button",{"aria-label":H,"data-disabled":Xs,"data-close-button":!0,onClick:Xs||!z?()=>{}:()=>{var X;Fn(),(X=h.onDismiss)==null||X.call(h,h)},className:te(E==null?void 0:E.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||L.isValidElement(h.title)?h.jsx||h.title:L.createElement(L.Fragment,null,O||h.icon||h.promise?L.createElement("div",{"data-icon":"",className:te(E==null?void 0:E.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Im():null,h.type!=="loading"?h.icon||(M==null?void 0:M[O])||C4(O):null):null,L.createElement("div",{"data-content":"",className:te(E==null?void 0:E.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},L.createElement("div",{"data-title":"",className:te(E==null?void 0:E.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?L.createElement("div",{"data-description":"",className:te(A,J,E==null?void 0:E.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),L.isValidElement(h.cancel)?h.cancel:h.cancel&&yd(h.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:X=>{var me,pe;yd(h.cancel)&&z&&((pe=(me=h.cancel).onClick)==null||pe.call(me,X),Fn())},className:te(E==null?void 0:E.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,L.isValidElement(h.action)?h.action:h.action&&yd(h.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:X=>{var me,pe;yd(h.action)&&(X.defaultPrevented||((pe=(me=h.action).onClick)==null||pe.call(me,X),Fn()))},className:te(E==null?void 0:E.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function hb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var K4=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:f,style:d,visibleToasts:h=$4,toastOptions:p,dir:g=hb(),gap:v=B4,loadingIcon:w,icons:y,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:b,cn:_=q4}=e,[S,j]=L.useState([]),C=L.useMemo(()=>Array.from(new Set([r].concat(S.filter(K=>K.position).map(K=>K.position)))),[S,r]),[N,k]=L.useState([]),[R,D]=L.useState(!1),[A,U]=L.useState(!1),[I,W]=L.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=L.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=L.useRef(null),M=L.useRef(!1),H=L.useCallback(K=>{var te;(te=S.find(ne=>ne.id===K.id))!=null&&te.delete||Ir.dismiss(K.id),j(ne=>ne.filter(({id:ye})=>ye!==K.id))},[S]);return L.useEffect(()=>Ir.subscribe(K=>{if(K.dismiss){j(te=>te.map(ne=>ne.id===K.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{AC.flushSync(()=>{j(te=>{let ne=te.findIndex(ye=>ye.id===K.id);return ne!==-1?[...te.slice(0,ne),{...te[ne],...K},...te.slice(ne+1)]:[K,...te]})})})}),[]),L.useEffect(()=>{if(c!=="system"){W(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{W(K?"dark":"light")})},[c]),L.useEffect(()=>{S.length<=1&&D(!1)},[S]),L.useEffect(()=>{let K=te=>{var ne,ye;n.every(He=>te[He]||te.code===He)&&(D(!0),(ne=V.current)==null||ne.focus()),te.code==="Escape"&&(document.activeElement===V.current||(ye=V.current)!=null&&ye.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[n]),L.useEffect(()=>{if(V.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,M.current=!1)}},[V.current]),S.length?L.createElement("section",{"aria-label":`${x} ${F}`,tabIndex:-1},C.map((K,te)=>{var ne;let[ye,He]=K.split("-");return L.createElement("ol",{key:K,dir:g==="auto"?hb():g,tabIndex:-1,ref:V,className:o,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":ye,"data-x-position":He,style:{"--front-toast-height":`${((ne=N[0])==null?void 0:ne.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||F4,"--width":`${U4}px`,"--gap":`${v}px`,...d},onBlur:xe=>{M.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(M.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||M.current||(M.current=!0,E.current=xe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{A||D(!1)},onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},S.filter(xe=>!xe.position&&te===0||xe.position===K).map((xe,oe)=>{var Ce,Oe;return L.createElement(H4,{key:xe.id,icons:y,index:oe,toast:xe,defaultRichColors:u,duration:(Ce=p==null?void 0:p.duration)!=null?Ce:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Oe=p==null?void 0:p.closeButton)!=null?Oe:a,interacting:A,position:K,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:H,toasts:S.filter(Te=>Te.position==xe.position),heights:N.filter(Te=>Te.position==xe.position),setHeights:k,expandByDefault:s,gap:v,loadingIcon:w,expanded:R,pauseWhenPageIsHidden:b,cn:_})}))})):null};const G4=({...e})=>{const{theme:t="system"}=S4();return i.jsx(K4,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Q4=R_.useId||(()=>{}),Y4=0;function nn(e){const[t,r]=m.useState(Q4());return Ot(()=>{r(n=>n??String(Y4++))},[e]),t?`radix-${t}`:""}const Z4=["top","right","bottom","left"],Ua=Math.min,$r=Math.max,Of=Math.round,xd=Math.floor,Ba=e=>({x:e,y:e}),X4={left:"right",right:"left",bottom:"top",top:"bottom"},J4={start:"end",end:"start"};function Xg(e,t,r){return $r(e,Ua(t,r))}function Vs(e,t){return typeof e=="function"?e(t):e}function Ws(e){return e.split("-")[0]}function Al(e){return e.split("-")[1]}function ix(e){return e==="x"?"y":"x"}function lx(e){return e==="y"?"height":"width"}function Va(e){return["top","bottom"].includes(Ws(e))?"y":"x"}function cx(e){return ix(Va(e))}function e5(e,t,r){r===void 0&&(r=!1);const n=Al(e),s=cx(e),a=lx(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=If(o)),[o,If(o)]}function t5(e){const t=If(e);return[Jg(e),t,Jg(t)]}function Jg(e){return e.replace(/start|end/g,t=>J4[t])}function r5(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:o;default:return[]}}function n5(e,t,r,n){const s=Al(e);let a=r5(Ws(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Jg)))),a}function If(e){return e.replace(/left|right|bottom|top/g,t=>X4[t])}function s5(e){return{top:0,right:0,bottom:0,left:0,...e}}function jj(e){return typeof e!="number"?s5(e):{top:e,right:e,bottom:e,left:e}}function Lf(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function mb(e,t,r){let{reference:n,floating:s}=e;const a=Va(t),o=cx(t),l=lx(o),c=Ws(t),u=a==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-s.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Al(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const a5=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=mb(u,n,c),h=n,p={},g=0;for(let v=0;v<l.length;v++){const{name:w,fn:y}=l[v],{x,y:b,data:_,reset:S}=await y({x:f,y:d,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});f=x??f,d=b??d,p={...p,[w]:{...p[w],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:f,y:d}=mb(u,h,c)),v=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:p}};async function lu(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Vs(t,e),g=jj(p),w=l[h?d==="floating"?"reference":"floating":d],y=Lf(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),x=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Lf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-S.top+g.top)/_.y,bottom:(S.bottom-y.bottom+g.bottom)/_.y,left:(y.left-S.left+g.left)/_.x,right:(S.right-y.right+g.right)/_.x}}const o5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Vs(e,t)||{};if(u==null)return{};const d=jj(f),h={x:r,y:n},p=cx(s),g=lx(p),v=await o.getDimensions(u),w=p==="y",y=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",_=a.reference[g]+a.reference[p]-h[p]-a.floating[g],S=h[p]-a.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=j?j[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=l.floating[b]||a.floating[g]);const N=_/2-S/2,k=C/2-v[g]/2-1,R=Ua(d[y],k),D=Ua(d[x],k),A=R,U=C-v[g]-D,I=C/2-v[g]/2+N,W=Xg(A,I,U),V=!c.arrow&&Al(s)!=null&&I!==W&&a.reference[g]/2-(I<A?R:D)-v[g]/2<0,F=V?I<A?I-A:I-U:0;return{[p]:h[p]+F,data:{[p]:W,centerOffset:I-W-F,...V&&{alignmentOffset:F}},reset:V}}}),i5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...w}=Vs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Ws(s),x=Va(l),b=Ws(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!v?[If(l)]:t5(l)),j=g!=="none";!h&&j&&S.push(...n5(l,v,g,_));const C=[l,...S],N=await lu(t,w),k=[];let R=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&k.push(N[y]),d){const I=e5(s,o,_);k.push(N[I[0]],N[I[1]])}if(R=[...R,{placement:s,overflows:k}],!k.every(I=>I<=0)){var D,A;const I=(((D=a.flip)==null?void 0:D.index)||0)+1,W=C[I];if(W)return{data:{index:I,overflows:R},reset:{placement:W}};let V=(A=R.filter(F=>F.overflows[0]<=0).sort((F,E)=>F.overflows[1]-E.overflows[1])[0])==null?void 0:A.placement;if(!V)switch(p){case"bestFit":{var U;const F=(U=R.filter(E=>{if(j){const M=Va(E.placement);return M===x||M==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(M=>M>0).reduce((M,H)=>M+H,0)]).sort((E,M)=>E[1]-M[1])[0])==null?void 0:U[0];F&&(V=F);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function pb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gb(e){return Z4.some(t=>e[t]>=0)}const l5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Vs(e,t);switch(n){case"referenceHidden":{const a=await lu(t,{...s,elementContext:"reference"}),o=pb(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gb(o)}}}case"escaped":{const a=await lu(t,{...s,altBoundary:!0}),o=pb(a,r.floating);return{data:{escapedOffsets:o,escaped:gb(o)}}}default:return{}}}}};async function c5(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ws(r),l=Al(r),c=Va(r)==="y",u=["left","top"].includes(o)?-1:1,f=a&&c?-1:1,d=Vs(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const u5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await c5(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},d5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...c}=Vs(e,t),u={x:r,y:n},f=await lu(t,c),d=Va(Ws(s)),h=ix(d);let p=u[h],g=u[d];if(a){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=p+f[w],b=p-f[y];p=Xg(x,p,b)}if(o){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=g+f[w],b=g-f[y];g=Xg(x,g,b)}const v=l.fn({...t,[h]:p,[d]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:a,[d]:o}}}}}},f5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Vs(e,t),f={x:r,y:n},d=Va(s),h=ix(d);let p=f[h],g=f[d];const v=Vs(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=h==="y"?"height":"width",_=a.reference[h]-a.floating[b]+w.mainAxis,S=a.reference[h]+a.reference[b]-w.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var y,x;const b=h==="y"?"width":"height",_=["top","left"].includes(Ws(s)),S=a.reference[d]-a.floating[b]+(_&&((y=o.offset)==null?void 0:y[d])||0)+(_?0:w.crossAxis),j=a.reference[d]+a.reference[b]+(_?0:((x=o.offset)==null?void 0:x[d])||0)-(_?w.crossAxis:0);g<S?g=S:g>j&&(g=j)}return{[h]:p,[d]:g}}}},h5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Vs(e,t),f=await lu(t,u),d=Ws(s),h=Al(s),p=Va(s)==="y",{width:g,height:v}=a.floating;let w,y;d==="top"||d==="bottom"?(w=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,w=h==="end"?"top":"bottom");const x=v-f.top-f.bottom,b=g-f.left-f.right,_=Ua(v-f[w],x),S=Ua(g-f[y],b),j=!t.middlewareData.shift;let C=_,N=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),j&&!h){const R=$r(f.left,0),D=$r(f.right,0),A=$r(f.top,0),U=$r(f.bottom,0);p?N=g-2*(R!==0||D!==0?R+D:$r(f.left,f.right)):C=v-2*(A!==0||U!==0?A+U:$r(f.top,f.bottom))}await c({...t,availableWidth:N,availableHeight:C});const k=await o.getDimensions(l.floating);return g!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Bh(){return typeof window<"u"}function Ol(e){return Nj(e)?(e.nodeName||"").toLowerCase():"#document"}function Ur(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hs(e){var t;return(t=(Nj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Nj(e){return Bh()?e instanceof Node||e instanceof Ur(e).Node:!1}function Mn(e){return Bh()?e instanceof Element||e instanceof Ur(e).Element:!1}function ls(e){return Bh()?e instanceof HTMLElement||e instanceof Ur(e).HTMLElement:!1}function vb(e){return!Bh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ur(e).ShadowRoot}function Iu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Dn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function m5(e){return["table","td","th"].includes(Ol(e))}function Vh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ux(e){const t=dx(),r=Mn(e)?Dn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function p5(e){let t=Wa(e);for(;ls(t)&&!ml(t);){if(ux(t))return t;if(Vh(t))return null;t=Wa(t)}return null}function dx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ml(e){return["html","body","#document"].includes(Ol(e))}function Dn(e){return Ur(e).getComputedStyle(e)}function Wh(e){return Mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wa(e){if(Ol(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vb(e)&&e.host||hs(e);return vb(t)?t.host:t}function kj(e){const t=Wa(e);return ml(t)?e.ownerDocument?e.ownerDocument.body:e.body:ls(t)&&Iu(t)?t:kj(t)}function cu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=kj(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Ur(s);if(a){const l=ev(o);return t.concat(o,o.visualViewport||[],Iu(s)?s:[],l&&r?cu(l):[])}return t.concat(s,cu(s,[],r))}function ev(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ej(e){const t=Dn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ls(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Of(r)!==a||Of(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function fx(e){return Mn(e)?e:e.contextElement}function Fi(e){const t=fx(e);if(!ls(t))return Ba(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Ej(t);let o=(a?Of(r.width):r.width)/n,l=(a?Of(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const g5=Ba(0);function Tj(e){const t=Ur(e);return!dx()||!t.visualViewport?g5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function v5(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ur(e)?!1:t}function Io(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=fx(e);let o=Ba(1);t&&(n?Mn(n)&&(o=Fi(n)):o=Fi(e));const l=v5(a,r,n)?Tj(a):Ba(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,f=s.width/o.x,d=s.height/o.y;if(a){const h=Ur(a),p=n&&Mn(n)?Ur(n):n;let g=h,v=ev(g);for(;v&&n&&p!==g;){const w=Fi(v),y=v.getBoundingClientRect(),x=Dn(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,_=y.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,d*=w.y,c+=b,u+=_,g=Ur(v),v=ev(g)}}return Lf({width:f,height:d,x:c,y:u})}function y5(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=hs(n),l=t?Vh(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Ba(1);const f=Ba(0),d=ls(n);if((d||!d&&!a)&&((Ol(n)!=="body"||Iu(o))&&(c=Wh(n)),ls(n))){const h=Io(n);u=Fi(n),f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x,y:r.y*u.y-c.scrollTop*u.y+f.y}}function x5(e){return Array.from(e.getClientRects())}function tv(e,t){const r=Wh(e).scrollLeft;return t?t.left+r:Io(hs(e)).left+r}function w5(e){const t=hs(e),r=Wh(e),n=e.ownerDocument.body,s=$r(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=$r(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+tv(e);const l=-r.scrollTop;return Dn(n).direction==="rtl"&&(o+=$r(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function b5(e,t){const r=Ur(e),n=hs(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=dx();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function _5(e,t){const r=Io(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=ls(e)?Fi(e):Ba(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function yb(e,t,r){let n;if(t==="viewport")n=b5(e,r);else if(t==="document")n=w5(hs(e));else if(Mn(t))n=_5(t,r);else{const s=Tj(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Lf(n)}function Pj(e,t){const r=Wa(e);return r===t||!Mn(r)||ml(r)?!1:Dn(r).position==="fixed"||Pj(r,t)}function S5(e,t){const r=t.get(e);if(r)return r;let n=cu(e,[],!1).filter(l=>Mn(l)&&Ol(l)!=="body"),s=null;const a=Dn(e).position==="fixed";let o=a?Wa(e):e;for(;Mn(o)&&!ml(o);){const l=Dn(o),c=ux(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Iu(o)&&!c&&Pj(e,o))?n=n.filter(f=>f!==o):s=l,o=Wa(o)}return t.set(e,n),n}function C5(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Vh(t)?[]:S5(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const d=yb(t,f,s);return u.top=$r(d.top,u.top),u.right=Ua(d.right,u.right),u.bottom=Ua(d.bottom,u.bottom),u.left=$r(d.left,u.left),u},yb(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function j5(e){const{width:t,height:r}=Ej(e);return{width:t,height:r}}function N5(e,t,r){const n=ls(t),s=hs(t),a=r==="fixed",o=Io(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ba(0);if(n||!n&&!a)if((Ol(t)!=="body"||Iu(s))&&(l=Wh(t)),n){const p=Io(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=tv(s));let u=0,f=0;if(s&&!n&&!a){const p=s.getBoundingClientRect();f=p.top+l.scrollTop,u=p.left+l.scrollLeft-tv(s,p)}const d=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-f;return{x:d,y:h,width:o.width,height:o.height}}function mp(e){return Dn(e).position==="static"}function xb(e,t){if(!ls(e)||Dn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hs(e)===r&&(r=r.ownerDocument.body),r}function Rj(e,t){const r=Ur(e);if(Vh(e))return r;if(!ls(e)){let s=Wa(e);for(;s&&!ml(s);){if(Mn(s)&&!mp(s))return s;s=Wa(s)}return r}let n=xb(e,t);for(;n&&m5(n)&&mp(n);)n=xb(n,t);return n&&ml(n)&&mp(n)&&!ux(n)?r:n||p5(e)||r}const k5=async function(e){const t=this.getOffsetParent||Rj,r=this.getDimensions,n=await r(e.floating);return{reference:N5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function E5(e){return Dn(e).direction==="rtl"}const T5={convertOffsetParentRelativeRectToViewportRelativeRect:y5,getDocumentElement:hs,getClippingRect:C5,getOffsetParent:Rj,getElementRects:k5,getClientRects:x5,getDimensions:j5,getScale:Fi,isElement:Mn,isRTL:E5};function P5(e,t){let r=null,n;const s=hs(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:f,width:d,height:h}=e.getBoundingClientRect();if(l||t(),!d||!h)return;const p=xd(f),g=xd(s.clientWidth-(u+d)),v=xd(s.clientHeight-(f+h)),w=xd(u),x={rootMargin:-p+"px "+-g+"px "+-v+"px "+-w+"px",threshold:$r(0,Ua(1,c))||1};let b=!0;function _(S){const j=S[0].intersectionRatio;if(j!==c){if(!b)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return o(!0),a}function R5(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=fx(e),f=s||a?[...u?cu(u):[],...cu(t)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const d=u&&l?P5(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,v=c?Io(e):null;c&&w();function w(){const y=Io(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&r(),v=y,g=requestAnimationFrame(w)}return r(),()=>{var y;f.forEach(x=>{s&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const M5=u5,D5=d5,A5=i5,O5=h5,I5=l5,wb=o5,L5=f5,$5=(e,t,r)=>{const n=new Map,s={platform:T5,...r},a={...s.platform,_c:n};return a5(e,t,{...s,platform:a})};var Qd=typeof document<"u"?m.useLayoutEffect:m.useEffect;function $f(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$f(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!$f(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Mj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bb(e,t){const r=Mj(e);return Math.round(t*r)/r}function pp(e){const t=m.useRef(e);return Qd(()=>{t.current=e}),t}function F5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);$f(h,n)||p(n);const[g,v]=m.useState(null),[w,y]=m.useState(null),x=m.useCallback(E=>{E!==j.current&&(j.current=E,v(E))},[]),b=m.useCallback(E=>{E!==C.current&&(C.current=E,y(E))},[]),_=a||g,S=o||w,j=m.useRef(null),C=m.useRef(null),N=m.useRef(f),k=c!=null,R=pp(c),D=pp(s),A=pp(u),U=m.useCallback(()=>{if(!j.current||!C.current)return;const E={placement:t,strategy:r,middleware:h};D.current&&(E.platform=D.current),$5(j.current,C.current,E).then(M=>{const H={...M,isPositioned:A.current!==!1};I.current&&!$f(N.current,H)&&(N.current=H,Ho.flushSync(()=>{d(H)}))})},[h,t,r,D,A]);Qd(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(E=>({...E,isPositioned:!1})))},[u]);const I=m.useRef(!1);Qd(()=>(I.current=!0,()=>{I.current=!1}),[]),Qd(()=>{if(_&&(j.current=_),S&&(C.current=S),_&&S){if(R.current)return R.current(_,S,U);U()}},[_,S,U,R,k]);const W=m.useMemo(()=>({reference:j,floating:C,setReference:x,setFloating:b}),[x,b]),V=m.useMemo(()=>({reference:_,floating:S}),[_,S]),F=m.useMemo(()=>{const E={position:r,left:0,top:0};if(!V.floating)return E;const M=bb(V.floating,f.x),H=bb(V.floating,f.y);return l?{...E,transform:"translate("+M+"px, "+H+"px)",...Mj(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:H}},[r,l,V.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:U,refs:W,elements:V,floatingStyles:F}),[f,U,W,V,F])}const z5=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?wb({element:n.current,padding:s}).fn(r):{}:n?wb({element:n,padding:s}).fn(r):{}}}},U5=(e,t)=>({...M5(e),options:[e,t]}),B5=(e,t)=>({...D5(e),options:[e,t]}),V5=(e,t)=>({...L5(e),options:[e,t]}),W5=(e,t)=>({...A5(e),options:[e,t]}),q5=(e,t)=>({...O5(e),options:[e,t]}),H5=(e,t)=>({...I5(e),options:[e,t]}),K5=(e,t)=>({...z5(e),options:[e,t]});var G5="Arrow",Dj=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(ue.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dj.displayName=G5;var Q5=Dj;function Y5(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:p,...g}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=m.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,f]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Z5(s,...t)]}function Z5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function hx(e){const[t,r]=m.useState(void 0);return Ot(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var mx="Popper",[Aj,Ya]=Y5(mx),[X5,Oj]=Aj(mx),Ij=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return i.jsx(X5,{scope:t,anchor:n,onAnchorChange:s,children:r})};Ij.displayName=mx;var Lj="PopperAnchor",$j=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Oj(Lj,r),o=m.useRef(null),l=je(t,o);return m.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(ue.div,{...s,ref:l})});$j.displayName=Lj;var px="PopperContent",[J5,eI]=Aj(px),Fj=m.forwardRef((e,t)=>{var oe,Ce,Oe,Te,De,$e;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,w=Oj(px,r),[y,x]=m.useState(null),b=je(t,de=>x(de)),[_,S]=m.useState(null),j=hx(_),C=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,k=n+(a!=="center"?"-"+a:""),R=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(u)?u:[u],A=D.length>0,U={padding:R,boundary:D.filter(rI),altBoundary:A},{refs:I,floatingStyles:W,placement:V,isPositioned:F,middlewareData:E}=F5({strategy:"fixed",placement:k,whileElementsMounted:(...de)=>R5(...de,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[U5({mainAxis:s+N,alignmentAxis:o}),c&&B5({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?V5():void 0,...U}),c&&W5({...U}),q5({...U,apply:({elements:de,rects:Et,availableWidth:Hr,availableHeight:zt})=>{const{width:$n,height:T}=Et.reference,O=de.floating.style;O.setProperty("--radix-popper-available-width",`${Hr}px`),O.setProperty("--radix-popper-available-height",`${zt}px`),O.setProperty("--radix-popper-anchor-width",`${$n}px`),O.setProperty("--radix-popper-anchor-height",`${T}px`)}}),_&&K5({element:_,padding:l}),nI({arrowWidth:C,arrowHeight:N}),h&&H5({strategy:"referenceHidden",...U})]}),[M,H]=Bj(V),K=ct(g);Ot(()=>{F&&(K==null||K())},[F,K]);const te=(oe=E.arrow)==null?void 0:oe.x,ne=(Ce=E.arrow)==null?void 0:Ce.y,ye=((Oe=E.arrow)==null?void 0:Oe.centerOffset)!==0,[He,xe]=m.useState();return Ot(()=>{y&&xe(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:F?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,"--radix-popper-transform-origin":[(Te=E.transformOrigin)==null?void 0:Te.x,(De=E.transformOrigin)==null?void 0:De.y].join(" "),...(($e=E.hide)==null?void 0:$e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(J5,{scope:r,placedSide:M,onArrowChange:S,arrowX:te,arrowY:ne,shouldHideArrow:ye,children:i.jsx(ue.div,{"data-side":M,"data-align":H,...v,ref:b,style:{...v.style,animation:F?void 0:"none"}})})})});Fj.displayName=px;var zj="PopperArrow",tI={top:"bottom",right:"left",bottom:"top",left:"right"},Uj=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=eI(zj,n),o=tI[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Q5,{...s,ref:r,style:{...s.style,display:"block"}})})});Uj.displayName=zj;function rI(e){return e!==null}var nI=e=>({name:"transformOrigin",options:e,fn(t){var w,y,x;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=Bj(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=o?d:`${h}px`,v=`${-c}px`):u==="top"?(g=o?d:`${h}px`,v=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=o?d:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,v=o?d:`${p}px`),{data:{x:g,y:v}}}});function Bj(e){const[t,r="center"]=e.split("-");return[t,r]}var qh=Ij,Lu=$j,Hh=Fj,Kh=Uj,[Gh,jG]=Dr("Tooltip",[Ya]),Qh=Ya(),Vj="TooltipProvider",sI=700,rv="tooltip.open",[aI,gx]=Gh(Vj),Wj=e=>{const{__scopeTooltip:t,delayDuration:r=sI,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[o,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),i.jsx(aI,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:a})};Wj.displayName=Vj;var Yh="Tooltip",[oI,Zh]=Gh(Yh),qj=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=gx(Yh,e.__scopeTooltip),u=Qh(t),[f,d]=m.useState(null),h=nn(),p=m.useRef(0),g=o??c.disableHoverableContent,v=l??c.delayDuration,w=m.useRef(!1),[y=!1,x]=Rn({prop:n,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(rv))):c.onClose(),a==null||a(C)}}),b=m.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),_=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,x(!0)},[x]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),j=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,x(!0),p.current=0},v)},[v,x]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),i.jsx(qh,{...u,children:i.jsx(oI,{scope:t,contentId:h,open:y,stateAttribute:b,trigger:f,onTriggerChange:d,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?j():_()},[c.isOpenDelayed,j,_]),onTriggerLeave:m.useCallback(()=>{g?S():(window.clearTimeout(p.current),p.current=0)},[S,g]),onOpen:_,onClose:S,disableHoverableContent:g,children:r})})};qj.displayName=Yh;var nv="TooltipTrigger",Hj=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Zh(nv,r),a=gx(nv,r),o=Qh(r),l=m.useRef(null),c=je(t,l,s.onTriggerChange),u=m.useRef(!1),f=m.useRef(!1),d=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),i.jsx(Lu,{asChild:!0,...o,children:i.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:G(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:G(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:G(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:G(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:G(e.onBlur,s.onClose),onClick:G(e.onClick,s.onClose)})})});Hj.displayName=nv;var iI="TooltipPortal",[NG,lI]=Gh(iI,{forceMount:void 0}),pl="TooltipContent",Kj=m.forwardRef((e,t)=>{const r=lI(pl,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=Zh(pl,e.__scopeTooltip);return i.jsx(It,{present:n||o.open,children:o.disableHoverableContent?i.jsx(Gj,{side:s,...a,ref:t}):i.jsx(cI,{side:s,...a,ref:t})})}),cI=m.forwardRef((e,t)=>{const r=Zh(pl,e.__scopeTooltip),n=gx(pl,e.__scopeTooltip),s=m.useRef(null),a=je(t,s),[o,l]=m.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:d}=n,h=m.useCallback(()=>{l(null),d(!1)},[d]),p=m.useCallback((g,v)=>{const w=g.currentTarget,y={x:g.clientX,y:g.clientY},x=hI(y,w.getBoundingClientRect()),b=mI(y,x),_=pI(v.getBoundingClientRect()),S=vI([...b,..._]);l(S),d(!0)},[d]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&f){const g=w=>p(w,f),v=w=>p(w,c);return c.addEventListener("pointerleave",g),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),f.removeEventListener("pointerleave",v)}}},[c,f,p,h]),m.useEffect(()=>{if(o){const g=v=>{const w=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),b=!gI(y,o);x?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,f,o,u,h]),i.jsx(Gj,{...e,ref:a})}),[uI,dI]=Gh(Yh,{isInside:!1}),Gj=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Zh(pl,r),u=Qh(r),{onClose:f}=c;return m.useEffect(()=>(document.addEventListener(rv,f),()=>document.removeEventListener(rv,f)),[f]),m.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),i.jsx(Ko,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:i.jsxs(Hh,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Yy,{children:n}),i.jsx(uI,{scope:r,isInside:!0,children:i.jsx(kA,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Kj.displayName=pl;var Qj="TooltipArrow",fI=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Qh(r);return dI(Qj,r).isInside?null:i.jsx(Kh,{...s,...n,ref:t})});fI.displayName=Qj;function hI(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function mI(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function pI(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function gI(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,f=t[o].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function vI(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),yI(t)}function yI(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var xI=Wj,wI=qj,bI=Hj,Yj=Kj;const vx=xI,Zj=wI,Xj=bI,yx=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(Yj,{ref:n,sideOffset:t,className:B("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));yx.displayName=Yj.displayName;var Il=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lo=typeof window>"u"||"Deno"in globalThis;function Zr(){}function _I(e,t){return typeof e=="function"?e(t):e}function sv(e){return typeof e=="number"&&e>=0&&e!==1/0}function Jj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zi(e,t){return typeof e=="function"?e(t):e}function Sn(e,t){return typeof e=="function"?e(t):e}function _b(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==xx(o,t.options))return!1}else if(!uu(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Sb(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if($o(t.options.mutationKey)!==$o(a))return!1}else if(!uu(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function xx(e,t){return((t==null?void 0:t.queryKeyHashFn)||$o)(e)}function $o(e){return JSON.stringify(e,(t,r)=>av(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function uu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!uu(e[r],t[r])):!1}function eN(e,t){if(e===t)return e;const r=Cb(e)&&Cb(t);if(r||av(e)&&av(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const f=r?u:a[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=eN(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function Ff(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Cb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function av(e){if(!jb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jb(e){return Object.prototype.toString.call(e)==="[object Object]"}function SI(e){return new Promise(t=>{setTimeout(t,e)})}function ov(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?eN(e,t):t}function CI(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function jI(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var wx=Symbol();function tN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var bo,ga,Ki,u_,NI=(u_=class extends Il{constructor(){super();ge(this,bo);ge(this,ga);ge(this,Ki);ae(this,Ki,t=>{if(!Lo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){P(this,ga)||this.setEventListener(P(this,Ki))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,ga))==null||t.call(this),ae(this,ga,void 0))}setEventListener(t){var r;ae(this,Ki,t),(r=P(this,ga))==null||r.call(this),ae(this,ga,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){P(this,bo)!==t&&(ae(this,bo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof P(this,bo)=="boolean"?P(this,bo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},bo=new WeakMap,ga=new WeakMap,Ki=new WeakMap,u_),bx=new NI,Gi,va,Qi,d_,kI=(d_=class extends Il{constructor(){super();ge(this,Gi,!0);ge(this,va);ge(this,Qi);ae(this,Qi,t=>{if(!Lo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){P(this,va)||this.setEventListener(P(this,Qi))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,va))==null||t.call(this),ae(this,va,void 0))}setEventListener(t){var r;ae(this,Qi,t),(r=P(this,va))==null||r.call(this),ae(this,va,t(this.setOnline.bind(this)))}setOnline(t){P(this,Gi)!==t&&(ae(this,Gi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return P(this,Gi)}},Gi=new WeakMap,va=new WeakMap,Qi=new WeakMap,d_),zf=new kI;function iv(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function EI(e){return Math.min(1e3*2**e,3e4)}function rN(e){return(e??"online")==="online"?zf.isOnline():!0}var nN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gp(e){return e instanceof nN}function sN(e){let t=!1,r=0,n=!1,s;const a=iv(),o=v=>{var w;n||(h(new nN(v)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>bx.isFocused()&&(e.networkMode==="always"||zf.isOnline())&&e.canRun(),f=()=>rN(e.networkMode)&&e.canRun(),d=v=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,v),s==null||s(),a.resolve(v))},h=v=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,v),s==null||s(),a.reject(v))},p=()=>new Promise(v=>{var w;s=y=>{(n||u())&&v(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(n)return;let v;const w=r===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(d).catch(y=>{var j;if(n)return;const x=e.retry??(Lo?0:3),b=e.retryDelay??EI,_=typeof b=="function"?b(r,y):b,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!S){h(y);return}r++,(j=e.onFail)==null||j.call(e,r,y),SI(_).then(()=>u()?void 0:p()).then(()=>{t?h(y):g()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?g():p().then(g),a)}}function TI(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Dt=TI(),_o,f_,aN=(f_=class{constructor(){ge(this,_o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sv(this.gcTime)&&ae(this,_o,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lo?1/0:5*60*1e3))}clearGcTimeout(){P(this,_o)&&(clearTimeout(P(this,_o)),ae(this,_o,void 0))}},_o=new WeakMap,f_),Yi,Zi,Yr,Zt,bu,So,xn,_s,h_,PI=(h_=class extends aN{constructor(t){super();ge(this,xn);ge(this,Yi);ge(this,Zi);ge(this,Yr);ge(this,Zt);ge(this,bu);ge(this,So);ae(this,So,!1),ae(this,bu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,Yr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,Yi,RI(this.options)),this.state=t.state??P(this,Yi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Zt))==null?void 0:t.promise}setOptions(t){this.options={...P(this,bu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Yr).remove(this)}setData(t,r){const n=ov(this.state.data,t,this.options);return Ae(this,xn,_s).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ae(this,xn,_s).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=P(this,Zt))==null?void 0:n.promise;return(s=P(this,Zt))==null||s.cancel(t),r?r.then(Zr).catch(Zr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,Yi))}isActive(){return this.observers.some(t=>Sn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Jj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Zt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Zt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,Yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(P(this,Zt)&&(P(this,So)?P(this,Zt).cancel({revert:!0}):P(this,Zt).cancelRetry()),this.scheduleGc()),P(this,Yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,xn,_s).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,Zt))return P(this,Zt).continueRetry(),P(this,Zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ae(this,So,!0),n.signal)})},a=()=>{const d=tN(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),ae(this,So,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),ae(this,Zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Ae(this,xn,_s).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,p,g,v;gp(d)&&d.silent||Ae(this,xn,_s).call(this,{type:"error",error:d}),gp(d)||((p=(h=P(this,Yr).config).onError)==null||p.call(h,d,this),(v=(g=P(this,Yr).config).onSettled)==null||v.call(g,this.state.data,d,this)),this.scheduleGc()};return ae(this,Zt,sN({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,p,g,v;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){l(w);return}(p=(h=P(this,Yr).config).onSuccess)==null||p.call(h,d,this),(v=(g=P(this,Yr).config).onSettled)==null||v.call(g,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{Ae(this,xn,_s).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{Ae(this,xn,_s).call(this,{type:"pause"})},onContinue:()=>{Ae(this,xn,_s).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),P(this,Zt).start()}},Yi=new WeakMap,Zi=new WeakMap,Yr=new WeakMap,Zt=new WeakMap,bu=new WeakMap,So=new WeakMap,xn=new WeakSet,_s=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...oN(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return gp(s)&&s.revert&&P(this,Zi)?{...P(this,Zi),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),P(this,Yr).notify({query:this,type:"updated",action:t})})},h_);function oN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Hn,m_,MI=(m_=class extends Il{constructor(t={}){super();ge(this,Hn);this.config=t,ae(this,Hn,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??xx(s,r);let o=this.get(a);return o||(o=new PI({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){P(this,Hn).has(t.queryHash)||(P(this,Hn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=P(this,Hn).get(t.queryHash);r&&(t.destroy(),r===t&&P(this,Hn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,Hn).get(t)}getAll(){return[...P(this,Hn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>_b(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>_b(t,n)):r}notify(t){Dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hn=new WeakMap,m_),Kn,sr,Co,Gn,sa,p_,DI=(p_=class extends aN{constructor(t){super();ge(this,Gn);ge(this,Kn);ge(this,sr);ge(this,Co);this.mutationId=t.mutationId,ae(this,sr,t.mutationCache),ae(this,Kn,[]),this.state=t.state||iN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,Kn).includes(t)||(P(this,Kn).push(t),this.clearGcTimeout(),P(this,sr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,Kn,P(this,Kn).filter(r=>r!==t)),this.scheduleGc(),P(this,sr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,Kn).length||(this.state.status==="pending"?this.scheduleGc():P(this,sr).remove(this))}continue(){var t;return((t=P(this,Co))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,u,f,d,h,p,g,v,w,y,x,b,_,S,j,C;ae(this,Co,sN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{Ae(this,Gn,sa).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{Ae(this,Gn,sa).call(this,{type:"pause"})},onContinue:()=>{Ae(this,Gn,sa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,sr).canRun(this)}));const r=this.state.status==="pending",n=!P(this,Co).canStart();try{if(!r){Ae(this,Gn,sa).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=P(this,sr).config).onMutate)==null?void 0:a.call(s,t,this));const k=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));k!==this.state.context&&Ae(this,Gn,sa).call(this,{type:"pending",context:k,variables:t,isPaused:n})}const N=await P(this,Co).start();return await((u=(c=P(this,sr).config).onSuccess)==null?void 0:u.call(c,N,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,N,t,this.state.context)),await((p=(h=P(this,sr).config).onSettled)==null?void 0:p.call(h,N,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,t,this.state.context)),Ae(this,Gn,sa).call(this,{type:"success",data:N}),N}catch(N){try{throw await((y=(w=P(this,sr).config).onError)==null?void 0:y.call(w,N,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,N,t,this.state.context)),await((S=(_=P(this,sr).config).onSettled)==null?void 0:S.call(_,void 0,N,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,N,t,this.state.context)),N}finally{Ae(this,Gn,sa).call(this,{type:"error",error:N})}}finally{P(this,sr).runNext(this)}}},Kn=new WeakMap,sr=new WeakMap,Co=new WeakMap,Gn=new WeakSet,sa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{P(this,Kn).forEach(n=>{n.onMutationUpdate(t)}),P(this,sr).notify({mutation:this,type:"updated",action:t})})},p_);function iN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Or,_u,g_,AI=(g_=class extends Il{constructor(t={}){super();ge(this,Or);ge(this,_u);this.config=t,ae(this,Or,new Map),ae(this,_u,Date.now())}build(t,r,n){const s=new DI({mutationCache:this,mutationId:++Xu(this,_u)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=wd(t),n=P(this,Or).get(r)??[];n.push(t),P(this,Or).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=wd(t);if(P(this,Or).has(r)){const s=(n=P(this,Or).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?P(this,Or).delete(r):P(this,Or).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=P(this,Or).get(wd(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=P(this,Or).get(wd(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...P(this,Or).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Sb(r,n))}findAll(t={}){return this.getAll().filter(r=>Sb(t,r))}notify(t){Dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Dt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Zr))))}},Or=new WeakMap,_u=new WeakMap,g_);function wd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Nb(e){return{onFetch:(t,r)=>{var f,d,h,p,g;const n=t.options,s=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=tN(t.options,t.fetchOptions),x=async(b,_,S)=>{if(v)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const j={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};w(j);const C=await y(j),{maxPages:N}=t.options,k=S?jI:CI;return{pages:k(b.pages,C,N),pageParams:k(b.pageParams,_,N)}};if(s&&a.length){const b=s==="backward",_=b?OI:kb,S={pages:a,pageParams:o},j=_(n,S);l=await x(S,j,b)}else{const b=e??a.length;do{const _=c===0?o[0]??n.initialPageParam:kb(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function kb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function OI(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var gt,ya,xa,Xi,Ji,wa,el,tl,v_,II=(v_=class{constructor(e={}){ge(this,gt);ge(this,ya);ge(this,xa);ge(this,Xi);ge(this,Ji);ge(this,wa);ge(this,el);ge(this,tl);ae(this,gt,e.queryCache||new MI),ae(this,ya,e.mutationCache||new AI),ae(this,xa,e.defaultOptions||{}),ae(this,Xi,new Map),ae(this,Ji,new Map),ae(this,wa,0)}mount(){Xu(this,wa)._++,P(this,wa)===1&&(ae(this,el,bx.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,gt).onFocus())})),ae(this,tl,zf.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,gt).onOnline())})))}unmount(){var e,t;Xu(this,wa)._--,P(this,wa)===0&&((e=P(this,el))==null||e.call(this),ae(this,el,void 0),(t=P(this,tl))==null||t.call(this),ae(this,tl,void 0))}isFetching(e){return P(this,gt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,ya).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,gt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=P(this,gt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(zi(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return P(this,gt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=P(this,gt).get(n.queryHash),a=s==null?void 0:s.state.data,o=_I(t,a);if(o!==void 0)return P(this,gt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Dt.batch(()=>P(this,gt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,gt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=P(this,gt);Dt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=P(this,gt),n={type:"active",...e};return Dt.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Dt.batch(()=>P(this,gt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Zr).catch(Zr)}invalidateQueries(e={},t={}){return Dt.batch(()=>{if(P(this,gt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Dt.batch(()=>P(this,gt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Zr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Zr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=P(this,gt).build(this,t);return r.isStaleByTime(zi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zr).catch(Zr)}fetchInfiniteQuery(e){return e.behavior=Nb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zr).catch(Zr)}ensureInfiniteQueryData(e){return e.behavior=Nb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zf.isOnline()?P(this,ya).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,gt)}getMutationCache(){return P(this,ya)}getDefaultOptions(){return P(this,xa)}setDefaultOptions(e){ae(this,xa,e)}setQueryDefaults(e,t){P(this,Xi).set($o(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,Xi).values()];let r={};return t.forEach(n=>{uu(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){P(this,Ji).set($o(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,Ji).values()];let r={};return t.forEach(n=>{uu(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,xa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===wx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,xa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,gt).clear(),P(this,ya).clear()}},gt=new WeakMap,ya=new WeakMap,xa=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,wa=new WeakMap,el=new WeakMap,tl=new WeakMap,v_),yr,Ve,Su,ar,jo,rl,ba,Qn,Cu,nl,sl,No,ko,_a,al,Ge,xc,lv,cv,uv,dv,fv,hv,mv,lN,y_,LI=(y_=class extends Il{constructor(t,r){super();ge(this,Ge);ge(this,yr);ge(this,Ve);ge(this,Su);ge(this,ar);ge(this,jo);ge(this,rl);ge(this,ba);ge(this,Qn);ge(this,Cu);ge(this,nl);ge(this,sl);ge(this,No);ge(this,ko);ge(this,_a);ge(this,al,new Set);this.options=r,ae(this,yr,t),ae(this,Qn,null),ae(this,ba,iv()),this.options.experimental_prefetchInRender||P(this,ba).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Ve).addObserver(this),Eb(P(this,Ve),this.options)?Ae(this,Ge,xc).call(this):this.updateResult(),Ae(this,Ge,dv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pv(P(this,Ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pv(P(this,Ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,Ge,fv).call(this),Ae(this,Ge,hv).call(this),P(this,Ve).removeObserver(this)}setOptions(t,r){const n=this.options,s=P(this,Ve);if(this.options=P(this,yr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sn(this.options.enabled,P(this,Ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ae(this,Ge,mv).call(this),P(this,Ve).setOptions(this.options),n._defaulted&&!Ff(this.options,n)&&P(this,yr).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Ve),observer:this});const a=this.hasListeners();a&&Tb(P(this,Ve),s,this.options,n)&&Ae(this,Ge,xc).call(this),this.updateResult(r),a&&(P(this,Ve)!==s||Sn(this.options.enabled,P(this,Ve))!==Sn(n.enabled,P(this,Ve))||zi(this.options.staleTime,P(this,Ve))!==zi(n.staleTime,P(this,Ve)))&&Ae(this,Ge,lv).call(this);const o=Ae(this,Ge,cv).call(this);a&&(P(this,Ve)!==s||Sn(this.options.enabled,P(this,Ve))!==Sn(n.enabled,P(this,Ve))||o!==P(this,_a))&&Ae(this,Ge,uv).call(this,o)}getOptimisticResult(t){const r=P(this,yr).getQueryCache().build(P(this,yr),t),n=this.createResult(r,t);return FI(this,n)&&(ae(this,ar,n),ae(this,rl,this.options),ae(this,jo,P(this,Ve).state)),n}getCurrentResult(){return P(this,ar)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){P(this,al).add(t)}getCurrentQuery(){return P(this,Ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=P(this,yr).defaultQueryOptions(t),n=P(this,yr).getQueryCache().build(P(this,yr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ae(this,Ge,xc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,ar)))}createResult(t,r){var N;const n=P(this,Ve),s=this.options,a=P(this,ar),o=P(this,jo),l=P(this,rl),u=t!==n?t.state:P(this,Su),{state:f}=t;let d={...f},h=!1,p;if(r._optimisticResults){const k=this.hasListeners(),R=!k&&Eb(t,r),D=k&&Tb(t,n,r,s);(R||D)&&(d={...d,...oN(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:w}=d;if(r.select&&d.data!==void 0)if(a&&d.data===(o==null?void 0:o.data)&&r.select===P(this,Cu))p=P(this,nl);else try{ae(this,Cu,r.select),p=r.select(d.data),p=ov(a==null?void 0:a.data,p,r),ae(this,nl,p),ae(this,Qn,null)}catch(k){ae(this,Qn,k)}else p=d.data;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let k;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))k=a.data;else if(k=typeof r.placeholderData=="function"?r.placeholderData((N=P(this,sl))==null?void 0:N.state.data,P(this,sl)):r.placeholderData,r.select&&k!==void 0)try{k=r.select(k),ae(this,Qn,null)}catch(R){ae(this,Qn,R)}k!==void 0&&(w="success",p=ov(a==null?void 0:a.data,k,r),h=!0)}P(this,Qn)&&(g=P(this,Qn),p=P(this,nl),v=Date.now(),w="error");const y=d.fetchStatus==="fetching",x=w==="pending",b=w==="error",_=x&&y,S=p!==void 0,C={status:w,fetchStatus:d.fetchStatus,isPending:x,isSuccess:w==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:b&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:_x(t,r),refetch:this.refetch,promise:P(this,ba)};if(this.options.experimental_prefetchInRender){const k=A=>{C.status==="error"?A.reject(C.error):C.data!==void 0&&A.resolve(C.data)},R=()=>{const A=ae(this,ba,C.promise=iv());k(A)},D=P(this,ba);switch(D.status){case"pending":t.queryHash===n.queryHash&&k(D);break;case"fulfilled":(C.status==="error"||C.data!==D.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==D.reason)&&R();break}}return C}updateResult(t){const r=P(this,ar),n=this.createResult(P(this,Ve),this.options);if(ae(this,jo,P(this,Ve).state),ae(this,rl,this.options),P(this,jo).data!==void 0&&ae(this,sl,P(this,Ve)),Ff(n,r))return;ae(this,ar,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!P(this,al).size)return!0;const c=new Set(l??P(this,al));return this.options.throwOnError&&c.add("error"),Object.keys(P(this,ar)).some(u=>{const f=u;return P(this,ar)[f]!==r[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),Ae(this,Ge,lN).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,Ge,dv).call(this)}},yr=new WeakMap,Ve=new WeakMap,Su=new WeakMap,ar=new WeakMap,jo=new WeakMap,rl=new WeakMap,ba=new WeakMap,Qn=new WeakMap,Cu=new WeakMap,nl=new WeakMap,sl=new WeakMap,No=new WeakMap,ko=new WeakMap,_a=new WeakMap,al=new WeakMap,Ge=new WeakSet,xc=function(t){Ae(this,Ge,mv).call(this);let r=P(this,Ve).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Zr)),r},lv=function(){Ae(this,Ge,fv).call(this);const t=zi(this.options.staleTime,P(this,Ve));if(Lo||P(this,ar).isStale||!sv(t))return;const n=Jj(P(this,ar).dataUpdatedAt,t)+1;ae(this,No,setTimeout(()=>{P(this,ar).isStale||this.updateResult()},n))},cv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Ve)):this.options.refetchInterval)??!1},uv=function(t){Ae(this,Ge,hv).call(this),ae(this,_a,t),!(Lo||Sn(this.options.enabled,P(this,Ve))===!1||!sv(P(this,_a))||P(this,_a)===0)&&ae(this,ko,setInterval(()=>{(this.options.refetchIntervalInBackground||bx.isFocused())&&Ae(this,Ge,xc).call(this)},P(this,_a)))},dv=function(){Ae(this,Ge,lv).call(this),Ae(this,Ge,uv).call(this,Ae(this,Ge,cv).call(this))},fv=function(){P(this,No)&&(clearTimeout(P(this,No)),ae(this,No,void 0))},hv=function(){P(this,ko)&&(clearInterval(P(this,ko)),ae(this,ko,void 0))},mv=function(){const t=P(this,yr).getQueryCache().build(P(this,yr),this.options);if(t===P(this,Ve))return;const r=P(this,Ve);ae(this,Ve,t),ae(this,Su,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},lN=function(t){Dt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(P(this,ar))}),P(this,yr).getQueryCache().notify({query:P(this,Ve),type:"observerResultsUpdated"})})},y_);function $I(e,t){return Sn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Eb(e,t){return $I(e,t)||e.state.data!==void 0&&pv(e,t,t.refetchOnMount)}function pv(e,t,r){if(Sn(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&_x(e,t)}return!1}function Tb(e,t,r,n){return(e!==t||Sn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&_x(e,r)}function _x(e,t){return Sn(t.enabled,e)!==!1&&e.isStaleByTime(zi(t.staleTime,e))}function FI(e,t){return!Ff(e.getCurrentResult(),t)}var Sa,Ca,xr,Es,$s,Yd,gv,x_,zI=(x_=class extends Il{constructor(r,n){super();ge(this,$s);ge(this,Sa);ge(this,Ca);ge(this,xr);ge(this,Es);ae(this,Sa,r),this.setOptions(n),this.bindMethods(),Ae(this,$s,Yd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=P(this,Sa).defaultMutationOptions(r),Ff(this.options,n)||P(this,Sa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,xr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&$o(n.mutationKey)!==$o(this.options.mutationKey)?this.reset():((s=P(this,xr))==null?void 0:s.state.status)==="pending"&&P(this,xr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=P(this,xr))==null||r.removeObserver(this)}onMutationUpdate(r){Ae(this,$s,Yd).call(this),Ae(this,$s,gv).call(this,r)}getCurrentResult(){return P(this,Ca)}reset(){var r;(r=P(this,xr))==null||r.removeObserver(this),ae(this,xr,void 0),Ae(this,$s,Yd).call(this),Ae(this,$s,gv).call(this)}mutate(r,n){var s;return ae(this,Es,n),(s=P(this,xr))==null||s.removeObserver(this),ae(this,xr,P(this,Sa).getMutationCache().build(P(this,Sa),this.options)),P(this,xr).addObserver(this),P(this,xr).execute(r)}},Sa=new WeakMap,Ca=new WeakMap,xr=new WeakMap,Es=new WeakMap,$s=new WeakSet,Yd=function(){var n;const r=((n=P(this,xr))==null?void 0:n.state)??iN();ae(this,Ca,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},gv=function(r){Dt.batch(()=>{var n,s,a,o,l,c,u,f;if(P(this,Es)&&this.hasListeners()){const d=P(this,Ca).variables,h=P(this,Ca).context;(r==null?void 0:r.type)==="success"?((s=(n=P(this,Es)).onSuccess)==null||s.call(n,r.data,d,h),(o=(a=P(this,Es)).onSettled)==null||o.call(a,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((c=(l=P(this,Es)).onError)==null||c.call(l,r.error,d,h),(f=(u=P(this,Es)).onSettled)==null||f.call(u,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(P(this,Ca))})})},x_),cN=m.createContext(void 0),Ze=e=>{const t=m.useContext(cN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UI=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(cN.Provider,{value:e,children:t})),uN=m.createContext(!1),BI=()=>m.useContext(uN);uN.Provider;function VI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var WI=m.createContext(VI()),qI=()=>m.useContext(WI);function dN(e,t){return typeof e=="function"?e(...t):!!e}function fN(){}var HI=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},KI=e=>{m.useEffect(()=>{e.clearReset()},[e])},GI=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&dN(r,[e.error,n]),QI=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},YI=(e,t)=>e.isLoading&&e.isFetching&&!t,ZI=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Pb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function XI(e,t,r){var f,d,h,p,g;const n=Ze(),s=BI(),a=qI(),o=n.defaultQueryOptions(e);(d=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",QI(o),HI(o,a),KI(a);const l=!n.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(v=>{const w=s?()=>{}:c.subscribe(Dt.batchCalls(v));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),ZI(o,u))throw Pb(o,c,a);if(GI({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!Lo&&YI(u,s)){const v=l?Pb(o,c,a):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(fN).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function jt(e,t){return XI(e,LI)}function rt(e,t){const r=Ze(),[n]=m.useState(()=>new zI(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(Dt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=m.useCallback((o,l)=>{n.mutate(o,l).catch(fN)},[n]);if(s.error&&dN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(this,arguments)}var ka;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ka||(ka={}));const Rb="popstate";function JI(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return vv("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Uf(s)}return tL(t,r,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eL(){return Math.random().toString(36).substr(2,8)}function Mb(e,t){return{usr:e.state,key:e.key,idx:t}}function vv(e,t,r,n){return r===void 0&&(r=null),du({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ll(t):t,{state:r,key:t&&t.key||n||eL()})}function Uf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ll(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function tL(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=ka.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(du({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=ka.Pop;let w=f(),y=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:y})}function h(w,y){l=ka.Push;let x=vv(v.location,w,y);u=f()+1;let b=Mb(x,u),_=v.createHref(x);try{o.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}a&&c&&c({action:l,location:v.location,delta:1})}function p(w,y){l=ka.Replace;let x=vv(v.location,w,y);u=f();let b=Mb(x,u),_=v.createHref(x);o.replaceState(b,"",_),a&&c&&c({action:l,location:v.location,delta:0})}function g(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Uf(w);return x=x.replace(/ $/,"%20"),_t(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Rb,d),c=w,()=>{s.removeEventListener(Rb,d),c=null}},createHref(w){return t(s,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(w){return o.go(w)}};return v}var Db;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Db||(Db={}));function rL(e,t,r){return r===void 0&&(r="/"),nL(e,t,r,!1)}function nL(e,t,r,n){let s=typeof t=="string"?Ll(t):t,a=Sx(s.pathname||"/",r);if(a==null)return null;let o=mN(e);sL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=pL(a);l=hL(o[c],u,n)}return l}function mN(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ia([n,c.relativePath]),f=r.concat(c);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mN(a.children,t,f,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:dL(u,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of pN(a.path))s(a,o,c)}),t}function pN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=pN(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aL=/^:[\w-]+$/,oL=3,iL=2,lL=1,cL=10,uL=-2,Ab=e=>e==="*";function dL(e,t){let r=e.split("/"),n=r.length;return r.some(Ab)&&(n+=uL),t&&(n+=iL),r.filter(s=>!Ab(s)).reduce((s,a)=>s+(aL.test(a)?oL:a===""?lL:cL),n)}function fL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function hL(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",d=Ob({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Ob({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ia([a,d.pathname]),pathnameBase:xL(Ia([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Ia([a,d.pathnameBase]))}return o}function Ob(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mL(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let v=l[d]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[d];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function mL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),hN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function pL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function gL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ll(e):e;return{pathname:r?r.startsWith("/")?r:vL(r,t):t,search:wL(n),hash:bL(s)}}function vL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function vp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Cx(e,t){let r=yL(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jx(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ll(e):(s=du({},e),_t(!s.pathname||!s.pathname.includes("?"),vp("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),vp("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),vp("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=gL(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Ia=e=>e.join("/").replace(/\/\/+/g,"/"),xL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _L(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gN=["post","put","patch","delete"];new Set(gN);const SL=["get",...gN];new Set(SL);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(this,arguments)}const Nx=m.createContext(null),CL=m.createContext(null),Za=m.createContext(null),Xh=m.createContext(null),ms=m.createContext({outlet:null,matches:[],isDataRoute:!1}),vN=m.createContext(null);function jL(e,t){let{relative:r}=t===void 0?{}:t;$l()||_t(!1);let{basename:n,navigator:s}=m.useContext(Za),{hash:a,pathname:o,search:l}=xN(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ia([n,o])),s.createHref({pathname:c,search:l,hash:a})}function $l(){return m.useContext(Xh)!=null}function ps(){return $l()||_t(!1),m.useContext(Xh).location}function yN(e){m.useContext(Za).static||m.useLayoutEffect(e)}function qr(){let{isDataRoute:e}=m.useContext(ms);return e?UL():NL()}function NL(){$l()||_t(!1);let e=m.useContext(Nx),{basename:t,future:r,navigator:n}=m.useContext(Za),{matches:s}=m.useContext(ms),{pathname:a}=ps(),o=JSON.stringify(Cx(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return yN(()=>{l.current=!0}),m.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=jx(u,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ia([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,a,e])}const kL=m.createContext(null);function EL(e){let t=m.useContext(ms).outlet;return t&&m.createElement(kL.Provider,{value:e},t)}function TL(){let{matches:e}=m.useContext(ms),t=e[e.length-1];return t?t.params:{}}function xN(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Za),{matches:s}=m.useContext(ms),{pathname:a}=ps(),o=JSON.stringify(Cx(s,n.v7_relativeSplatPath));return m.useMemo(()=>jx(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function PL(e,t){return RL(e,t)}function RL(e,t,r,n){$l()||_t(!1);let{navigator:s,static:a}=m.useContext(Za),{matches:o}=m.useContext(ms),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let f=ps(),d;if(t){var h;let y=typeof t=="string"?Ll(t):t;u==="/"||(h=y.pathname)!=null&&h.startsWith(u)||_t(!1),d=y}else d=f;let p=d.pathname||"/",g=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=!a&&r&&r.matches&&r.matches.length>0?r.matches:rL(e,{pathname:g}),w=IL(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:Ia([u,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Ia([u,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&w?m.createElement(Xh.Provider,{value:{location:fu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ka.Pop}},w):w}function ML(){let e=zL(),t=_L(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const DL=m.createElement(ML,null);class AL extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(ms.Provider,{value:this.props.routeContext},m.createElement(vN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OL(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Nx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(ms.Provider,{value:t},n)}function IL(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||_t(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,g=!1,v=null,w=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,v=d.route.errorElement||DL,c&&(u<0&&h===0?(g=!0,w=null):u===h&&(g=!0,w=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),x=()=>{let b;return p?b=v:g?b=w:d.route.Component?b=m.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,m.createElement(OL,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?m.createElement(AL,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var wN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wN||{}),Bf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bf||{});function LL(e){let t=m.useContext(Nx);return t||_t(!1),t}function $L(e){let t=m.useContext(CL);return t||_t(!1),t}function FL(e){let t=m.useContext(ms);return t||_t(!1),t}function bN(e){let t=FL(),r=t.matches[t.matches.length-1];return r.route.id||_t(!1),r.route.id}function zL(){var e;let t=m.useContext(vN),r=$L(Bf.UseRouteError),n=bN(Bf.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function UL(){let{router:e}=LL(wN.UseNavigateStable),t=bN(Bf.UseNavigateStable),r=m.useRef(!1);return yN(()=>{r.current=!0}),m.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fu({fromRouteId:t},a)))},[e,t])}function BL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _N(e){let{to:t,replace:r,state:n,relative:s}=e;$l()||_t(!1);let{future:a,static:o}=m.useContext(Za),{matches:l}=m.useContext(ms),{pathname:c}=ps(),u=qr(),f=jx(t,Cx(l,a.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return m.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function VL(e){return EL(e.context)}function Vt(e){_t(!1)}function WL(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ka.Pop,navigator:a,static:o=!1,future:l}=e;$l()&&_t(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:o,future:fu({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Ll(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,v=m.useMemo(()=>{let w=Sx(f,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:g},navigationType:s}},[c,f,d,h,p,g,s]);return v==null?null:m.createElement(Za.Provider,{value:u},m.createElement(Xh.Provider,{children:r,value:v}))}function qL(e){let{children:t,location:r}=e;return PL(yv(t),r)}new Promise(()=>{});function yv(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let a=[...t,s];if(n.type===m.Fragment){r.push.apply(r,yv(n.props.children,a));return}n.type!==Vt&&_t(!1),!n.props.index||!n.props.children||_t(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yv(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}function HL(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function KL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GL(e,t){return e.button===0&&(!t||t==="_self")&&!KL(e)}const QL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YL="6";try{window.__reactRouterVersion=YL}catch{}const ZL="startTransition",Ib=R_[ZL];function XL(e){let{basename:t,children:r,future:n,window:s}=e,a=m.useRef();a.current==null&&(a.current=JI({window:s,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=m.useCallback(d=>{u&&Ib?Ib(()=>c(d)):c(d)},[c,u]);return m.useLayoutEffect(()=>o.listen(f),[o,f]),m.useEffect(()=>BL(n),[n]),m.createElement(WL,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const JL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fo=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=HL(t,QL),{basename:p}=m.useContext(Za),g,v=!1;if(typeof u=="string"&&e3.test(u)&&(g=u,JL))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=Sx(_.pathname,p);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:v=!0}catch{}let w=jL(u,{relative:s}),y=t3(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function x(b){n&&n(b),b.defaultPrevented||y(b)}return m.createElement("a",xv({},h,{href:g||w,onClick:v||a?n:x,ref:r,target:c}))});var Lb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lb||(Lb={}));var $b;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($b||($b={}));function t3(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=qr(),u=ps(),f=xN(e,{relative:o});return m.useCallback(d=>{if(GL(d,r)){d.preventDefault();let h=n!==void 0?n:Uf(u)===Uf(f);c(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,f,n,s,r,e,a,o,l])}const r3="modulepreload",n3=function(e){return"/"+e},Fb={},In=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=n3(c),c in Fb)return;Fb[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":r3,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},s3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>In(async()=>{const{default:n}=await Promise.resolve().then(()=>Fl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class kx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class a3 extends kx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class o3 extends kx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class i3 extends kx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wv||(wv={}));var l3=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class c3{constructor(t,{headers:r={},customFetch:n,region:s=wv.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=s3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return l3(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new a3(g)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new o3(f);if(!f.ok)throw new i3(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield f.json():h==="application/octet-stream"?p=yield f.blob():h==="text/event-stream"?p=f:h==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var _r={},Ex={},Jh={},$u={},em={},tm={},u3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gl=u3();const d3=gl.fetch,SN=gl.fetch.bind(gl),CN=gl.Headers,f3=gl.Request,h3=gl.Response,Fl=Object.freeze(Object.defineProperty({__proto__:null,Headers:CN,Request:f3,Response:h3,default:SN,fetch:d3},Symbol.toStringTag,{value:"Module"})),m3=NR(Fl);var rm={};Object.defineProperty(rm,"__esModule",{value:!0});let p3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};rm.default=p3;var jN=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tm,"__esModule",{value:!0});const g3=jN(m3),v3=jN(rm);let y3=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=g3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,f=null,d=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(f=[],u=null,h=200,p="OK")}catch{a.status===404&&v===""?(h=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new v3.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};tm.default=y3;var x3=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(em,"__esModule",{value:!0});const w3=x3(tm);let b3=class extends w3.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};em.default=b3;var _3=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($u,"__esModule",{value:!0});const S3=_3(em);let C3=class extends S3.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$u.default=C3;var j3=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jh,"__esModule",{value:!0});const cc=j3($u);let N3=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new cc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new cc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new cc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new cc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new cc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jh.default=N3;var nm={},sm={};Object.defineProperty(sm,"__esModule",{value:!0});sm.version=void 0;sm.version="0.0.0-automated";Object.defineProperty(nm,"__esModule",{value:!0});nm.DEFAULT_HEADERS=void 0;const k3=sm;nm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${k3.version}`};var NN=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ex,"__esModule",{value:!0});const E3=NN(Jh),T3=NN($u),P3=nm;let R3=class kN{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},P3.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new E3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new T3.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ex.default=R3;var zl=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_r,"__esModule",{value:!0});_r.PostgrestError=_r.PostgrestBuilder=_r.PostgrestTransformBuilder=_r.PostgrestFilterBuilder=_r.PostgrestQueryBuilder=_r.PostgrestClient=void 0;const EN=zl(Ex);_r.PostgrestClient=EN.default;const TN=zl(Jh);_r.PostgrestQueryBuilder=TN.default;const PN=zl($u);_r.PostgrestFilterBuilder=PN.default;const RN=zl(em);_r.PostgrestTransformBuilder=RN.default;const MN=zl(tm);_r.PostgrestBuilder=MN.default;const DN=zl(rm);_r.PostgrestError=DN.default;var M3=_r.default={PostgrestClient:EN.default,PostgrestQueryBuilder:TN.default,PostgrestFilterBuilder:PN.default,PostgrestTransformBuilder:RN.default,PostgrestBuilder:MN.default,PostgrestError:DN.default};const{PostgrestClient:D3,PostgrestQueryBuilder:DG,PostgrestFilterBuilder:AG,PostgrestTransformBuilder:OG,PostgrestBuilder:IG,PostgrestError:LG}=M3;let bv;typeof window>"u"?bv=require("ws"):bv=window.WebSocket;const A3=bv,O3="2.11.10",I3={"X-Client-Info":`realtime-js/${O3}`},L3="1.0.0",AN=1e4,$3=1e3;var Ui;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ui||(Ui={}));var nr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(nr||(nr={}));var bn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bn||(bn={}));var _v;(function(e){e.websocket="websocket"})(_v||(_v={}));var ho;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ho||(ho={}));class F3{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class ON{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Je||(Je={}));const zb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=z3(o,e,t,s),a),{})},z3=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?IN(a,o):Sv(o)},IN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return W3(t,r)}switch(e){case Je.bool:return U3(t);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return B3(t);case Je.json:case Je.jsonb:return V3(t);case Je.timestamp:return q3(t);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Sv(t);default:return Sv(t)}},Sv=e=>e,U3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},B3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},V3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},W3=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>IN(t,l))}return e},q3=e=>typeof e=="string"?e.replace(" ","T"):e,LN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yp{constructor(t,r,n={},s=AN){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ub;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ub||(Ub={}));class Ic{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ic.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Ic.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ic.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=a[u];if(d){const h=f.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),g=f.filter(w=>p.indexOf(w.presence_ref)<0),v=d.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(l[u]=g),v.length>0&&(c[u]=v)}else l[u]=f}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bb||(Bb={}));var Vb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vb||(Vb={}));var Ns;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ns||(Ns={}));class Tx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=nr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yp(this,bn.join,this.params,this.timeout),this.rejoinTimer=new ON(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=nr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ic(this),this.broadcastEndpointURL=LN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(f=>t==null?void 0:t(Ns.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Ns.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(Ns.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let v=0;v<p;v++){const w=h[v],{filter:{event:y,schema:x,table:b,filter:_}}=w,S=f&&f[v];if(S&&S.event===y&&S.schema===x&&S.table===b&&S.filter===_)g.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),this.state=nr.errored,t==null||t(Ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ns.SUBSCRIBED);return}}).receive("error",f=>{this.state=nr.errored,t==null||t(Ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=nr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new yp(this,bn.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yp(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=bn;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,v,w;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(v=p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var g,v,w,y,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:w,commit_timestamp:y,type:x,errors:b}=g;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===nr.closed}_isJoined(){return this.state===nr.joined}_isJoining(){return this.state===nr.joining}_isLeaving(){return this.state===nr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Tx.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bn.close,{},t)}_onError(t){this._on(bn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=zb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=zb(t.columns,t.old_record)),r}}const Wb=()=>{},H3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K3{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=I3,this.params={},this.timeout=AN,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wb,this.ref=0,this.logger=Wb,this.conn=null,this.sendBuffer=[],this.serializer=new F3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>In(async()=>{const{default:c}=await Promise.resolve().then(()=>Fl);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${_v.websocket}`,this.httpEndpoint=LN(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ON(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=A3),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new G3(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:L3}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return ho.Connecting;case Ui.open:return ho.Open;case Ui.closing:return ho.Closing;default:return ho.Closed}}isConnected(){return this.connectionState()===ho.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Tx(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(bn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close($3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(bn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([H3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class G3{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ui.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Px extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Q3 extends Px{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cv extends Px{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Y3=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $N=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>In(async()=>{const{default:n}=await Promise.resolve().then(()=>Fl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z3=()=>Y3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield In(()=>Promise.resolve().then(()=>Fl),void 0)).Response:Response}),jv=e=>{if(Array.isArray(e))return e.map(r=>jv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=jv(n)}),t};var Zo=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const xp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X3=(e,t,r)=>Zo(void 0,void 0,void 0,function*(){const n=yield Z3();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Q3(xp(s),e.status||500))}).catch(s=>{t(new Cv(xp(s),s))}):t(new Cv(xp(e),e))}),J3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Fu(e,t,r,n,s,a){return Zo(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,J3(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>X3(c,l,n))})})}function Vf(e,t,r,n){return Zo(this,void 0,void 0,function*(){return Fu(e,"GET",t,r,n)})}function da(e,t,r,n,s){return Zo(this,void 0,void 0,function*(){return Fu(e,"POST",t,n,s,r)})}function e$(e,t,r,n,s){return Zo(this,void 0,void 0,function*(){return Fu(e,"PUT",t,n,s,r)})}function t$(e,t,r,n){return Zo(this,void 0,void 0,function*(){return Fu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function FN(e,t,r,n,s){return Zo(this,void 0,void 0,function*(){return Fu(e,"DELETE",t,n,s,r)})}var vr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const r$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n${constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=$N(s)}uploadOrUpdate(t,r,n,s){return vr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},qb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Lt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return vr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:qb.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return vr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield da(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Px("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return vr(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return vr(this,void 0,void 0,function*(){try{return{data:{path:(yield da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return vr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield da(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return vr(this,void 0,void 0,function*(){try{const s=yield da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}download(t,r){return vr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Vf(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Lt(l))return{data:null,error:l};throw l}})}info(t){return vr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Vf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jv(n),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}exists(t){return vr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield t$(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Lt(n)&&n instanceof Cv){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return vr(this,void 0,void 0,function*(){try{return{data:yield FN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return vr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},r$),r),{prefix:t||""});return{data:yield da(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const s$="2.7.1",a$={"X-Client-Info":`storage-js/${s$}`};var ci=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class o${constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},a$),r),this.fetch=$N(n)}listBuckets(){return ci(this,void 0,void 0,function*(){try{return{data:yield Vf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return ci(this,void 0,void 0,function*(){try{return{data:yield Vf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ci(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ci(this,void 0,void 0,function*(){try{return{data:yield e$(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ci(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ci(this,void 0,void 0,function*(){try{return{data:yield FN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}}class i$ extends o${constructor(t,r={},n){super(t,r,n)}from(t){return new n$(this.url,this.headers,t,this.fetch)}}const l$="2.49.10";let wc="";typeof Deno<"u"?wc="deno":typeof document<"u"?wc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wc="react-native":wc="node";const c$={"X-Client-Info":`supabase-js-${wc}/${l$}`},u$={headers:c$},d$={schema:"public"},f$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h$={};var m$=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const p$=e=>{let t;return e?t=e:typeof fetch>"u"?t=SN:t=fetch,(...r)=>t(...r)},g$=()=>typeof Headers>"u"?CN:Headers,v$=(e,t,r)=>{const n=p$(r),s=g$();return(a,o)=>m$(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var y$=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function x$(e){return e.endsWith("/")?e:e+"/"}function w$(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>y$(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const zN="2.69.1",vi=30*1e3,Nv=3,wp=Nv*vi,b$="http://localhost:9999",_$="supabase.auth.token",S$={"X-Client-Info":`gotrue-js/${zN}`},kv="X-Supabase-Api-Version",UN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j$=6e5;class Rx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class N$ extends Rx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function k$(e){return Re(e)&&e.name==="AuthApiError"}class BN extends Rx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Xa extends Rx{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class aa extends Xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E$(e){return Re(e)&&e.name==="AuthSessionMissingError"}class bp extends Xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bd extends Xa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _d extends Xa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function T$(e){return Re(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hb extends Xa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ev extends Xa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function _p(e){return Re(e)&&e.name==="AuthRetryableFetchError"}class Kb extends Xa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Lc extends Xa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qb=` 	
\r=`.split(""),P$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Qb.length;t+=1)e[Qb[t].charCodeAt(0)]=-2;for(let t=0;t<Gb.length;t+=1)e[Gb[t].charCodeAt(0)]=t;return e})();function VN(e,t,r){const n=P$[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{D$(o,n,r)};for(let o=0;o<e.length;o+=1)VN(e.charCodeAt(o),s,a);return t.join("")}function R$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function M$(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}R$(n,t)}}function D$(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function A$(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)VN(e.charCodeAt(s),r,n);return new Uint8Array(t)}function O$(e){const t=[];return M$(e,r=>t.push(r)),new Uint8Array(t)}function I$(e){return Math.round(Date.now()/1e3)+e}function L$(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bn=()=>typeof window<"u"&&typeof document<"u",ao={tested:!1,writable:!1},$c=()=>{if(!Bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ao.tested)return ao.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ao.tested=!0,ao.writable=!0}catch{ao.tested=!0,ao.writable=!1}return ao.writable};function $$(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const WN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>In(async()=>{const{default:n}=await Promise.resolve().then(()=>Fl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},F$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Sd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cd=async(e,t)=>{await e.removeItem(t)};class am{constructor(){this.promise=new am.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}am.promiseConstructor=Promise;function Sp(e){const t=e.split(".");if(t.length!==3)throw new Lc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!C$.test(t[n]))throw new Lc("JWT not in base64url format");return{header:JSON.parse(Yb(t[0])),payload:JSON.parse(Yb(t[1])),signature:A$(t[2]),raw:{header:t[0],payload:t[1]}}}async function z$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function U$(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function B$(e){return("0"+e.toString(16)).substr(-2)}function V$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,B$).join("")}async function W$(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function q$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await W$(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ui(e,t,r=!1){const n=V$();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await qN(e,`${t}-code-verifier`,s);const a=await q$(n);return[a,n===a?"plain":"s256"]}const H$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function K$(e){const t=e.headers.get(kv);if(!t||!t.match(H$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function G$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Q$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Y$=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const co=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Z$=[502,503,504];async function Zb(e){var t;if(!F$(e))throw new Ev(co(e),0);if(Z$.includes(e.status))throw new Ev(co(e),e.status);let r;try{r=await e.json()}catch(a){throw new BN(co(a),a)}let n;const s=K$(e);if(s&&s.getTime()>=UN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Kb(co(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new aa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Kb(co(r),e.status,r.weak_password.reasons);throw new N$(co(r),e.status||500,n)}const X$=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ue(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[kv]||(a[kv]=UN["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await J$(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function J$(e,t,r,n,s,a){const o=X$(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Ev(co(c),0)}if(l.ok||await Zb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Zb(c)}}function oa(e){var t;let r=null;nF(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=I$(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Xb(e){const t=oa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ma(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eF(e){return{data:e,error:null}}function tF(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=Y$(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function rF(e){return e}function nF(e){return e.access_token&&e.refresh_token&&e.expires_in}var sF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class aF{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=WN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ma})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=sF(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:tF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ma})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:rF});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ma})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ma})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ma})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}}const oF={getItem:e=>$c()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$c()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$c()&&globalThis.localStorage.removeItem(e)}};function Jb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function iF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const di={debug:!!(globalThis&&$c()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class HN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lF extends HN{}async function cF(e,t,r){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(di.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}iF();const uF={url:b$,storageKey:_$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function e1(e,t,r){return await r()}class hu{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hu.nextInstanceID,hu.nextInstanceID+=1,this.instanceID>0&&Bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},uF),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new aF({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=WN(s.fetch),this.lock=s.lock||e1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Bn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cF:this.lock=e1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:$c()?this.storage=oF:(this.memoryStorage={},this.storage=Jb(this.memoryStorage)):(this.memoryStorage={},this.storage=Jb(this.memoryStorage)),Bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=$$(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Bn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),T$(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?{error:r}:{error:new BN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:oa}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Re(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ui(this.storage,this.storageKey)),a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:oa})}else if("phone"in t){const{phone:f,password:d,options:h}=t;a=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:oa})}else throw new bd("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Re(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xb})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xb})}else throw new bd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Sd(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:oa});if(await Cd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new bp}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(Re(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:oa}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new bp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ui(this.storage,this.storageKey));const{error:d}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new bd("You must provide either an email or phone number.")}catch(l){if(Re(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:oa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await ui(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:eF})}catch(a){if(Re(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new aa;const{error:s}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new bd("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Sd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ma}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:ma})})}catch(r){if(Re(r))return E$(r)&&(await this._removeSession(),await Cd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new aa;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ui(this.storage,this.storageKey));const{data:u,error:f}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ma});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new aa;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=Sp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new aa;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Bn())throw new _d("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _d(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _d("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hb("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new _d("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=vi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=h-d;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,f);const{data:v,error:w}=await this._getUser(a);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Sd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(k$(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Cd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=L$(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ui(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Re(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,f;const{data:d,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Bn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Re(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await U$(async s=>(s>0&&await z$(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oa})),(s,a)=>{const o=200*Math.pow(2,s);return a&&_p(a)&&Date.now()+o-n<vi})}catch(n){if(this._debug(r,"error",n),Re(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Bn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Sd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<wp;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${wp}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),_p(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new am;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new aa;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Re(a)){const o={session:null,error:a};return _p(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Cd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/vi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vi}ms, refresh threshold is ${Nv} ticks`),s<=Nv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof HN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await ui(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Sp(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+j$>Date.now()))return n;const{data:s,error:a}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Lc("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Lc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Sp(n);if(G$(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:o},error:null}}const u=Q$(s.alg),f=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,O$(`${l}.${c}`)))throw new Lc("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}}hu.nextInstanceID=0;const dF=hu;class fF extends dF{constructor(t){super(t)}}var hF=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?a(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class mF{constructor(t,r,n){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=x$(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:d$,realtime:h$,auth:Object.assign(Object.assign({},f$),{storageKey:u}),global:u$},d=w$(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=v$(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new D3(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new c3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new i$(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return hF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fF({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new K3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pF=(e,t,r)=>new mF(e,t,r),gF="https://vddpxkoycgawgdapigvl.supabase.co",vF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkZHB4a295Y2dhd2dkYXBpZ3ZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg4MDM4MzUsImV4cCI6MjA1NDM3OTgzNX0.2hudtSXcnmmLb1d9_I_6H7AWhI9Y_9p8PYkV7sIjgt0",$=pF(gF,vF),KN=m.createContext({}),Se=()=>{const e=m.useContext(KN);if(!e)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return e},yF=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(null),[a,o]=m.useState(!0);m.useEffect(()=>{$.auth.getSession().then(({data:{session:p}})=>{s(p),r((p==null?void 0:p.user)??null),o(!1)});const{data:{subscription:h}}=$.auth.onAuthStateChange((p,g)=>{console.log("Estado de autenticao mudou:",p),s(g),r((g==null?void 0:g.user)??null),o(!1)});return()=>h.unsubscribe()},[]);const l=async(h,p)=>{const{error:g}=await $.auth.signInWithPassword({email:h,password:p});if(g)throw console.error("Erro ao fazer login:",g.message),g},c=async(h,p)=>{const{error:g}=await $.auth.signUp({email:h,password:p,options:{emailRedirectTo:window.location.origin}});if(g)throw console.error("Erro ao criar conta:",g.message),g},u=async()=>{try{const{error:h}=await $.auth.signOut();if(h)throw h;r(null),s(null)}catch(h){throw console.error("Erro ao fazer logout:",h),h}},d={user:t,session:n,signIn:l,signUp:c,signOut:u,logout:u};return i.jsx(KN.Provider,{value:d,children:!a&&e})},GN=m.createContext({theme:"light",setTheme:async()=>{},isUpdating:!1}),xF=()=>{const e=m.useContext(GN);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},wF=({children:e})=>{const{user:t}=Se(),[r,n]=m.useState(()=>localStorage.getItem("theme")||"light"),[s,a]=m.useState(!1);m.useEffect(()=>{(async()=>{if(t)try{const{data:c,error:u}=await $.from("profiles").select("active_theme").eq("id",t.id).single();if(u)throw u;c&&c.active_theme&&(n(c.active_theme),localStorage.setItem("theme",c.active_theme))}catch(c){console.error("Error loading user theme:",c)}})()},[t]);const o=m.useCallback(async l=>{a(!0);try{if(n(l),localStorage.setItem("theme",l),document.documentElement.setAttribute("data-theme",l),t){const{error:c}=await $.from("profiles").update({active_theme:l}).eq("id",t.id);if(c)throw c}}catch(c){console.error("Error saving theme preference:",c)}finally{a(!1)}},[t]);return m.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),i.jsx(GN.Provider,{value:{theme:r,setTheme:o,isUpdating:s},children:e})},po=class po{constructor(){rr(this,"activeSubscriptions",new Map);rr(this,"subscriptionQueue",new Map)}static getInstance(){return po.instance||(po.instance=new po),po.instance}generateChannelKey(t){const r=t.filters.map(n=>`${n.event}-${n.table}`).sort().join("|");return`${t.channelName}-${r}`}subscribe(t,r){const n=this.generateChannelKey(t);console.log(` RealtimeManager: Subscribe request for ${n} by ${r}`),this.subscriptionQueue.has(n)&&(clearTimeout(this.subscriptionQueue.get(n)),this.subscriptionQueue.delete(n));const s=setTimeout(()=>{this.createOrUpdateSubscription(t,r,n),this.subscriptionQueue.delete(n)},100);return this.subscriptionQueue.set(n,s),()=>this.unsubscribe(n,r)}createOrUpdateSubscription(t,r,n){let s=this.activeSubscriptions.get(n);if(!s){const a=`${t.channelName}-${Date.now()}`;console.log(` RealtimeManager: Creating new channel ${a}`);let o=$.channel(a);t.filters.forEach(l=>{l.event==="*"?["INSERT","UPDATE","DELETE"].forEach(c=>{o=o.on("postgres_changes",{event:c,schema:l.schema||"public",table:l.table,filter:l.filter},u=>this.handlePayload(n,u))}):o=o.on("postgres_changes",{event:l.event,schema:l.schema||"public",table:l.table,filter:l.filter},c=>this.handlePayload(n,c))}),s={channel:o,config:t,isSubscribed:!1,subscribers:new Set},this.activeSubscriptions.set(n,s),o.subscribe(l=>{console.log(` RealtimeManager: Channel ${a} status: ${l}`),s&&(l==="SUBSCRIBED"?s.isSubscribed=!0:(l==="CLOSED"||l==="CHANNEL_ERROR")&&(s.isSubscribed=!1,s.subscribers.size===0&&this.activeSubscriptions.delete(n)))})}s.subscribers.add(r),console.log(` RealtimeManager: Added subscriber ${r} to ${n} (total: ${s.subscribers.size})`)}handlePayload(t,r){const n=this.activeSubscriptions.get(t);n&&n.config.onSubscriptionChange&&n.config.onSubscriptionChange(r)}unsubscribe(t,r){console.log(` RealtimeManager: Unsubscribe request for ${t} by ${r}`);const n=this.activeSubscriptions.get(t);if(n&&(n.subscribers.delete(r),console.log(` RealtimeManager: Removed subscriber ${r} from ${t} (remaining: ${n.subscribers.size})`),n.subscribers.size===0)){console.log(` RealtimeManager: Cleaning up channel ${t}`);try{$.removeChannel(n.channel)}catch(s){console.warn(` RealtimeManager: Error removing channel ${t}:`,s)}this.activeSubscriptions.delete(t)}}getSubscriptionStatus(t){const r=this.activeSubscriptions.get(t);return(r==null?void 0:r.isSubscribed)||!1}cleanup(){console.log(" RealtimeManager: Cleaning up all subscriptions"),this.subscriptionQueue.forEach(t=>clearTimeout(t)),this.subscriptionQueue.clear(),this.activeSubscriptions.forEach((t,r)=>{try{$.removeChannel(t.channel)}catch(n){console.warn(` RealtimeManager: Error removing channel ${r}:`,n)}}),this.activeSubscriptions.clear()}};rr(po,"instance");let Tv=po;const vl=Tv.getInstance(),bF=m.createContext(null),_F=({children:e})=>(m.useEffect(()=>()=>{vl.cleanup()},[]),i.jsx(bF.Provider,{value:{manager:vl},children:e})),Cp=768;function Ul(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Cp-1}px)`),n=()=>{t(window.innerWidth<Cp)};return r.addEventListener("change",n),t(window.innerWidth<Cp),()=>r.removeEventListener("change",n)},[]),!!e}const mu=Go("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?Er:"button";return i.jsx(o,{className:B(mu({variant:t,size:r,className:e})),ref:a,...s})});q.displayName="Button";const Le=m.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:B("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Le.displayName="Input";var SF="Separator",t1="horizontal",CF=["horizontal","vertical"],QN=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=t1,...s}=e,a=jF(n)?n:t1,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(ue.div,{"data-orientation":a,...l,...s,ref:t})});QN.displayName=SF;function jF(e){return CF.includes(e)}var YN=QN;const Mx=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(YN,{ref:s,decorative:r,orientation:t,className:B("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Mx.displayName=YN.displayName;var jp="focusScope.autoFocusOnMount",Np="focusScope.autoFocusOnUnmount",r1={bubbles:!1,cancelable:!0},NF="FocusScope",zu=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=ct(s),f=ct(a),d=m.useRef(null),h=je(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?d.current=_:ia(d.current,{select:!0})},w=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||ia(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&ia(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),x.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){s1.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(jp,r1);l.addEventListener(jp,u),l.dispatchEvent(y),y.defaultPrevented||(kF(MF(ZN(l)),{select:!0}),document.activeElement===v&&ia(l))}return()=>{l.removeEventListener(jp,u),setTimeout(()=>{const y=new CustomEvent(Np,r1);l.addEventListener(Np,f),l.dispatchEvent(y),y.defaultPrevented||ia(v??document.body,{select:!0}),l.removeEventListener(Np,f),s1.remove(p)},0)}}},[l,u,f,p]);const g=m.useCallback(v=>{if(!r&&!n||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(w&&y){const x=v.currentTarget,[b,_]=EF(x);b&&_?!v.shiftKey&&y===_?(v.preventDefault(),r&&ia(b,{select:!0})):v.shiftKey&&y===b&&(v.preventDefault(),r&&ia(_,{select:!0})):y===x&&v.preventDefault()}},[r,n,p.paused]);return i.jsx(ue.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});zu.displayName=NF;function kF(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ia(n,{select:t}),document.activeElement!==r)return}function EF(e){const t=ZN(e),r=n1(t,e),n=n1(t.reverse(),e);return[r,n]}function ZN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function n1(e,t){for(const r of e)if(!TF(r,{upTo:t}))return r}function TF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function PF(e){return e instanceof HTMLInputElement&&"select"in e}function ia(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&PF(e)&&t&&e.select()}}var s1=RF();function RF(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=a1(e,t),e.unshift(t)},remove(t){var r;e=a1(e,t),(r=e[0])==null||r.resume()}}}function a1(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function MF(e){return e.filter(t=>t.tagName!=="A")}var kp=0;function om(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??o1()),document.body.insertAdjacentElement("beforeend",e[1]??o1()),kp++,()=>{kp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kp--}},[])}function o1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xn=function(){return Xn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Xn.apply(this,arguments)};function XN(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function DF(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Zd="right-scroll-bar-position",Xd="width-before-scroll-bar",AF="with-scroll-bars-hidden",OF="--removed-body-scroll-bar-size";function Ep(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IF(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var LF=typeof window<"u"?m.useLayoutEffect:m.useEffect,i1=new WeakMap;function $F(e,t){var r=IF(null,function(n){return e.forEach(function(s){return Ep(s,n)})});return LF(function(){var n=i1.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||Ep(l,null)}),a.forEach(function(l){s.has(l)||Ep(l,o)})}i1.set(r,e)},[e]),r}function FF(e){return e}function zF(e,t){t===void 0&&(t=FF);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var f=o;o=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return s}function UF(e){e===void 0&&(e={});var t=zF(null);return t.options=Xn({async:!0,ssr:!1},e),t}var JN=function(e){var t=e.sideCar,r=XN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Xn({},r))};JN.isSideCarExport=!0;function BF(e,t){return e.useMedium(t),JN}var ek=UF(),Tp=function(){},im=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Tp,onWheelCapture:Tp,onTouchMoveCapture:Tp}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,x=e.gapMode,b=XN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,S=$F([r,t]),j=Xn(Xn({},b),s);return m.createElement(m.Fragment,null,f&&m.createElement(_,{sideCar:ek,removeScrollBar:u,shards:d,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:x}),o?m.cloneElement(m.Children.only(l),Xn(Xn({},j),{ref:S})):m.createElement(y,Xn({},j,{className:c,ref:S}),l))});im.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};im.classNames={fullWidth:Xd,zeroRight:Zd};var VF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VF();return t&&e.setAttribute("nonce",t),e}function qF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var KF=function(){var e=0,t=null;return{add:function(r){e==0&&(t=WF())&&(qF(t,r),HF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GF=function(){var e=KF();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},tk=function(){var e=GF(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},QF={left:0,top:0,right:0,gap:0},Pp=function(e){return parseInt(e||"",10)||0},YF=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Pp(r),Pp(n),Pp(s)]},ZF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QF;var t=YF(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},XF=tk(),Bi="data-scroll-locked",JF=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(AF,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zd,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xd,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zd," .").concat(Zd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bi,`] {
    `).concat(OF,": ").concat(l,`px;
  }
`)},l1=function(){var e=parseInt(document.body.getAttribute(Bi)||"0",10);return isFinite(e)?e:0},e8=function(){m.useEffect(function(){return document.body.setAttribute(Bi,(l1()+1).toString()),function(){var e=l1()-1;e<=0?document.body.removeAttribute(Bi):document.body.setAttribute(Bi,e.toString())}},[])},t8=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;e8();var a=m.useMemo(function(){return ZF(s)},[s]);return m.createElement(XF,{styles:JF(a,!t,s,r?"":"!important")})},Pv=!1;if(typeof window<"u")try{var jd=Object.defineProperty({},"passive",{get:function(){return Pv=!0,!0}});window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{Pv=!1}var fi=Pv?{passive:!1}:!1,r8=function(e){return e.tagName==="TEXTAREA"},rk=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!r8(e)&&r[t]==="visible")},n8=function(e){return rk(e,"overflowY")},s8=function(e){return rk(e,"overflowX")},c1=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=nk(e,n);if(s){var a=sk(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},a8=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},o8=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},nk=function(e,t){return e==="v"?n8(t):s8(t)},sk=function(e,t){return e==="v"?a8(t):o8(t)},i8=function(e,t){return e==="h"&&t==="rtl"?-1:1},l8=function(e,t,r,n,s){var a=i8(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,f=o>0,d=0,h=0;do{var p=sk(e,l),g=p[0],v=p[1],w=p[2],y=v-w-a*g;(g||y)&&nk(e,l)&&(d+=y,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!s)||!f&&(Math.abs(h)<1||!s))&&(u=!0),u},Nd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},u1=function(e){return[e.deltaX,e.deltaY]},d1=function(e){return e&&"current"in e?e.current:e},c8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},d8=0,hi=[];function f8(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(d8++)[0],a=m.useState(tk)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=DF([e.lockRef.current],(e.shards||[]).map(d1),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=Nd(v),x=r.current,b="deltaX"in v?v.deltaX:x[0]-y[0],_="deltaY"in v?v.deltaY:x[1]-y[1],S,j=v.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in v&&C==="h"&&j.type==="range")return!1;var N=c1(C,j);if(!N)return!0;if(N?S=C:(S=C==="v"?"h":"v",N=c1(C,j)),!N)return!1;if(!n.current&&"changedTouches"in v&&(b||_)&&(n.current=S),!S)return!0;var k=n.current||S;return l8(k,w,v,k==="h"?b:_,!0)},[]),c=m.useCallback(function(v){var w=v;if(!(!hi.length||hi[hi.length-1]!==a)){var y="deltaY"in w?u1(w):Nd(w),x=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&c8(S.delta,y)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(d1).filter(Boolean).filter(function(S){return S.contains(w.target)}),_=b.length>0?l(w,b[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(v,w,y,x){var b={name:v,delta:w,target:y,should:x,shadowParent:h8(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),f=m.useCallback(function(v){r.current=Nd(v),n.current=void 0},[]),d=m.useCallback(function(v){u(v.type,u1(v),v.target,l(v,e.lockRef.current))},[]),h=m.useCallback(function(v){u(v.type,Nd(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return hi.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,fi),document.addEventListener("touchmove",c,fi),document.addEventListener("touchstart",f,fi),function(){hi=hi.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,fi),document.removeEventListener("touchmove",c,fi),document.removeEventListener("touchstart",f,fi)}},[]);var p=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(a,{styles:u8(s)}):null,p?m.createElement(t8,{gapMode:e.gapMode}):null)}function h8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const m8=BF(ek,f8);var Uu=m.forwardRef(function(e,t){return m.createElement(im,Xn({},e,{ref:t,sideCar:m8}))});Uu.classNames=im.classNames;var p8=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},mi=new WeakMap,kd=new WeakMap,Ed={},Rp=0,ak=function(e){return e&&(e.host||ak(e.parentNode))},g8=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ak(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},v8=function(e,t,r,n){var s=g8(t,Array.isArray(e)?e:[e]);Ed[r]||(Ed[r]=new WeakMap);var a=Ed[r],o=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",v=(mi.get(h)||0)+1,w=(a.get(h)||0)+1;mi.set(h,v),a.set(h,w),o.push(h),v===1&&g&&kd.set(h,!0),w===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return f(t),l.clear(),Rp++,function(){o.forEach(function(d){var h=mi.get(d)-1,p=a.get(d)-1;mi.set(d,h),a.set(d,p),h||(kd.has(d)||d.removeAttribute(n),kd.delete(d)),p||d.removeAttribute(r)}),Rp--,Rp||(mi=new WeakMap,mi=new WeakMap,kd=new WeakMap,Ed={})}},lm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=p8(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),v8(n,s,r,"aria-hidden")):function(){return null}},Dx="Dialog",[ok,ik]=Dr(Dx),[y8,Ln]=ok(Dx),lk=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,f]=Rn({prop:n,defaultProp:s,onChange:a});return i.jsx(y8,{scope:t,triggerRef:l,contentRef:c,contentId:nn(),titleId:nn(),descriptionId:nn(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(d=>!d),[f]),modal:o,children:r})};lk.displayName=Dx;var ck="DialogTrigger",uk=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ln(ck,r),a=je(t,s.triggerRef);return i.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ix(s.open),...n,ref:a,onClick:G(e.onClick,s.onOpenToggle)})});uk.displayName=ck;var Ax="DialogPortal",[x8,dk]=ok(Ax,{forceMount:void 0}),fk=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Ln(Ax,t);return i.jsx(x8,{scope:t,forceMount:r,children:m.Children.map(n,o=>i.jsx(It,{present:r||a.open,children:i.jsx(Ml,{asChild:!0,container:s,children:o})}))})};fk.displayName=Ax;var Wf="DialogOverlay",hk=m.forwardRef((e,t)=>{const r=dk(Wf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ln(Wf,e.__scopeDialog);return a.modal?i.jsx(It,{present:n||a.open,children:i.jsx(w8,{...s,ref:t})}):null});hk.displayName=Wf;var w8=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ln(Wf,r);return i.jsx(Uu,{as:Er,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ue.div,{"data-state":Ix(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Fo="DialogContent",mk=m.forwardRef((e,t)=>{const r=dk(Fo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ln(Fo,e.__scopeDialog);return i.jsx(It,{present:n||a.open,children:a.modal?i.jsx(b8,{...s,ref:t}):i.jsx(_8,{...s,ref:t})})});mk.displayName=Fo;var b8=m.forwardRef((e,t)=>{const r=Ln(Fo,e.__scopeDialog),n=m.useRef(null),s=je(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return lm(a)},[]),i.jsx(pk,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:G(e.onFocusOutside,a=>a.preventDefault())})}),_8=m.forwardRef((e,t)=>{const r=Ln(Fo,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return i.jsx(pk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),pk=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Ln(Fo,r),c=m.useRef(null),u=je(t,c);return om(),i.jsxs(i.Fragment,{children:[i.jsx(zu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Ko,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ix(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(C8,{titleId:l.titleId}),i.jsx(N8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ox="DialogTitle",gk=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ln(Ox,r);return i.jsx(ue.h2,{id:s.titleId,...n,ref:t})});gk.displayName=Ox;var vk="DialogDescription",yk=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ln(vk,r);return i.jsx(ue.p,{id:s.descriptionId,...n,ref:t})});yk.displayName=vk;var xk="DialogClose",wk=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ln(xk,r);return i.jsx(ue.button,{type:"button",...n,ref:t,onClick:G(e.onClick,()=>s.onOpenChange(!1))})});wk.displayName=xk;function Ix(e){return e?"open":"closed"}var bk="DialogTitleWarning",[S8,_k]=cA(bk,{contentName:Fo,titleName:Ox,docsSlug:"dialog"}),C8=({titleId:e})=>{const t=_k(bk),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},j8="DialogDescriptionWarning",N8=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_k(j8).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},cm=lk,um=uk,dm=fk,Bl=hk,Vl=mk,Wl=gk,ql=yk,Bu=wk;const Lx=cm,k8=um,E8=dm,Sk=m.forwardRef(({className:e,...t},r)=>i.jsx(Bl,{className:B("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Sk.displayName=Bl.displayName;const T8=Go("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),fm=m.forwardRef(({side:e="right",className:t,children:r,...n},s)=>i.jsxs(E8,{children:[i.jsx(Sk,{}),i.jsxs(Vl,{ref:s,className:B(T8({side:e}),t),...n,children:[r,i.jsxs(Bu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Qa,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fm.displayName=Vl.displayName;const $x=({className:e,...t})=>i.jsx("div",{className:B("flex flex-col space-y-2 text-center sm:text-left",e),...t});$x.displayName="SheetHeader";const Fx=m.forwardRef(({className:e,...t},r)=>i.jsx(Wl,{ref:r,className:B("text-lg font-semibold text-foreground",e),...t}));Fx.displayName=Wl.displayName;const P8=m.forwardRef(({className:e,...t},r)=>i.jsx(ql,{ref:r,className:B("text-sm text-muted-foreground",e),...t}));P8.displayName=ql.displayName;function lr({className:e,...t}){return i.jsx("div",{className:B("animate-pulse rounded-md bg-muted",e),...t})}const R8="sidebar:state",M8=60*60*24*7,D8="16rem",A8="18rem",O8="3rem",I8="b",Ck=m.createContext(null);function hm(){const e=m.useContext(Ck);if(!e)throw new Error("useShadcnSidebar must be used within a SidebarProvider.");return e}const mm=m.forwardRef(({defaultOpen:e,open:t,onOpenChange:r,className:n,style:s,children:a,...o},l)=>{const c=Ul(),[u,f]=m.useState(!1),d=e!==void 0?e:!c,[h,p]=m.useState(d),g=t??h,v=m.useCallback(b=>{const _=typeof b=="function"?b(g):b;r?r(_):p(_),document.cookie=`${R8}=${_}; path=/; max-age=${M8}`},[r,g]),w=m.useCallback(()=>c?f(b=>!b):v(b=>!b),[c,v,f]);m.useEffect(()=>{const b=_=>{_.key===I8&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),w())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[w]);const y=g?"expanded":"collapsed",x=m.useMemo(()=>({state:y,open:g,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:f,toggleSidebar:w}),[y,g,v,c,u,f,w]);return i.jsx(Ck.Provider,{value:x,children:i.jsx(vx,{delayDuration:0,children:i.jsx("div",{style:{"--sidebar-width":D8,"--sidebar-width-icon":O8,...s},className:B("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:a})})})});mm.displayName="SidebarProvider";const jk=m.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...a},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:f}=hm();return r==="none"?i.jsx("div",{className:B("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...a,children:s}):l?i.jsx(Lx,{open:u,onOpenChange:f,...a,children:i.jsx(fm,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":A8},side:e,children:i.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):i.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[i.jsx("div",{className:B("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),i.jsx("div",{className:B("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:i.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});jk.displayName="Sidebar";const Nk=m.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=hm();return i.jsxs(q,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:B("h-7 w-7",e),onClick:a=>{t==null||t(a),s()},...r,children:[i.jsx(pO,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Nk.displayName="SidebarTrigger";const L8=m.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=hm();return i.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:B("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});L8.displayName="SidebarRail";const kk=m.forwardRef(({className:e,...t},r)=>i.jsx("main",{ref:r,className:B("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));kk.displayName="SidebarInset";const $8=m.forwardRef(({className:e,...t},r)=>i.jsx(Le,{ref:r,"data-sidebar":"input",className:B("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));$8.displayName="SidebarInput";const Ek=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"header",className:B("flex flex-col gap-2 p-2",e),...t}));Ek.displayName="SidebarHeader";const Tk=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"footer",className:B("flex flex-col gap-2 p-2",e),...t}));Tk.displayName="SidebarFooter";const F8=m.forwardRef(({className:e,...t},r)=>i.jsx(Mx,{ref:r,"data-sidebar":"separator",className:B("mx-2 w-auto bg-sidebar-border",e),...t}));F8.displayName="SidebarSeparator";const Pk=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"content",className:B("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Pk.displayName="SidebarContent";const Rk=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group",className:B("relative flex w-full min-w-0 flex-col p-2",e),...t}));Rk.displayName="SidebarGroup";const z8=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Er:"div";return i.jsx(s,{ref:n,"data-sidebar":"group-label",className:B("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});z8.displayName="SidebarGroupLabel";const U8=m.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Er:"button";return i.jsx(s,{ref:n,"data-sidebar":"group-action",className:B("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});U8.displayName="SidebarGroupAction";const Mk=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"group-content",className:B("w-full text-sm",e),...t}));Mk.displayName="SidebarGroupContent";const Dk=m.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu",className:B("flex w-full min-w-0 flex-col gap-1",e),...t}));Dk.displayName="SidebarMenu";const Ak=m.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,"data-sidebar":"menu-item",className:B("group/menu-item relative",e),...t}));Ak.displayName="SidebarMenuItem";const B8=Go("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ok=m.forwardRef(({asChild:e=!1,isActive:t=!0,variant:r="default",size:n="default",tooltip:s,className:a,...o},l)=>{const c=e?Er:"button",{isMobile:u,state:f}=hm(),d=i.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:B(B8({variant:r,size:n}),a),...o});return s?(typeof s=="string"&&(s={children:s}),i.jsxs(Zj,{children:[i.jsx(Xj,{asChild:!0,children:d}),i.jsx(yx,{side:"right",align:"center",hidden:f!=="collapsed"||u,...s})]})):d});Ok.displayName="SidebarMenuButton";const V8=m.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const a=t?Er:"button";return i.jsx(a,{ref:s,"data-sidebar":"menu-action",className:B("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});V8.displayName="SidebarMenuAction";const W8=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:B("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));W8.displayName="SidebarMenuBadge";const q8=m.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return i.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:B("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&i.jsx(lr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),i.jsx(lr,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});q8.displayName="SidebarMenuSkeleton";const H8=m.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:B("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));H8.displayName="SidebarMenuSub";const K8=m.forwardRef(({...e},t)=>i.jsx("li",{ref:t,...e}));K8.displayName="SidebarMenuSubItem";const G8=m.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},a)=>{const o=e?Er:"a";return i.jsx(o,{ref:a,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:B("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});G8.displayName="SidebarMenuSubButton";/*! Capacitor: https://capacitorjs.com/ - MIT License */var yl;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(yl||(yl={}));class Mp extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const Q8=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Y8=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},s=()=>t!==null?t.name:Q8(e),a=()=>s()!=="web",o=d=>{const h=u.get(d);return!!(h!=null&&h.platforms.has(s())||l(d))},l=d=>{var h;return(h=r.PluginHeaders)===null||h===void 0?void 0:h.find(p=>p.name===d)},c=d=>e.console.error(d),u=new Map,f=(d,h={})=>{const p=u.get(d);if(p)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),p.proxy;const g=s(),v=l(d);let w;const y=async()=>(!w&&g in h?w=typeof h[g]=="function"?w=await h[g]():w=h[g]:t!==null&&!w&&"web"in h&&(w=typeof h.web=="function"?w=await h.web():w=h.web),w),x=(N,k)=>{var R,D;if(v){const A=v==null?void 0:v.methods.find(U=>k===U.name);if(A)return A.rtype==="promise"?U=>r.nativePromise(d,k.toString(),U):(U,I)=>r.nativeCallback(d,k.toString(),U,I);if(N)return(R=N[k])===null||R===void 0?void 0:R.bind(N)}else{if(N)return(D=N[k])===null||D===void 0?void 0:D.bind(N);throw new Mp(`"${d}" plugin is not implemented on ${g}`,yl.Unimplemented)}},b=N=>{let k;const R=(...D)=>{const A=y().then(U=>{const I=x(U,N);if(I){const W=I(...D);return k=W==null?void 0:W.remove,W}else throw new Mp(`"${d}.${N}()" is not implemented on ${g}`,yl.Unimplemented)});return N==="addListener"&&(A.remove=async()=>k()),A};return R.toString=()=>`${N.toString()}() { [capacitor code] }`,Object.defineProperty(R,"name",{value:N,writable:!1,configurable:!1}),R},_=b("addListener"),S=b("removeListener"),j=(N,k)=>{const R=_({eventName:N},k),D=async()=>{const U=await R;S({eventName:N,callbackId:U},k)},A=new Promise(U=>R.then(()=>U({remove:D})));return A.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await D()},A},C=new Proxy({},{get(N,k){switch(k){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?j:_;case"removeListener":return S;default:return b(k)}}});return n[d]=C,u.set(d,{name:d,proxy:C,platforms:new Set([...Object.keys(h),...v?[g]:[]])}),C};return r.convertFileSrc||(r.convertFileSrc=d=>d),r.getPlatform=s,r.handleError=c,r.isNativePlatform=a,r.isPluginAvailable=o,r.registerPlugin=f,r.Exception=Mp,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},Z8=e=>e.Capacitor=Y8(e),en=Z8(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),gs=en.registerPlugin;class Ik{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const s=this.listeners[t];if(!s){if(n){let a=this.retainedEventArguments[t];a||(a=[]),a.push(r),this.retainedEventArguments[t]=a}return}s.forEach(a=>a(r))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new en.Exception(t,yl.Unimplemented)}unavailable(t="not available"){return new en.Exception(t,yl.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const s=n.indexOf(r);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const f1=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),h1=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class X8 extends Ik{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[s,a]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=h1(s).trim(),a=h1(a).trim(),r[s]=a}),r}async setCookie(t){try{const r=f1(t.key),n=f1(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${a}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}gs("CapacitorCookies",{web:()=>new X8});const J8=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(e)}),e6=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,a,o)=>(s[a]=e[t[o]],s),{})},t6=(e,t=!0)=>e?Object.entries(e).reduce((n,s)=>{const[a,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${a}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${a}=${l}`),`${n}&${c}`},"").substr(1):null,r6=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),s=e6(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))a.set(o,l);r.body=a.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{a.append(c,l)});else for(const l of Object.keys(e.data))a.append(l,e.data[l]);r.body=a;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class n6 extends Ik{async request(t){const r=r6(t,t.webFetchExtra),n=t6(t.params,t.shouldEncodeUrlParams),s=n?`${t.url}?${n}`:t.url,a=await fetch(s,r),o=a.headers.get("content-type")||"";let{responseType:l="text"}=a.ok?t:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await a.blob(),c=await J8(u);break;case"json":c=await a.json();break;case"document":case"text":default:c=await a.text()}const f={};return a.headers.forEach((d,h)=>{f[h]=d}),{data:c,headers:f,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}gs("CapacitorHttp",{web:()=>new n6});var Rv;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(Rv||(Rv={}));var m1;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(m1||(m1={}));const p1=gs("StatusBar");var g1;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(g1||(g1={}));var v1;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(v1||(v1={}));const Td=gs("Keyboard"),s6=gs("SplashScreen",{web:()=>In(()=>import("./web-CM-EzYO0.js"),[]).then(e=>new e.SplashScreenWeb)}),a6=gs("Share",{web:()=>In(()=>import("./web-C7GsQrYs.js"),[]).then(e=>new e.ShareWeb)}),o6=gs("Toast",{web:()=>In(()=>import("./web-C5wgOaGF.js"),[]).then(e=>new e.ToastWeb)}),i6=gs("Device",{web:()=>In(()=>import("./web-DvKLcgLk.js"),[]).then(e=>new e.DeviceWeb)}),Mv=gs("Network",{web:()=>In(()=>import("./web-COP4DIDi.js"),[]).then(e=>new e.NetworkWeb)});var Fc;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(Fc||(Fc={}));var y1;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(y1||(y1={}));const l6=gs("Haptics",{web:()=>In(()=>import("./web-BJbak58K.js"),[]).then(e=>new e.HapticsWeb)}),go=class go{static getInstance(){return go.instance||(go.instance=new go),go.instance}async initialize(){if(en.isNativePlatform())try{await p1.setStyle({style:Rv.Dark}),await p1.setBackgroundColor({color:"#8B5CF6"}),await s6.hide(),Td.addListener("keyboardWillShow",t=>{document.body.style.setProperty("--keyboard-height",`${t.keyboardHeight}px`)}),Td.addListener("keyboardWillHide",()=>{document.body.style.removeProperty("--keyboard-height")}),console.log(" Servios nativos inicializados")}catch(t){console.error(" Erro ao inicializar servios nativos:",t)}}async shareContent(t,r,n){if(!en.isNativePlatform())return navigator.share?navigator.share({title:t,text:r,url:n}):void 0;try{await a6.share({title:t,text:r,url:n})}catch(s){console.error("Erro ao compartilhar:",s)}}async showToast(t,r="short"){if(en.isNativePlatform())try{await o6.show({text:t,duration:r})}catch(n){console.error("Erro ao mostrar toast:",n)}}async hapticFeedback(t="medium"){if(en.isNativePlatform())try{const r={light:Fc.Light,medium:Fc.Medium,heavy:Fc.Heavy}[t];await l6.impact({style:r})}catch(r){console.error("Erro no feedback hptico:",r)}}async getNetworkStatus(){try{return await Mv.getStatus()}catch(t){return console.error("Erro ao verificar rede:",t),{connected:!0,connectionType:"unknown"}}}async getDeviceInfo(){try{return await i6.getInfo()}catch(t){return console.error("Erro ao obter info do dispositivo:",t),null}}async hideKeyboard(){if(en.isNativePlatform())try{await Td.hide()}catch(t){console.error("Erro ao esconder teclado:",t)}}async showKeyboard(){if(en.isNativePlatform())try{await Td.show()}catch(t){console.error("Erro ao mostrar teclado:",t)}}};rr(go,"instance");let Dv=go;const la=Dv.getInstance(),pm=({className:e,...t})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:B("animate-spin",e),...t,children:i.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),c6=({children:e})=>{const{user:t}=Se(),r=ps(),[n,s]=m.useState(!0);return m.useEffect(()=>{const a=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(a)},[]),n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(pm,{className:"w-8 h-8"}),i.jsx("p",{className:"text-muted-foreground",children:"Verificando autenticao..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(_N,{to:"/login",state:{from:r},replace:!0})};var zx="Avatar",[u6,$G]=Dr(zx),[d6,Lk]=u6(zx),$k=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=m.useState("idle");return i.jsx(d6,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(ue.span,{...n,ref:t})})});$k.displayName=zx;var Fk="AvatarImage",zk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=Lk(Fk,r),l=f6(n,a.referrerPolicy),c=ct(u=>{s(u),o.onImageLoadingStatusChange(u)});return Ot(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ue.img,{...a,ref:t,src:n}):null});zk.displayName=Fk;var Uk="AvatarFallback",Bk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=Lk(Uk,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(ue.span,{...s,ref:t}):null});Bk.displayName=Uk;function f6(e,t){const[r,n]=m.useState("idle");return Ot(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var Vk=$k,Wk=zk,qk=Bk;const hr=m.forwardRef(({className:e,...t},r)=>i.jsx(Vk,{ref:r,className:B("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));hr.displayName=Vk.displayName;const mr=m.forwardRef(({className:e,...t},r)=>i.jsx(Wk,{ref:r,className:B("aspect-square h-full w-full",e),...t}));mr.displayName=Wk.displayName;const pr=m.forwardRef(({className:e,...t},r)=>i.jsx(qk,{ref:r,className:B("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));pr.displayName=qk.displayName;function Hk(){var o,l,c,u,f;const e=ps(),t=qr(),{user:r,signOut:n}=Se(),s=async()=>{try{await n(),t("/login")}catch(d){console.error("Erro ao fazer logout:",d)}},a=[{icon:cj,label:"Dashboard",href:"/dashboard"},{icon:Po,label:"Transaes",href:"/transactions"},{icon:Is,label:"Metas",href:"/goals"},{icon:xO,label:"Faturadas",href:"/invoiced"},{icon:AO,label:"Despesas",href:"/expenses"},{icon:mj,label:"Clientes",href:"/clients"},{icon:nx,label:"Comunidade",href:"/social"},{icon:Af,label:"Configuraes",href:"/settings"}];return i.jsxs(jk,{className:"border-r bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[i.jsx(Ek,{className:"border-b px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx(sO,{className:"h-5 w-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"CandleLife"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gesto Financeira"})]})]})}),i.jsx(Pk,{className:"px-4 py-6",children:i.jsx(Rk,{children:i.jsx(Mk,{children:i.jsx(Dk,{children:a.map(d=>i.jsx(Ak,{children:i.jsx(Ok,{asChild:!0,isActive:e.pathname===d.href,className:"w-full justify-start gap-3 px-3 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground data-[active=true]:bg-accent data-[active=true]:text-accent-foreground",children:i.jsxs(fo,{to:d.href,className:"flex items-center gap-3",children:[i.jsx(d.icon,{className:"h-4 w-4"}),d.label]})})},d.href))})})})}),i.jsx(Tk,{className:"border-t px-6 py-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(hr,{className:"h-8 w-8",children:[i.jsx(mr,{src:(o=r==null?void 0:r.user_metadata)==null?void 0:o.avatar_url}),i.jsx(pr,{children:((c=(l=r==null?void 0:r.user_metadata)==null?void 0:l.name)==null?void 0:c.charAt(0))||((u=r==null?void 0:r.email)==null?void 0:u.charAt(0))})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-foreground truncate",children:((f=r==null?void 0:r.user_metadata)==null?void 0:f.name)||"Usurio"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})]}),i.jsx(Mx,{}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{variant:"outline",size:"sm",asChild:!0,className:"flex-1",children:i.jsxs(fo,{to:"/settings",children:[i.jsx(Af,{className:"h-3 w-3 mr-1"}),"Conta"]})}),i.jsxs(q,{variant:"ghost",size:"sm",onClick:s,className:"flex-1",children:[i.jsx(uj,{className:"h-3 w-3 mr-1"}),"Sair"]})]})]})})]})}const gm=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,a]=m.useState(null);return m.useEffect(()=>(t(en.isNativePlatform()),(async()=>{if(en.isNativePlatform()){const h=await la.getDeviceInfo();a(h);const p=await la.getNetworkStatus();n(p),Mv.addListener("networkStatusChange",g=>{n(g)})}})(),()=>{en.isNativePlatform()&&Mv.removeAllListeners()}),[]),{isNative:e,networkStatus:r,deviceInfo:s,shareContent:async(d,h,p)=>la.shareContent(d,h,p),showNativeToast:async(d,h="short")=>la.showToast(d,h),hapticFeedback:async(d="medium")=>la.hapticFeedback(d),hideKeyboard:async()=>la.hideKeyboard(),showKeyboard:async()=>la.showKeyboard(),isOnline:(r==null?void 0:r.connected)??!0,connectionType:(r==null?void 0:r.connectionType)??"unknown"}},h6=(e,t=1,r=20,n="")=>jt({queryKey:["chat",e,t,r,n],queryFn:async()=>{if(console.log("useConversationQuery - Fetching conversation",{recipientId:e,currentPage:t,pageSize:r,searchQuery:n}),!e)return{messages:[],totalCount:0,hasMore:!1};const{data:{user:s}}=await $.auth.getUser();if(!s)throw new Error("User not authenticated");let a=$.from("messages").select(`
          *,
          sender_profile:profiles!messages_sender_id_fkey(username, avatar_url)
        `,{count:"exact"}).or(`and(sender_id.eq.${s.id},recipient_id.eq.${e}),and(sender_id.eq.${e},recipient_id.eq.${s.id})`).eq("deleted_by_recipient",!1).order("created_at",{ascending:!1});n&&(a=a.ilike("content",`%${n}%`));const o=(t-1)*r;a=a.range(o,o+r-1);const{data:l,error:c,count:u}=await a;if(c)throw console.error("useConversationQuery - Error fetching messages:",c),c;const f=(l||[]).map(d=>{var h,p;return{...d,sender_username:(h=d.sender_profile)==null?void 0:h.username,sender_avatar_url:(p=d.sender_profile)==null?void 0:p.avatar_url}});return console.log("useConversationQuery - Fetched messages:",{messagesCount:(f==null?void 0:f.length)||0,totalCount:u||0}),{messages:f.reverse(),totalCount:u||0,hasMore:u?u>t*r:!1}},enabled:!!e,staleTime:0,refetchOnWindowFocus:!1}),vm=()=>{const{user:e}=Se();return{user:e}},m6=()=>{const{user:e}=vm();return{getChatUsers:()=>jt({queryKey:["chatUsers"],queryFn:async()=>{if(!e)return[];const r=async c=>{const{count:u,error:f}=await $.from("messages").select("*",{count:"exact",head:!0}).eq("recipient_id",e.id).eq("sender_id",c).eq("read",!1).eq("deleted_by_recipient",!1);return f?(console.error("Erro ao contar mensagens no lidas:",f),0):u||0},{data:n,error:s}=await $.from("messages").select("*").or(`sender_id.eq.${e.id},recipient_id.eq.${e.id}`).eq("deleted_by_recipient",!1).order("created_at",{ascending:!1});if(s)throw console.error("Erro ao buscar mensagens:",s),s;const a=new Set,o=new Map;for(const c of n||[]){const u=c.sender_id===e.id?c.recipient_id:c.sender_id;if(!a.has(u)){a.add(u);const{data:f}=await $.from("profiles").select("username, avatar_url").eq("id",u).single();if(f){const d={id:c.id,content:c.content,created_at:c.created_at,sender_id:c.sender_id,recipient_id:c.recipient_id,read:c.read,read_at:c.read_at||void 0,attachment_url:c.attachment_url||void 0,sender_username:f.username,sender_avatar_url:f.avatar_url||void 0,deleted_by_recipient:c.deleted_by_recipient||void 0,message_status:c.message_status||"sent",edited_at:c.edited_at||void 0,delivered_at:c.delivered_at||void 0,edit_history:c.edit_history||void 0,reply_to_id:c.reply_to_id||void 0,deleted_at:c.deleted_at||void 0,is_soft_deleted:c.is_soft_deleted||void 0};o.set(u,{id:u,username:f.username,avatar_url:f.avatar_url||void 0,unread_count:0,last_message:d})}}}return(await Promise.all(Array.from(o.values()).map(async c=>{const u=await r(c.id);return{...c,unread_count:u}}))).sort((c,u)=>{if(c.unread_count!==u.unread_count)return u.unread_count-c.unread_count;const f=c.last_message?new Date(c.last_message.created_at).getTime():0;return(u.last_message?new Date(u.last_message.created_at).getTime():0)-f})},enabled:!!e})}},p6=()=>{const{getChatUsers:e}=m6();return{getChatUsers:e,getConversation:h6,getTotalUnreadCount:r=>r?r.reduce((n,s)=>n+s.unread_count,0):0}},g6=()=>{const{user:e}=Se(),{toast:t}=pt(),r=Ze();return rt({mutationFn:async({recipientId:n,content:s,attachment:a})=>{if(console.log("useSendMessage - Starting mutation",{recipientId:n,content:s,attachment:a,user:e==null?void 0:e.id}),!e)throw console.error("useSendMessage - User not authenticated"),new Error("Usurio no autenticado");if(n===e.id)throw console.error("useSendMessage - Cannot send message to self"),new Error("Voc no pode enviar mensagens para si mesmo");let o=null;if(a){console.log("useSendMessage - Uploading attachment",a);const f=a.name.split(".").pop(),d=`${Math.random().toString(36).substring(2)}-${Date.now()}.${f}`,h=`${e.id}/${d}`,{error:p,data:g}=await $.storage.from("message-attachments").upload(h,a);if(p)throw console.error("useSendMessage - Error uploading file:",p),p;const{data:{publicUrl:v}}=$.storage.from("message-attachments").getPublicUrl(h);o=v,console.log("useSendMessage - Attachment uploaded, URL:",o)}const l={sender_id:e.id,recipient_id:n,content:s.trim(),read:!1,deleted_by_recipient:!1,...o&&{attachment_url:o}};console.log("useSendMessage - Inserting message",l);const{data:c,error:u}=await $.from("messages").insert(l).select().single();if(u)throw console.error("useSendMessage - Error inserting message:",u),u;return console.log("useSendMessage - Message sent successfully",c),c},onSuccess:n=>{console.log("useSendMessage - onSuccess",n),r.invalidateQueries({queryKey:["chatUsers"]}),r.invalidateQueries({queryKey:["chat",n.recipient_id]})},onError:n=>{console.error("useSendMessage - onError",n),t({title:"Erro",description:`No foi possvel enviar a mensagem: ${n.message}`,variant:"destructive"})}})},v6=()=>{const{user:e}=vm(),{toast:t}=pt(),r=Ze();return rt({mutationFn:async({messageId:n,content:s})=>{if(!e)throw new Error("Usurio no autenticado");const{data:a,error:o}=await $.from("messages").select("*").eq("id",n).single();if(o)throw console.error("Erro ao buscar mensagem:",o),o;if(a.sender_id!==e.id)throw new Error("Voc no pode editar mensagens de outros usurios");const{data:l,error:c}=await $.from("messages").update({content:s}).eq("id",n).select().single();if(c)throw console.error("Erro ao editar mensagem:",c),c;return l},onSuccess:n=>{r.invalidateQueries({queryKey:["chatUsers"]}),r.invalidateQueries({queryKey:["chat",n.recipient_id]}),t({title:"Mensagem atualizada",description:"A mensagem foi editada com sucesso."})},onError:n=>{t({title:"Erro",description:`No foi possvel editar a mensagem: ${n.message}`,variant:"destructive"})}})},y6=()=>{const{user:e}=vm(),{toast:t}=pt(),r=Ze();return rt({mutationFn:async n=>{if(!e)throw new Error("Usurio no autenticado");const{error:s}=await $.from("messages").delete().eq("sender_id",e.id).eq("recipient_id",n);if(s)throw console.error("Erro ao excluir mensagens enviadas:",s),s;const{error:a}=await $.from("messages").update({deleted_by_recipient:!0}).eq("recipient_id",e.id).eq("sender_id",n);if(a)throw console.error("Erro ao marcar mensagens como excludas:",a),a;return n},onSuccess:n=>{r.invalidateQueries({queryKey:["chatUsers"]}),r.invalidateQueries({queryKey:["chat",n]}),t({title:"Conversa limpa",description:"A conversa foi limpa com sucesso."})},onError:n=>{t({title:"Erro",description:`No foi possvel limpar a conversa: ${n.message}`,variant:"destructive"})}})},x6=()=>{const{user:e}=vm(),{toast:t}=pt(),r=Ze();return rt({mutationFn:async n=>{if(!e)throw new Error("Usurio no autenticado");const{data:s,error:a}=await $.from("messages").select("*").eq("id",n).single();if(a)throw console.error("Erro ao buscar mensagem:",a),a;if(s.sender_id===e.id){const{error:o}=await $.from("messages").delete().eq("id",n);if(o)throw console.error("Erro ao excluir mensagem:",o),o}else if(s.recipient_id===e.id){const{error:o}=await $.from("messages").update({deleted_by_recipient:!0}).eq("id",n);if(o)throw console.error("Erro ao marcar mensagem como excluda:",o),o}else throw new Error("Voc no tem permisso para excluir esta mensagem");return{messageId:n,otherUserId:s.sender_id===e.id?s.recipient_id:s.sender_id}},onSuccess:({otherUserId:n})=>{r.invalidateQueries({queryKey:["chatUsers"]}),r.invalidateQueries({queryKey:["chat",n]}),t({title:"Mensagem excluda",description:"A mensagem foi excluda com sucesso."})},onError:n=>{t({title:"Erro",description:`No foi possvel excluir a mensagem: ${n.message}`,variant:"destructive"})}})},w6=()=>{const e=g6(),t=v6(),r=y6(),n=x6();return{sendMessage:e,editMessage:t,clearConversation:r,deleteMessage:n}},b6=()=>{const{user:e}=Se(),t=Ze(),r=m.useRef(null),n=m.useRef(`messages-${Math.random().toString(36).substr(2,9)}`);return m.useEffect(()=>{if(!(e!=null&&e.id)){console.log(" useMessagesRealtime: No user ID");return}console.log(" useMessagesRealtime: Setting up subscription");const s=vl.subscribe({channelName:"messages-realtime",filters:[{event:"*",schema:"public",table:"messages"}],onSubscriptionChange:a=>{var o,l;if(console.log(" Message change detected:",a),t.invalidateQueries({queryKey:["chatUsers"]}),(o=a.new)!=null&&o.recipient_id||(l=a.new)!=null&&l.sender_id){const c=a.new.recipient_id===(e==null?void 0:e.id)?a.new.sender_id:a.new.recipient_id;c&&t.invalidateQueries({queryKey:["conversation",c]})}}},n.current);return r.current=s,()=>{console.log(" useMessagesRealtime: Cleaning up"),r.current&&r.current()}},[e==null?void 0:e.id,t]),{isSubscribed:r.current!==null}},Kk=()=>{b6();const{getChatUsers:e,getConversation:t,getTotalUnreadCount:r}=p6(),{sendMessage:n,clearConversation:s,deleteMessage:a,editMessage:o}=w6(),{data:l=[],isLoading:c}=e();return{chatUsers:l,isLoadingChatUsers:c,getTotalUnreadCount:()=>r(l),getConversation:t,sendMessage:n,clearConversation:s,deleteMessage:a,editMessage:o}},_6=()=>{const e=Ze(),{toast:t}=pt(),r=rt({mutationFn:async({messageId:s,userId:a})=>{const{error:o}=await $.rpc("mark_message_as_read",{p_message_id:s,p_user_id:a});if(o)throw o},onSuccess:()=>{e.invalidateQueries({queryKey:["messages"]}),e.invalidateQueries({queryKey:["chatUsers"]})},onError:s=>{console.error("Erro ao marcar mensagem como lida:",s),t({title:"Erro",description:"No foi possvel marcar a mensagem como lida.",variant:"destructive"})}}),n=rt({mutationFn:async({recipientId:s,senderId:a})=>{const{error:o}=await $.rpc("mark_conversation_as_read",{p_recipient_id:s,p_sender_id:a});if(o)throw o},onSuccess:()=>{e.invalidateQueries({queryKey:["messages"]}),e.invalidateQueries({queryKey:["chatUsers"]})},onError:s=>{console.error("Erro ao marcar conversa como lida:",s),t({title:"Erro",description:"No foi possvel marcar a conversa como lida.",variant:"destructive"})}});return{markMessageAsRead:r,markConversationAsRead:n}},Ux=()=>{const{user:e}=Se(),{chatUsers:t,isLoadingChatUsers:r,getConversation:n,sendMessage:s,clearConversation:a,deleteMessage:o,editMessage:l}=Kk(),{markConversationAsRead:c}=_6();return{chatUsers:t||[],isLoadingChatUsers:r,getTotalUnreadCount:()=>!t||!Array.isArray(t)?0:t.reduce((h,p)=>{const g=(p==null?void 0:p.unread_count)||0;return h+g},0),getChatUsers:{data:t||[],isLoading:r},getConversation:(h,p=1,g=20,v="")=>{if(console.log("createConversation called with:",{recipientId:h,page:p,pageSize:g,searchQuery:v,userId:e==null?void 0:e.id}),!(e!=null&&e.id)||!h)return console.warn("No user ID or recipient ID available for conversation"),{data:{messages:[],hasMore:!1,totalCount:0},isLoading:!1,isError:!0,error:new Error("Missing user or recipient ID")};const w=n(h,p,g,v);return console.log("Conversation query result:",w),w},sendMessage:s,clearConversation:a,deleteMessage:o,editMessage:l,markConversationAsRead:c}},S6=Go("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qs({className:e,variant:t,...r}){return i.jsx("div",{className:B(S6({variant:t}),e),...r})}function C6(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Gk=L.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Hl=()=>{const e=L.useContext(Gk);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};C6(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const j6=24,N6=typeof window<"u"?m.useLayoutEffect:m.useEffect;function x1(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function k6(){return Bx(/^Mac/)}function E6(){return Bx(/^iPhone/)}function w1(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function T6(){return Bx(/^iPad/)||k6()&&navigator.maxTouchPoints>1}function Qk(){return E6()||T6()}function Bx(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Dp=typeof document<"u"&&window.visualViewport;function b1(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Yk(e){for(b1(e)&&(e=e.parentElement);e&&!b1(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const P6=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Pd=0,Ap;function R6(e={}){let{isDisabled:t}=e;N6(()=>{if(!t)return Pd++,Pd===1&&Qk()&&(Ap=M6()),()=>{Pd--,Pd===0&&(Ap==null||Ap())}},[t])}function M6(){let e,t=0,r=d=>{e=Yk(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},n=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let h=d.changedTouches[0].pageY,p=e.scrollTop,g=e.scrollHeight-e.clientHeight;g!==0&&((p<=0&&h>t||p>=g&&h<t)&&d.preventDefault(),t=h)},s=d=>{let h=d.target;Av(h)&&h!==document.activeElement&&(d.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},a=d=>{let h=d.target;Av(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Dp&&(Dp.height<window.innerHeight?requestAnimationFrame(()=>{_1(h)}):Dp.addEventListener("resize",()=>_1(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=x1(D6(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=x1(uc(document,"touchstart",r,{passive:!1,capture:!0}),uc(document,"touchmove",n,{passive:!1,capture:!0}),uc(document,"touchend",s,{passive:!1,capture:!0}),uc(document,"focus",a,!0),uc(window,"scroll",o));return()=>{u(),f(),window.scrollTo(l,c)}}function D6(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function uc(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function _1(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=Yk(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,s=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=r.getBoundingClientRect().bottom+j6;a>o&&(r.scrollTop+=s-n)}e=r.parentElement}}function Av(e){return e instanceof HTMLInputElement&&!P6.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function A6(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function O6(...e){return t=>e.forEach(r=>A6(r,t))}function Zk(...e){return m.useCallback(O6(...e),e)}const Xk=new WeakMap;function Pt(e,t,r=!1){if(!e||!(e instanceof HTMLElement))return;let n={};Object.entries(t).forEach(([s,a])=>{if(s.startsWith("--")){e.style.setProperty(s,a);return}n[s]=e.style[s],e.style[s]=a}),!r&&Xk.set(e,n)}function I6(e,t){if(!e||!(e instanceof HTMLElement))return;let r=Xk.get(e);r&&(e.style[t]=r[t])}const Rt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Rd(e,t){if(!e)return null;const r=window.getComputedStyle(e),n=r.transform||r.webkitTransform||r.mozTransform;let s=n.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[Rt(t)?13:12]):(s=n.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[Rt(t)?5:4]):null)}function L6(e){return 8*(Math.log(e+1)-2)}function Op(e,t){if(!e)return()=>{};const r=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=r}}function $6(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}const ut={DURATION:.5,EASE:[.32,.72,0,1]},Jk=.4,F6=.25,z6=100,eE=8,oo=16,Ov=26,Ip="vaul-dragging";function tE(e){const t=L.useRef(e);return L.useEffect(()=>{t.current=e}),L.useMemo(()=>(...r)=>t.current==null?void 0:t.current.call(t,...r),[])}function U6({defaultProp:e,onChange:t}){const r=L.useState(e),[n]=r,s=L.useRef(n),a=tE(t);return L.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}function rE({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=U6({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=tE(r),c=L.useCallback(u=>{if(a){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[a,e,s,l]);return[o,c]}function B6({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:r,drawerRef:n,overlayRef:s,fadeFromIndex:a,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[f,d]=rE({prop:e,defaultProp:r==null?void 0:r[0],onChange:t}),[h,p]=L.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);L.useEffect(()=>{function C(){p({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const g=L.useMemo(()=>f===(r==null?void 0:r[r.length-1])||null,[r,f]),v=L.useMemo(()=>r==null?void 0:r.findIndex(C=>C===f),[r,f]),w=r&&r.length>0&&(a||a===0)&&!Number.isNaN(a)&&r[a]===f||!r,y=L.useMemo(()=>{const C=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var N;return(N=r==null?void 0:r.map(k=>{const R=typeof k=="string";let D=0;if(R&&(D=parseInt(k,10)),Rt(l)){const U=R?D:h?k*C.height:0;return h?l==="bottom"?C.height-U:-C.height+U:U}const A=R?D:h?k*C.width:0;return h?l==="right"?C.width-A:-C.width+A:A}))!=null?N:[]},[r,h,c]),x=L.useMemo(()=>v!==null?y==null?void 0:y[v]:null,[y,v]),b=L.useCallback(C=>{var N;const k=(N=y==null?void 0:y.findIndex(R=>R===C))!=null?N:null;o(k),Pt(n.current,{transition:`transform ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,transform:Rt(l)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`}),y&&k!==y.length-1&&k!==a&&k<a?Pt(s.current,{transition:`opacity ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,opacity:"0"}):Pt(s.current,{transition:`opacity ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,opacity:"1"}),d(r==null?void 0:r[Math.max(k,0)])},[n.current,r,y,a,s,d]);L.useEffect(()=>{if(f||e){var C;const N=(C=r==null?void 0:r.findIndex(k=>k===e||k===f))!=null?C:-1;y&&N!==-1&&typeof y[N]=="number"&&b(y[N])}},[f,e,r,y,b]);function _({draggedDistance:C,closeDrawer:N,velocity:k,dismissible:R}){if(a===void 0)return;const D=l==="bottom"||l==="right"?(x??0)-C:(x??0)+C,A=v===a-1,U=v===0,I=C>0;if(A&&Pt(s.current,{transition:`opacity ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`}),!u&&k>2&&!I){R?N():b(y[0]);return}if(!u&&k>2&&I&&y&&r){b(y[r.length-1]);return}const W=y==null?void 0:y.reduce((F,E)=>typeof F!="number"||typeof E!="number"?F:Math.abs(E-D)<Math.abs(F-D)?E:F),V=Rt(l)?window.innerHeight:window.innerWidth;if(k>Jk&&Math.abs(C)<V*.4){const F=I?1:-1;if(F>0&&g){b(y[r.length-1]);return}if(U&&F<0&&R&&N(),v===null)return;b(y[v+F]);return}b(W)}function S({draggedDistance:C}){if(x===null)return;const N=l==="bottom"||l==="right"?x-C:x+C;(l==="bottom"||l==="right")&&N<y[y.length-1]||(l==="top"||l==="left")&&N>y[y.length-1]||Pt(n.current,{transform:Rt(l)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})}function j(C,N){if(!r||typeof v!="number"||!y||a===void 0)return null;const k=v===a-1;if(v>=a&&N)return 0;if(k&&!N)return 1;if(!w&&!k)return null;const D=k?v+1:v-1,A=k?y[D]-y[D-1]:y[D+1]-y[D],U=C/Math.abs(A);return k?1-U:U}return{isLastSnapPoint:g,activeSnapPoint:f,shouldFade:w,getPercentageDragged:j,setActiveSnapPoint:d,activeSnapPointIndex:v,onRelease:_,onDrag:S,snapPointsOffset:y}}const V6=()=>()=>{};function W6(){const{direction:e,isOpen:t,shouldScaleBackground:r,setBackgroundColorOnScale:n,noBodyStyles:s}=Hl(),a=L.useRef(null),o=m.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Ov)/window.innerWidth}L.useEffect(()=>{if(t&&r){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;$6(n&&!s?Op(document.body,{background:"black"}):V6,Op(c,{transformOrigin:Rt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${ut.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ut.EASE.join(",")})`}));const u=Op(c,{borderRadius:`${eE}px`,overflow:"hidden",...Rt(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},ut.DURATION*1e3)}}},[t,r,o])}let dc=null;function q6({isOpen:e,modal:t,nested:r,hasBeenOpened:n,preventScrollRestoration:s,noBodyStyles:a}){const[o,l]=L.useState(()=>typeof window<"u"?window.location.href:""),c=L.useRef(0),u=L.useCallback(()=>{if(w1()&&dc===null&&e&&!a){dc={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const p=h-window.innerHeight;p&&c.current>=h&&(document.body.style.top=`${-(c.current+p)}px`)}),300)}},[e]),f=L.useCallback(()=>{if(w1()&&dc!==null&&!a){const d=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,dc),window.requestAnimationFrame(()=>{if(s&&o!==window.location.href){l(window.location.href);return}window.scrollTo(h,d)}),dc=null}},[o]);return L.useEffect(()=>{function d(){c.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),L.useEffect(()=>{r||!n||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{f()},500)):f())},[e,n,o,t,r,u,f]),{restorePositionSetting:f}}function nE({open:e,onOpenChange:t,children:r,onDrag:n,onRelease:s,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=F6,scrollLockTimeout:u=z6,dismissible:f=!0,handleOnly:d=!1,fadeFromIndex:h=a&&a.length-1,activeSnapPoint:p,setActiveSnapPoint:g,fixed:v,modal:w=!0,onClose:y,nested:x,noBodyStyles:b,direction:_="bottom",defaultOpen:S=!1,disablePreventScroll:j=!0,snapToSequentialPoint:C=!1,preventScrollRestoration:N=!1,repositionInputs:k=!0,onAnimationEnd:R,container:D,autoFocus:A=!1}){var U,I;const[W=!1,V]=rE({defaultProp:S,prop:e,onChange:X=>{t==null||t(X),!X&&!x&&it(),setTimeout(()=>{R==null||R(X)},ut.DURATION*1e3),X&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),X||(document.body.style.pointerEvents="auto")}}),[F,E]=L.useState(!1),[M,H]=L.useState(!1),[K,te]=L.useState(!1),ne=L.useRef(null),ye=L.useRef(null),He=L.useRef(null),xe=L.useRef(null),oe=L.useRef(null),Ce=L.useRef(!1),Oe=L.useRef(null),Te=L.useRef(0),De=L.useRef(!1),$e=L.useRef(0),de=L.useRef(null),Et=L.useRef(((U=de.current)==null?void 0:U.getBoundingClientRect().height)||0),Hr=L.useRef(((I=de.current)==null?void 0:I.getBoundingClientRect().width)||0),zt=L.useRef(0),$n=L.useCallback(X=>{a&&X===J.length-1&&(ye.current=new Date)},[]),{activeSnapPoint:T,activeSnapPointIndex:O,setActiveSnapPoint:z,onRelease:re,snapPointsOffset:J,onDrag:Y,shouldFade:he,getPercentageDragged:Ne}=B6({snapPoints:a,activeSnapPointProp:p,setActiveSnapPointProp:g,drawerRef:de,fadeFromIndex:h,overlayRef:ne,onSnapPointChange:$n,direction:_,container:D,snapToSequentialPoint:C});R6({isDisabled:!W||M||!w||K||!F||!k||!j});const{restorePositionSetting:it}=q6({isOpen:W,modal:w,nested:x,hasBeenOpened:F,preventScrollRestoration:N,noBodyStyles:b});function Ke(){return(window.innerWidth-Ov)/window.innerWidth}function Kr(X){var me,pe;!f&&!a||de.current&&!de.current.contains(X.target)||(Et.current=((me=de.current)==null?void 0:me.getBoundingClientRect().height)||0,Hr.current=((pe=de.current)==null?void 0:pe.getBoundingClientRect().width)||0,H(!0),He.current=new Date,Qk()&&window.addEventListener("touchend",()=>Ce.current=!1,{once:!0}),X.target.setPointerCapture(X.pointerId),Te.current=Rt(_)?X.pageY:X.pageX)}function fn(X,me){var pe,Be;let Ie=X;const Ut=(pe=window.getSelection())==null?void 0:pe.toString(),Bt=de.current?Rd(de.current,_):null,Ar=new Date;if(Ie.hasAttribute("data-vaul-no-drag")||Ie.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(ye.current&&Ar.getTime()-ye.current.getTime()<500)return!1;if(Bt!==null&&(_==="bottom"?Bt>0:Bt<0))return!0;if(Ut&&Ut.length>0)return!1;if(Ar.getTime()-((Be=oe.current)==null?void 0:Be.getTime())<u&&Bt===0||me)return oe.current=Ar,!1;for(;Ie;){if(Ie.scrollHeight>Ie.clientHeight){if(Ie.scrollTop!==0)return oe.current=new Date,!1;if(Ie.getAttribute("role")==="dialog")return!0}Ie=Ie.parentNode}return!0}function Zs(X){if(de.current&&M){const me=_==="bottom"||_==="right"?1:-1,pe=(Te.current-(Rt(_)?X.pageY:X.pageX))*me,Be=pe>0,Ie=a&&!f&&!Be;if(Ie&&O===0)return;const Ut=Math.abs(pe),Bt=document.querySelector("[data-vaul-drawer-wrapper]"),Ar=_==="bottom"||_==="top"?Et.current:Hr.current;let mn=Ut/Ar;const so=Ne(Ut,Be);if(so!==null&&(mn=so),Ie&&mn>=1||!Ce.current&&!fn(X.target,Be))return;if(de.current.classList.add(Ip),Ce.current=!0,Pt(de.current,{transition:"none"}),Pt(ne.current,{transition:"none"}),a&&Y({draggedDistance:pe}),Be&&!a){const zn=L6(pe),Zu=Math.min(zn*-1,0)*me;Pt(de.current,{transform:Rt(_)?`translate3d(0, ${Zu}px, 0)`:`translate3d(${Zu}px, 0, 0)`});return}const Js=1-mn;if((he||h&&O===h-1)&&(n==null||n(X,mn),Pt(ne.current,{opacity:`${Js}`,transition:"none"},!0)),Bt&&ne.current&&o){const zn=Math.min(Ke()+mn*(1-Ke()),1),Zu=8-mn*8,U0=Math.max(0,14-mn*14);Pt(Bt,{borderRadius:`${Zu}px`,transform:Rt(_)?`scale(${zn}) translate3d(0, ${U0}px, 0)`:`scale(${zn}) translate3d(${U0}px, 0, 0)`,transition:"none"},!0)}if(!a){const zn=Ut*me;Pt(de.current,{transform:Rt(_)?`translate3d(0, ${zn}px, 0)`:`translate3d(${zn}px, 0, 0)`})}}}L.useEffect(()=>{var X;function me(){if(!de.current||!k)return;const pe=document.activeElement;if(Av(pe)||De.current){var Be;const Ie=((Be=window.visualViewport)==null?void 0:Be.height)||0,Ut=window.innerHeight;let Bt=Ut-Ie;const Ar=de.current.getBoundingClientRect().height||0,mn=Ar>Ut*.8;zt.current||(zt.current=Ar);const so=de.current.getBoundingClientRect().top;if(Math.abs($e.current-Bt)>60&&(De.current=!De.current),a&&a.length>0&&J&&O){const Js=J[O]||0;Bt+=Js}if($e.current=Bt,Ar>Ie||De.current){const Js=de.current.getBoundingClientRect().height;let zn=Js;Js>Ie&&(zn=Ie-(mn?so:Ov)),v?de.current.style.height=`${Js-Math.max(Bt,0)}px`:de.current.style.height=`${Math.max(zn,Ie-so)}px`}else de.current.style.height=`${zt.current}px`;a&&a.length>0&&!De.current?de.current.style.bottom="0px":de.current.style.bottom=`${Math.max(Bt,0)}px`}}return(X=window.visualViewport)==null||X.addEventListener("resize",me),()=>{var pe;return(pe=window.visualViewport)==null?void 0:pe.removeEventListener("resize",me)}},[O,a,J]);function hn(X){no(),y==null||y(),X||V(!1),setTimeout(()=>{a&&z(a[0])},ut.DURATION*1e3)}function ro(){if(!de.current)return;const X=document.querySelector("[data-vaul-drawer-wrapper]"),me=Rd(de.current,_);Pt(de.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`}),Pt(ne.current,{transition:`opacity ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,opacity:"1"}),o&&me&&me>0&&W&&Pt(X,{borderRadius:`${eE}px`,overflow:"hidden",...Rt(_)?{transform:`scale(${Ke()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ke()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${ut.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ut.EASE.join(",")})`},!0)}function no(){!M||!de.current||(de.current.classList.remove(Ip),Ce.current=!1,H(!1),xe.current=new Date)}function Xl(X){if(!M||!de.current)return;de.current.classList.remove(Ip),Ce.current=!1,H(!1),xe.current=new Date;const me=Rd(de.current,_);if(!fn(X.target,!1)||!me||Number.isNaN(me)||He.current===null)return;const pe=xe.current.getTime()-He.current.getTime(),Be=Te.current-(Rt(_)?X.pageY:X.pageX),Ie=Math.abs(Be)/pe;if(Ie>.05&&(te(!0),setTimeout(()=>{te(!1)},200)),a){re({draggedDistance:Be*(_==="bottom"||_==="right"?1:-1),closeDrawer:hn,velocity:Ie,dismissible:f}),s==null||s(X,!0);return}if(_==="bottom"||_==="right"?Be>0:Be<0){ro(),s==null||s(X,!0);return}if(Ie>Jk){hn(),s==null||s(X,!1);return}var Ut;const Bt=Math.min((Ut=de.current.getBoundingClientRect().height)!=null?Ut:0,window.innerHeight);var Ar;const mn=Math.min((Ar=de.current.getBoundingClientRect().width)!=null?Ar:0,window.innerWidth),so=_==="left"||_==="right";if(Math.abs(me)>=(so?mn:Bt)*c){hn(),s==null||s(X,!1);return}s==null||s(X,!0),ro()}L.useEffect(()=>(W&&(Pt(document.documentElement,{scrollBehavior:"auto"}),ye.current=new Date),()=>{I6(document.documentElement,"scrollBehavior")}),[W]);function Xs(X){const me=X?(window.innerWidth-oo)/window.innerWidth:1,pe=X?-oo:0;Oe.current&&window.clearTimeout(Oe.current),Pt(de.current,{transition:`transform ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,transform:`scale(${me}) translate3d(0, ${pe}px, 0)`}),!X&&de.current&&(Oe.current=setTimeout(()=>{const Be=Rd(de.current,_);Pt(de.current,{transition:"none",transform:Rt(_)?`translate3d(0, ${Be}px, 0)`:`translate3d(${Be}px, 0, 0)`})},500))}function Fn(X,me){if(me<0)return;const pe=(window.innerWidth-oo)/window.innerWidth,Be=pe+me*(1-pe),Ie=-oo+me*oo;Pt(de.current,{transform:Rt(_)?`scale(${Be}) translate3d(0, ${Ie}px, 0)`:`scale(${Be}) translate3d(${Ie}px, 0, 0)`,transition:"none"})}function Im(X,me){const pe=Rt(_)?window.innerHeight:window.innerWidth,Be=me?(pe-oo)/pe:1,Ie=me?-oo:0;me&&Pt(de.current,{transition:`transform ${ut.DURATION}s cubic-bezier(${ut.EASE.join(",")})`,transform:Rt(_)?`scale(${Be}) translate3d(0, ${Ie}px, 0)`:`scale(${Be}) translate3d(${Ie}px, 0, 0)`})}return L.createElement(cm,{defaultOpen:S,onOpenChange:X=>{!f&&!X||(X?E(!0):hn(!0),V(X))},open:W},L.createElement(Gk.Provider,{value:{activeSnapPoint:T,snapPoints:a,setActiveSnapPoint:z,drawerRef:de,overlayRef:ne,onOpenChange:t,onPress:Kr,onRelease:Xl,onDrag:Zs,dismissible:f,handleOnly:d,isOpen:W,isDragging:M,shouldFade:he,closeDrawer:hn,onNestedDrag:Fn,onNestedOpenChange:Xs,onNestedRelease:Im,keyboardIsOpen:De,modal:w,snapPointsOffset:J,direction:_,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:b,container:D,autoFocus:A}},r))}const sE=L.forwardRef(function({...e},t){const{overlayRef:r,snapPoints:n,onRelease:s,shouldFade:a,isOpen:o,modal:l}=Hl(),c=Zk(t,r),u=n&&n.length>0;return l?L.createElement(Bl,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&u?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});sE.displayName="Drawer.Overlay";const aE=L.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:r,...n},s){const{drawerRef:a,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:f,modal:d,isOpen:h,direction:p,snapPoints:g,container:v,handleOnly:w,autoFocus:y}=Hl(),[x,b]=L.useState(!1),_=Zk(s,a),S=L.useRef(null),j=L.useRef(null),C=L.useRef(!1),N=g&&g.length>0;W6();const k=(D,A,U=0)=>{if(C.current)return!0;const I=Math.abs(D.y),W=Math.abs(D.x),V=W>I,F=["bottom","right"].includes(A)?1:-1;if(A==="left"||A==="right"){if(!(D.x*F<0)&&W>=0&&W<=U)return V}else if(!(D.y*F<0)&&I>=0&&I<=U)return!V;return C.current=!0,!0};L.useEffect(()=>{N&&window.requestAnimationFrame(()=>{b(!0)})},[]);function R(D){S.current=null,C.current=!1,l(D)}return L.createElement(Vl,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":x?"true":"false","data-vaul-snap-points":h&&N?"true":"false","data-vaul-custom-container":v?"true":"false",...n,ref:_,style:f&&f.length>0?{"--snap-point-height":`${f[0]}px`,...t}:t,onPointerDown:D=>{w||(n.onPointerDown==null||n.onPointerDown.call(n,D),S.current={x:D.pageX,y:D.pageY},o(D))},onOpenAutoFocus:D=>{r==null||r(D),y||D.preventDefault()},onPointerDownOutside:D=>{if(e==null||e(D),!d||D.defaultPrevented){D.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:D=>{if(!d){D.preventDefault();return}},onPointerMove:D=>{if(j.current=D,w||(n.onPointerMove==null||n.onPointerMove.call(n,D),!S.current))return;const A=D.pageY-S.current.y,U=D.pageX-S.current.x,I=D.pointerType==="touch"?10:2;k({x:U,y:A},p,I)?c(D):(Math.abs(U)>I||Math.abs(A)>I)&&(S.current=null)},onPointerUp:D=>{n.onPointerUp==null||n.onPointerUp.call(n,D),S.current=null,C.current=!1,l(D)},onPointerOut:D=>{n.onPointerOut==null||n.onPointerOut.call(n,D),R(j.current)},onContextMenu:D=>{n.onContextMenu==null||n.onContextMenu.call(n,D),R(j.current)}})});aE.displayName="Drawer.Content";const H6=250,K6=120,oE=L.forwardRef(function({preventCycle:e=!1,children:t,...r},n){const{closeDrawer:s,isDragging:a,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:f,isOpen:d,onPress:h,onDrag:p}=Hl(),g=L.useRef(null),v=L.useRef(!1);function w(){if(v.current){b();return}window.setTimeout(()=>{y()},K6)}function y(){if(a||e||v.current){b();return}if(b(),(!o||o.length===0)&&u){s();return}if(l===o[o.length-1]&&u){s();return}const S=o.findIndex(C=>C===l);if(S===-1)return;const j=o[S+1];c(j)}function x(){g.current=window.setTimeout(()=>{v.current=!0},H6)}function b(){window.clearTimeout(g.current),v.current=!1}return L.createElement("div",{onClick:w,onPointerCancel:b,onPointerDown:_=>{f&&h(_),x()},onPointerMove:_=>{f&&p(_)},ref:n,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},L.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});oE.displayName="Drawer.Handle";function G6({onDrag:e,onOpenChange:t,...r}){const{onNestedDrag:n,onNestedOpenChange:s,onNestedRelease:a}=Hl();if(!n)throw new Error("Drawer.NestedRoot must be placed in another drawer");return L.createElement(nE,{nested:!0,onClose:()=>{s(!1)},onDrag:(o,l)=>{n(o,l),e==null||e(o,l)},onOpenChange:o=>{o&&s(o)},onRelease:a,...r})}function Q6(e){const t=Hl(),{container:r=t.container,...n}=e;return L.createElement(dm,{container:r,...n})}const vs={Root:nE,NestedRoot:G6,Content:aE,Overlay:sE,Trigger:um,Portal:Q6,Handle:oE,Close:Bu,Title:Wl,Description:ql},iE=({shouldScaleBackground:e=!0,...t})=>i.jsx(vs.Root,{shouldScaleBackground:e,...t});iE.displayName="Drawer";const Y6=vs.Trigger,Z6=vs.Portal,lE=m.forwardRef(({className:e,...t},r)=>i.jsx(vs.Overlay,{ref:r,className:B("fixed inset-0 z-50 bg-black/80",e),...t}));lE.displayName=vs.Overlay.displayName;const cE=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Z6,{children:[i.jsx(lE,{}),i.jsxs(vs.Content,{ref:n,className:B("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...r,children:[i.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));cE.displayName="DrawerContent";const uE=({className:e,...t})=>i.jsx("div",{className:B("grid gap-1.5 p-4 text-center sm:text-left",e),...t});uE.displayName="DrawerHeader";const dE=m.forwardRef(({className:e,...t},r)=>i.jsx(vs.Title,{ref:r,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));dE.displayName=vs.Title.displayName;const X6=m.forwardRef(({className:e,...t},r)=>i.jsx(vs.Description,{ref:r,className:B("text-sm text-muted-foreground",e),...t}));X6.displayName=vs.Description.displayName;const J6=()=>{const e=ps(),t=Ul(),{hapticFeedback:r}=gm(),{getTotalUnreadCount:n}=Ux(),[s,a]=m.useState(!1),o=n(),l=[{icon:cj,label:"Dashboard",href:"/dashboard"},{icon:Po,label:"Transaes",href:"/transactions"},{icon:Is,label:"Metas",href:"/goals"},{icon:mj,label:"Clientes",href:"/clients"},{icon:nx,label:"Chat",href:"/chat",badge:o>0?o>99?"99+":o.toString():void 0}],c=()=>{r("light")};return t?i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-md supports-[backdrop-filter]:bg-background/80 border-t border-border/50 safe-area-bottom",children:i.jsxs("nav",{className:"flex justify-around items-center py-2 px-4",children:[l.map(u=>{const f=e.pathname===u.href||u.href==="/chat"&&e.pathname.startsWith("/chat");return i.jsxs(fo,{to:u.href,onClick:c,className:B("flex flex-col items-center justify-center p-3 transition-all duration-200 rounded-xl min-w-[60px] native-transition relative",f?"text-primary bg-primary/10 scale-105":"text-muted-foreground hover:text-foreground hover:bg-accent/50 active:scale-95"),children:[i.jsxs("div",{className:"relative",children:[i.jsx(u.icon,{className:B("h-5 w-5 mb-1 transition-transform duration-200",f&&"scale-110")}),u.badge&&i.jsx(qs,{variant:"destructive",className:"absolute -top-2 -right-2 h-4 w-4 p-0 flex items-center justify-center text-xs min-w-[16px] text-[10px]",children:u.badge})]}),i.jsx("span",{className:B("text-xs font-medium transition-all duration-200",f?"font-semibold":"font-normal"),children:u.label}),f&&i.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary rounded-full"})]},u.href)}),i.jsxs(iE,{open:s,onOpenChange:a,children:[i.jsx(Y6,{asChild:!0,children:i.jsxs("button",{onClick:c,className:"flex flex-col items-center justify-center p-3 transition-all duration-200 rounded-xl min-w-[60px] text-muted-foreground hover:text-foreground hover:bg-accent/50 active:scale-95 native-transition",children:[i.jsx(Af,{className:"h-5 w-5 mb-1"}),i.jsx("span",{className:"text-xs font-medium",children:"Mais"})]})}),i.jsxs(cE,{className:"bg-background/95 backdrop-blur-md border-t border-border/50",children:[i.jsx(uE,{children:i.jsx(dE,{children:"Menu"})}),i.jsxs("div",{className:"p-4 space-y-2 pb-8",children:[i.jsxs(fo,{to:"/social",className:"flex items-center gap-3 p-4 rounded-xl hover:bg-accent/50 transition-all duration-200 active:scale-95 native-transition",onClick:()=>{c(),a(!1)},children:[i.jsx(iO,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Comunidade"})]}),i.jsxs(fo,{to:"/settings",className:"flex items-center gap-3 p-4 rounded-xl hover:bg-accent/50 transition-all duration-200 active:scale-95 native-transition",onClick:()=>{c(),a(!1)},children:[i.jsx(Af,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Configuraes"})]}),i.jsxs(fo,{to:"/expenses",className:"flex items-center gap-3 p-4 rounded-xl hover:bg-accent/50 transition-all duration-200 active:scale-95 native-transition",onClick:()=>{c(),a(!1)},children:[i.jsx(Po,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Despesas"})]}),i.jsxs(fo,{to:"/invoiced",className:"flex items-center gap-3 p-4 rounded-xl hover:bg-accent/50 transition-all duration-200 active:scale-95 native-transition",onClick:()=>{c(),a(!1)},children:[i.jsx(Po,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Faturadas"})]})]})]})]})]})}):null},e9=()=>{const e=Ul(),{isNative:t,hapticFeedback:r}=gm();return m.useEffect(()=>{if(t&&e){const n=()=>{r("light")};return document.addEventListener("touchstart",n,{passive:!0}),()=>{document.removeEventListener("touchstart",n)}}},[t,e,r]),i.jsxs(mm,{children:[i.jsxs("div",{className:`flex h-screen w-full ${t?"native-app":""}`,children:[!e&&i.jsx(Hk,{}),i.jsxs(kk,{className:"flex-1",children:[!e&&i.jsx("header",{className:"flex h-12 items-center border-b px-4",children:i.jsx(Nk,{})}),i.jsx("main",{className:`flex-1 overflow-auto ${e?"mobile-content pb-20":"p-4 pt-0"} ${t?"safe-area-top":""}`,children:i.jsx("div",{className:"p-4",children:i.jsx(VL,{})})})]})]}),e&&i.jsx(J6,{})]})},t9=()=>{const{user:e}=Se(),t=qr();return m.useEffect(()=>{e&&t("/dashboard")},[e,t]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/30",children:i.jsxs("div",{className:"text-center max-w-3xl px-6",children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Gerencie suas finanas de forma simples"}),i.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Acompanhe suas transaes, gerencie clientes e mantenha o controle de suas finanas pessoais ou do seu negcio."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(q,{size:"lg",onClick:()=>t("/login"),children:"Comear agora"}),i.jsx(q,{size:"lg",variant:"outline",onClick:()=>t("/login"),children:"Fazer login"})]})]})})},xt=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:B("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));xt.displayName="Card";const Tr=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:B("flex flex-col space-y-1.5 p-6",e),...t}));Tr.displayName="CardHeader";const Pr=m.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:B("text-2xl font-semibold leading-none tracking-tight",e),...t}));Pr.displayName="CardTitle";const r9=m.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:B("text-sm text-muted-foreground",e),...t}));r9.displayName="CardDescription";const St=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:B("p-6 pt-0",e),...t}));St.displayName="CardContent";const n9=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:B("flex items-center p-6 pt-0",e),...t}));n9.displayName="CardFooter";var s9="Label",fE=m.forwardRef((e,t)=>i.jsx(ue.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));fE.displayName=s9;var hE=fE;const a9=Go("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=m.forwardRef(({className:e,...t},r)=>i.jsx(hE,{ref:r,className:B(a9(),e),...t}));ke.displayName=hE.displayName;const o9=1,i9=1e6;let Lp=0;function l9(){return Lp=(Lp+1)%Number.MAX_SAFE_INTEGER,Lp.toString()}const $p=new Map,S1=e=>{if($p.has(e))return;const t=setTimeout(()=>{$p.delete(e),zc({type:"REMOVE_TOAST",toastId:e})},i9);$p.set(e,t)},c9=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,o9)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?S1(r):e.toasts.forEach(n=>{S1(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Jd=[];let ef={toasts:[]};function zc(e){ef=c9(ef,e),Jd.forEach(t=>{t(ef)})}function u9({...e}){const t=l9(),r=s=>zc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>zc({type:"DISMISS_TOAST",toastId:t});return zc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Gt(){const[e,t]=m.useState(ef);return m.useEffect(()=>(Jd.push(t),()=>{const r=Jd.indexOf(t);r>-1&&Jd.splice(r,1)}),[e]),{...e,toast:u9,dismiss:r=>zc({type:"DISMISS_TOAST",toastId:r})}}const d9=({toggleView:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState(""),[a,o]=m.useState(!1),[l,c]=m.useState(!1),{toast:u}=Gt(),f=async d=>{d.preventDefault(),o(!0);try{const{data:h,error:p}=await $.auth.signInWithPassword({email:t,password:n});if(p)throw p;if(!h.user)throw new Error("No foi possvel autenticar o usurio.");u({title:"Login realizado!",description:"Bem-vindo de volta!"})}catch(h){console.error("Erro ao fazer login:",h),u({variant:"destructive",title:"Erro",description:h instanceof Error&&h.message==="Email not confirmed"?"Por favor, confirme seu email antes de fazer login.":h instanceof Error?h.message:"Erro ao fazer login. Verifique suas credenciais."})}finally{o(!1)}};return i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"email",children:"Email"}),i.jsx(Le,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:d=>r(d.target.value),required:!0,className:"rounded-xl"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"password",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"password",type:l?"text":"password",placeholder:"",value:n,onChange:d=>s(d.target.value),required:!0,className:"rounded-xl"}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>c(!l),children:l?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(q,{type:"submit",className:"w-full rounded-xl",disabled:a,children:a?"Entrando...":"Entrar"}),i.jsx(q,{type:"button",variant:"ghost",className:"w-full rounded-xl",onClick:e,children:"No tem uma conta? Crie aqui"})]})]})},f9=Go("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),xl=m.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:B(f9({variant:t}),e),...r}));xl.displayName="Alert";const qf=m.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:B("mb-1 font-medium leading-none tracking-tight",e),...t}));qf.displayName="AlertTitle";const wl=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:B("text-sm [&_p]:leading-relaxed",e),...t}));wl.displayName="AlertDescription";function Vx(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Wx="Checkbox",[h9,FG]=Dr(Wx),[m9,p9]=h9(Wx),mE=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=m.useState(null),g=je(t,_=>p(_)),v=m.useRef(!1),w=h?f||!!h.closest("form"):!0,[y=!1,x]=Rn({prop:s,defaultProp:a,onChange:u}),b=m.useRef(y);return m.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const S=()=>x(b.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[h,x]),i.jsxs(m9,{scope:r,state:y,disabled:l,children:[i.jsx(ue.button,{type:"button",role:"checkbox","aria-checked":La(y)?"mixed":y,"aria-required":o,"data-state":vE(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:g,onKeyDown:G(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:G(e.onClick,_=>{x(S=>La(S)?!0:!S),w&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),w&&i.jsx(g9,{control:h,bubbles:!v.current,name:n,value:c,checked:y,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:La(a)?!1:a})]})});mE.displayName=Wx;var pE="CheckboxIndicator",gE=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=p9(pE,r);return i.jsx(It,{present:n||La(a.state)||a.state===!0,children:i.jsx(ue.span,{"data-state":vE(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});gE.displayName=pE;var g9=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,o=m.useRef(null),l=Vx(r),c=hx(t);m.useEffect(()=>{const f=o.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});f.indeterminate=La(r),p.call(f,La(r)?!1:r),f.dispatchEvent(g)}},[l,r,n]);const u=m.useRef(La(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function La(e){return e==="indeterminate"}function vE(e){return La(e)?"indeterminate":e?"checked":"unchecked"}var yE=mE,v9=gE;const Xo=m.forwardRef(({className:e,...t},r)=>i.jsx(yE,{ref:r,className:B("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(v9,{className:B("flex items-center justify-center text-current"),children:i.jsx(Mu,{className:"h-4 w-4"})})}));Xo.displayName=yE.displayName;const y9=({toggleView:e})=>{Se();const{toast:t}=Gt();qr();const[r,n]=m.useState(!1),[s,a]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(""),[f,d]=m.useState(""),[h,p]=m.useState(null),[g,v]=m.useState(!1),[w,y]=m.useState(!1),[x,b]=m.useState(!1),[_,S]=m.useState(!1),j=async C=>{C.preventDefault(),n(!0),y(!1);const N="signupRateLimit",k=5,R=60*1e3,D=Date.now();let A=JSON.parse(localStorage.getItem(N)||"{}")||{attempts:0,lastAttempt:0};if(D-A.lastAttempt<R){if(A.attempts>=k){t({variant:"destructive",title:"Erro",description:"Muitas tentativas de cadastro. Por favor, espere e tente novamente mais tarde."}),n(!1);return}A.attempts++}else A.attempts=1;A.lastAttempt=D,localStorage.setItem(N,JSON.stringify(A));try{if(o!==c)throw new Error("As senhas no coincidem");if(!g)throw new Error("Voc precisa aceitar a poltica de dados");const{data:U,error:I}=await $.auth.signUp({email:s,password:o});if(I){if(I.status===429){t({variant:"destructive",title:"Erro",description:"Muitas tentativas de cadastro. Por favor, espere e tente novamente mais tarde."});return}throw I}if(!U.user)throw new Error("Erro ao criar usurio");const W=U.user.id;let V=null;if(h){const E=h.name.split(".").pop(),H=`${W}-${Math.random()}.${E}`;console.log("Uploading avatar during signup:",H);const{data:K}=await $.storage.listBuckets();K!=null&&K.find(ye=>ye.name==="avatars")||(console.log("Creating avatars bucket"),await $.storage.createBucket("avatars",{public:!0}));const{error:te}=await $.storage.from("avatars").upload(H,h);if(te)throw console.error("Erro ao fazer upload do avatar:",te),te;const{data:ne}=$.storage.from("avatars").getPublicUrl(H);if(V=ne.publicUrl,console.log("Avatar uploaded, public URL:",V),!V)throw new Error("Falha ao obter a URL pblica do avatar")}const{error:F}=await $.from("profiles").insert({id:W,username:f,avatar_url:V,updated_at:new Date().toISOString()});if(F)throw console.error("Erro ao criar perfil:",F),F;console.log("Profile created successfully with username:",f,"and avatar:",V),y(!0),t({title:"Conta criada com sucesso!",description:"Por favor, verifique seu email para confirmar sua conta."})}catch(U){console.error("Erro no processo de signup:",U),t({variant:"destructive",title:"Erro",description:U.message||"Ocorreu um erro ao criar a conta"})}finally{n(!1)}};return i.jsxs(i.Fragment,{children:[w&&i.jsx(xl,{className:"mb-4",children:i.jsxs(wl,{children:["Enviamos um email de confirmao para ",s,". Por favor, verifique sua caixa de entrada e confirme seu email antes de fazer login."]})}),i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"email",children:"Email"}),i.jsx(Le,{id:"email",type:"email",placeholder:"seu@email.com",value:s,onChange:C=>a(C.target.value),required:!0,className:"rounded-xl"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"username",children:"Nome de usurio"}),i.jsx(Le,{id:"username",type:"text",placeholder:"Seu nome de usurio",value:f,onChange:C=>d(C.target.value),required:!0,className:"rounded-xl"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"password",children:"Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"password",type:x?"text":"password",placeholder:"",value:o,onChange:C=>l(C.target.value),required:!0,className:"rounded-xl"}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>b(!x),children:x?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"confirmPassword",type:_?"text":"password",placeholder:"",value:c,onChange:C=>u(C.target.value),required:!0,className:"rounded-xl"}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>S(!_),children:_?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"avatar",children:"Foto (opcional)"}),i.jsx(Le,{id:"avatar",type:"file",accept:"image/*",onChange:C=>{var N;return p(((N=C.target.files)==null?void 0:N[0])||null)},className:"rounded-xl"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xo,{id:"terms",checked:g,onCheckedChange:C=>v(C),required:!0}),i.jsx(ke,{htmlFor:"terms",className:"text-sm",children:"Aceito a poltica de dados e termos de uso"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(q,{type:"submit",className:"w-full rounded-xl",disabled:r,children:r?"Carregando...":"Criar conta"}),i.jsx(q,{type:"button",variant:"ghost",className:"w-full rounded-xl",onClick:e,children:"J tem uma conta? Entre aqui"})]})]})]})},x9=()=>{const{user:e}=Se(),t=qr(),[r,n]=m.useState(!1);m.useEffect(()=>{e&&t("/dashboard")},[e,t]);const s=()=>{n(!r)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800",children:i.jsx("div",{className:"w-full max-w-md p-4 animate-fade-in",children:i.jsxs(xt,{className:"rounded-2xl border-0 shadow-xl backdrop-blur-lg bg-white/90 dark:bg-gray-950/90",children:[i.jsx(Tr,{className:"space-y-1",children:i.jsx(Pr,{className:"text-2xl text-center",children:r?"Criar conta":"Entrar"})}),i.jsx(St,{children:r?i.jsx(y9,{toggleView:s}):i.jsx(d9,{toggleView:s})})]})})})},Hs=cm,w9=um,b9=dm,xE=m.forwardRef(({className:e,...t},r)=>i.jsx(Bl,{ref:r,className:B("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xE.displayName=Bl.displayName;const cs=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(b9,{children:[i.jsx(xE,{}),i.jsxs(Vl,{ref:n,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(Bu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Qa,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cs.displayName=Vl.displayName;const us=({className:e,...t})=>i.jsx("div",{className:B("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});us.displayName="DialogHeader";const wE=({className:e,...t})=>i.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wE.displayName="DialogFooter";const ds=m.forwardRef(({className:e,...t},r)=>i.jsx(Wl,{ref:r,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));ds.displayName=Wl.displayName;const bE=m.forwardRef(({className:e,...t},r)=>i.jsx(ql,{ref:r,className:B("text-sm text-muted-foreground",e),...t}));bE.displayName=ql.displayName;function Iv(e,[t,r]){return Math.min(r,Math.max(t,e))}var _9=m.createContext(void 0);function Kl(e){const t=m.useContext(_9);return e||t||"ltr"}var S9=[" ","Enter","ArrowUp","ArrowDown"],C9=[" ","Enter"],Vu="Select",[ym,xm,j9]=Lh(Vu),[Gl,zG]=Dr(Vu,[j9,Ya]),wm=Ya(),[N9,Ja]=Gl(Vu),[k9,E9]=Gl(Vu),_E=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:g}=e,v=wm(t),[w,y]=m.useState(null),[x,b]=m.useState(null),[_,S]=m.useState(!1),j=Kl(u),[C=!1,N]=Rn({prop:n,defaultProp:s,onChange:a}),[k,R]=Rn({prop:o,defaultProp:l,onChange:c}),D=m.useRef(null),A=w?g||!!w.closest("form"):!0,[U,I]=m.useState(new Set),W=Array.from(U).map(V=>V.props.value).join(";");return i.jsx(qh,{...v,children:i.jsxs(N9,{required:p,scope:t,trigger:w,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:nn(),value:k,onValueChange:R,open:C,onOpenChange:N,dir:j,triggerPointerDownPosRef:D,disabled:h,children:[i.jsx(ym.Provider,{scope:t,children:i.jsx(k9,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(V=>{I(F=>new Set(F).add(V))},[]),onNativeOptionRemove:m.useCallback(V=>{I(F=>{const E=new Set(F);return E.delete(V),E})},[]),children:r})}),A?i.jsxs(KE,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:k,onChange:V=>R(V.target.value),disabled:h,form:g,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},W):null]})})};_E.displayName=Vu;var SE="SelectTrigger",CE=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=wm(r),o=Ja(SE,r),l=o.disabled||n,c=je(t,o.onTriggerChange),u=xm(r),f=m.useRef("touch"),[d,h,p]=GE(v=>{const w=u().filter(b=>!b.disabled),y=w.find(b=>b.value===o.value),x=QE(w,v,y);x!==void 0&&o.onValueChange(x.value)}),g=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(Lu,{asChild:!0,...a,children:i.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":HE(o.value)?"":void 0,...s,ref:c,onClick:G(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&g(v)}),onPointerDown:G(s.onPointerDown,v=>{f.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:G(s.onKeyDown,v=>{const w=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(w&&v.key===" ")&&S9.includes(v.key)&&(g(),v.preventDefault())})})})});CE.displayName=SE;var jE="SelectValue",NE=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=Ja(jE,r),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,d=je(t,c.onValueNodeChange);return Ot(()=>{u(f)},[u,f]),i.jsx(ue.span,{...l,ref:d,style:{pointerEvents:"none"},children:HE(c.value)?i.jsx(i.Fragment,{children:o}):a})});NE.displayName=jE;var T9="SelectIcon",kE=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});kE.displayName=T9;var P9="SelectPortal",EE=e=>i.jsx(Ml,{asChild:!0,...e});EE.displayName=P9;var zo="SelectContent",TE=m.forwardRef((e,t)=>{const r=Ja(zo,e.__scopeSelect),[n,s]=m.useState();if(Ot(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Ho.createPortal(i.jsx(PE,{scope:e.__scopeSelect,children:i.jsx(ym.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(RE,{...e,ref:t})});TE.displayName=zo;var gn=10,[PE,eo]=Gl(zo),R9="SelectContentImpl",RE=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:w,...y}=e,x=Ja(zo,r),[b,_]=m.useState(null),[S,j]=m.useState(null),C=je(t,oe=>_(oe)),[N,k]=m.useState(null),[R,D]=m.useState(null),A=xm(r),[U,I]=m.useState(!1),W=m.useRef(!1);m.useEffect(()=>{if(b)return lm(b)},[b]),om();const V=m.useCallback(oe=>{const[Ce,...Oe]=A().map($e=>$e.ref.current),[Te]=Oe.slice(-1),De=document.activeElement;for(const $e of oe)if($e===De||($e==null||$e.scrollIntoView({block:"nearest"}),$e===Ce&&S&&(S.scrollTop=0),$e===Te&&S&&(S.scrollTop=S.scrollHeight),$e==null||$e.focus(),document.activeElement!==De))return},[A,S]),F=m.useCallback(()=>V([N,b]),[V,N,b]);m.useEffect(()=>{U&&F()},[U,F]);const{onOpenChange:E,triggerPointerDownPosRef:M}=x;m.useEffect(()=>{if(b){let oe={x:0,y:0};const Ce=Te=>{var De,$e;oe={x:Math.abs(Math.round(Te.pageX)-(((De=M.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(Te.pageY)-((($e=M.current)==null?void 0:$e.y)??0))}},Oe=Te=>{oe.x<=10&&oe.y<=10?Te.preventDefault():b.contains(Te.target)||E(!1),document.removeEventListener("pointermove",Ce),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[b,E,M]),m.useEffect(()=>{const oe=()=>E(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[E]);const[H,K]=GE(oe=>{const Ce=A().filter(De=>!De.disabled),Oe=Ce.find(De=>De.ref.current===document.activeElement),Te=QE(Ce,oe,Oe);Te&&setTimeout(()=>Te.ref.current.focus())}),te=m.useCallback((oe,Ce,Oe)=>{const Te=!W.current&&!Oe;(x.value!==void 0&&x.value===Ce||Te)&&(k(oe),Te&&(W.current=!0))},[x.value]),ne=m.useCallback(()=>b==null?void 0:b.focus(),[b]),ye=m.useCallback((oe,Ce,Oe)=>{const Te=!W.current&&!Oe;(x.value!==void 0&&x.value===Ce||Te)&&D(oe)},[x.value]),He=n==="popper"?Lv:ME,xe=He===Lv?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:w}:{};return i.jsx(PE,{scope:r,content:b,viewport:S,onViewportChange:j,itemRefCallback:te,selectedItem:N,onItemLeave:ne,itemTextRefCallback:ye,focusSelectedItem:F,selectedItemText:R,position:n,isPositioned:U,searchRef:H,children:i.jsx(Uu,{as:Er,allowPinchZoom:!0,children:i.jsx(zu,{asChild:!0,trapped:x.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:G(s,oe=>{var Ce;(Ce=x.trigger)==null||Ce.focus({preventScroll:!0}),oe.preventDefault()}),children:i.jsx(Ko,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(He,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:oe=>oe.preventDefault(),...y,...xe,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:G(y.onKeyDown,oe=>{const Ce=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Ce&&oe.key.length===1&&K(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Te=A().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const De=oe.target,$e=Te.indexOf(De);Te=Te.slice($e+1)}setTimeout(()=>V(Te)),oe.preventDefault()}})})})})})})});RE.displayName=R9;var M9="SelectItemAlignedPosition",ME=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Ja(zo,r),o=eo(zo,r),[l,c]=m.useState(null),[u,f]=m.useState(null),d=je(t,C=>f(C)),h=xm(r),p=m.useRef(!1),g=m.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:y,focusSelectedItem:x}=o,b=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&w&&y){const C=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(a.dir!=="rtl"){const De=R.left-N.left,$e=k.left-De,de=C.left-$e,Et=C.width+de,Hr=Math.max(Et,N.width),zt=window.innerWidth-gn,$n=Iv($e,[gn,Math.max(gn,zt-Hr)]);l.style.minWidth=Et+"px",l.style.left=$n+"px"}else{const De=N.right-R.right,$e=window.innerWidth-k.right-De,de=window.innerWidth-C.right-$e,Et=C.width+de,Hr=Math.max(Et,N.width),zt=window.innerWidth-gn,$n=Iv($e,[gn,Math.max(gn,zt-Hr)]);l.style.minWidth=Et+"px",l.style.right=$n+"px"}const D=h(),A=window.innerHeight-gn*2,U=v.scrollHeight,I=window.getComputedStyle(u),W=parseInt(I.borderTopWidth,10),V=parseInt(I.paddingTop,10),F=parseInt(I.borderBottomWidth,10),E=parseInt(I.paddingBottom,10),M=W+V+U+E+F,H=Math.min(w.offsetHeight*5,M),K=window.getComputedStyle(v),te=parseInt(K.paddingTop,10),ne=parseInt(K.paddingBottom,10),ye=C.top+C.height/2-gn,He=A-ye,xe=w.offsetHeight/2,oe=w.offsetTop+xe,Ce=W+V+oe,Oe=M-Ce;if(Ce<=ye){const De=D.length>0&&w===D[D.length-1].ref.current;l.style.bottom="0px";const $e=u.clientHeight-v.offsetTop-v.offsetHeight,de=Math.max(He,xe+(De?ne:0)+$e+F),Et=Ce+de;l.style.height=Et+"px"}else{const De=D.length>0&&w===D[0].ref.current;l.style.top="0px";const de=Math.max(ye,W+v.offsetTop+(De?te:0)+xe)+Oe;l.style.height=de+"px",v.scrollTop=Ce-ye+v.offsetTop}l.style.margin=`${gn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,v,w,y,a.dir,n]);Ot(()=>b(),[b]);const[_,S]=m.useState();Ot(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(C=>{C&&g.current===!0&&(b(),x==null||x(),g.current=!1)},[b,x]);return i.jsx(A9,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(ue.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ME.displayName=M9;var D9="SelectPopperPosition",Lv=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=gn,...a}=e,o=wm(r);return i.jsx(Hh,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lv.displayName=D9;var[A9,qx]=Gl(zo,{}),$v="SelectViewport",DE=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=eo($v,r),o=qx($v,r),l=je(t,a.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(ym.Slot,{scope:r,children:i.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:G(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const g=window.innerHeight-gn*2,v=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),y=Math.max(v,w);if(y<g){const x=y+p,b=Math.min(g,x),_=x-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});DE.displayName=$v;var AE="SelectGroup",[O9,I9]=Gl(AE),L9=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=nn();return i.jsx(O9,{scope:r,id:s,children:i.jsx(ue.div,{role:"group","aria-labelledby":s,...n,ref:t})})});L9.displayName=AE;var OE="SelectLabel",IE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=I9(OE,r);return i.jsx(ue.div,{id:s.id,...n,ref:t})});IE.displayName=OE;var Hf="SelectItem",[$9,LE]=Gl(Hf),$E=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=Ja(Hf,r),c=eo(Hf,r),u=l.value===n,[f,d]=m.useState(a??""),[h,p]=m.useState(!1),g=je(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,s)}),v=nn(),w=m.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx($9,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(x=>{d(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(ym.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:i.jsx(ue.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:G(o.onFocus,()=>p(!0)),onBlur:G(o.onBlur,()=>p(!1)),onClick:G(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:G(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:G(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:G(o.onPointerMove,x=>{var b;w.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:G(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(C9.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});$E.displayName=Hf;var bc="SelectItemText",FE=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=Ja(bc,r),l=eo(bc,r),c=LE(bc,r),u=E9(bc,r),[f,d]=m.useState(null),h=je(t,y=>d(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=f==null?void 0:f.textContent,g=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return Ot(()=>(v(g),()=>w(g)),[v,w,g]),i.jsxs(i.Fragment,{children:[i.jsx(ue.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ho.createPortal(a.children,o.valueNode):null]})});FE.displayName=bc;var zE="SelectItemIndicator",UE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return LE(zE,r).isSelected?i.jsx(ue.span,{"aria-hidden":!0,...n,ref:t}):null});UE.displayName=zE;var Fv="SelectScrollUpButton",BE=m.forwardRef((e,t)=>{const r=eo(Fv,e.__scopeSelect),n=qx(Fv,e.__scopeSelect),[s,a]=m.useState(!1),o=je(t,n.onScrollButtonChange);return Ot(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(WE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});BE.displayName=Fv;var zv="SelectScrollDownButton",VE=m.forwardRef((e,t)=>{const r=eo(zv,e.__scopeSelect),n=qx(zv,e.__scopeSelect),[s,a]=m.useState(!1),o=je(t,n.onScrollButtonChange);return Ot(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(WE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});VE.displayName=zv;var WE=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=eo("SelectScrollButton",r),o=m.useRef(null),l=xm(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ot(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:G(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:G(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:G(s.onPointerLeave,()=>{c()})})}),F9="SelectSeparator",qE=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ue.div,{"aria-hidden":!0,...n,ref:t})});qE.displayName=F9;var Uv="SelectArrow",z9=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=wm(r),a=Ja(Uv,r),o=eo(Uv,r);return a.open&&o.position==="popper"?i.jsx(Kh,{...s,...n,ref:t}):null});z9.displayName=Uv;function HE(e){return e===""||e===void 0}var KE=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),a=je(t,s),o=Vx(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&f){const d=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(d)}},[o,r]),i.jsx(Pu,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});KE.displayName="BubbleSelect";function GE(e){const t=ct(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function QE(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=U9(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function U9(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var B9=_E,YE=CE,V9=NE,W9=kE,q9=EE,ZE=TE,H9=DE,XE=IE,JE=$E,K9=FE,G9=UE,e2=BE,t2=VE,r2=qE;const Rs=B9,Ms=V9,rs=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(YE,{ref:n,className:B("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(W9,{asChild:!0,children:i.jsx(oj,{className:"h-4 w-4 opacity-50"})})]}));rs.displayName=YE.displayName;const n2=m.forwardRef(({className:e,...t},r)=>i.jsx(e2,{ref:r,className:B("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(XA,{className:"h-4 w-4"})}));n2.displayName=e2.displayName;const s2=m.forwardRef(({className:e,...t},r)=>i.jsx(t2,{ref:r,className:B("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(oj,{className:"h-4 w-4"})}));s2.displayName=t2.displayName;const ns=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(q9,{children:i.jsxs(ZE,{ref:s,className:B("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(n2,{}),i.jsx(H9,{className:B("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(s2,{})]})}));ns.displayName=ZE.displayName;const Q9=m.forwardRef(({className:e,...t},r)=>i.jsx(XE,{ref:r,className:B("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Q9.displayName=XE.displayName;const dt=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(JE,{ref:n,className:B("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(G9,{children:i.jsx(Mu,{className:"h-4 w-4"})})}),i.jsx(K9,{children:t})]}));dt.displayName=JE.displayName;const Y9=m.forwardRef(({className:e,...t},r)=>i.jsx(r2,{ref:r,className:B("-mx-1 my-1 h-px bg-muted",e),...t}));Y9.displayName=r2.displayName;function Z9(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:p,...g}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=m.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,f]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,X9(s,...t)]}function X9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Fp="rovingFocusGroup.onEntryFocus",J9={bubbles:!1,cancelable:!0},bm="RovingFocusGroup",[Bv,a2,ez]=Lh(bm),[tz,Ql]=Z9(bm,[ez]),[rz,nz]=tz(bm),o2=m.forwardRef((e,t)=>i.jsx(Bv.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Bv.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(sz,{...e,ref:t})})}));o2.displayName=bm;var sz=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=m.useRef(null),p=je(t,h),g=Kl(a),[v=null,w]=Rn({prop:o,defaultProp:l,onChange:c}),[y,x]=m.useState(!1),b=ct(u),_=a2(r),S=m.useRef(!1),[j,C]=m.useState(0);return m.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Fp,b),()=>N.removeEventListener(Fp,b)},[b]),i.jsx(rz,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(N=>w(N),[w]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>C(N=>N-1),[]),children:i.jsx(ue.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{S.current=!0}),onFocus:G(e.onFocus,N=>{const k=!S.current;if(N.target===N.currentTarget&&k&&!y){const R=new CustomEvent(Fp,J9);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=_().filter(V=>V.focusable),A=D.find(V=>V.active),U=D.find(V=>V.id===v),W=[A,U,...D].filter(Boolean).map(V=>V.ref.current);c2(W,f)}}S.current=!1}),onBlur:G(e.onBlur,()=>x(!1))})})}),i2="RovingFocusGroupItem",l2=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=e,l=nn(),c=a||l,u=nz(i2,r),f=u.currentTabStopId===c,d=a2(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),i.jsx(Bv.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(ue.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:G(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:G(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:G(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=iz(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=d().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const x=y.indexOf(g.currentTarget);y=u.loop?lz(y,x+1):y.slice(x+1)}setTimeout(()=>c2(y))}})})})});l2.displayName=i2;var az={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iz(e,t,r){const n=oz(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return az[n]}function c2(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function lz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Hx=o2,Kx=l2,Gx="Radio",[cz,u2]=Dr(Gx),[uz,dz]=cz(Gx),d2=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...f}=e,[d,h]=m.useState(null),p=je(t,w=>h(w)),g=m.useRef(!1),v=d?u||!!d.closest("form"):!0;return i.jsxs(uz,{scope:r,checked:s,disabled:o,children:[i.jsx(ue.button,{type:"button",role:"radio","aria-checked":s,"data-state":m2(s),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:p,onClick:G(e.onClick,w=>{s||c==null||c(),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&i.jsx(fz,{control:d,bubbles:!g.current,name:n,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});d2.displayName=Gx;var f2="RadioIndicator",h2=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=dz(f2,r);return i.jsx(It,{present:n||a.checked,children:i.jsx(ue.span,{"data-state":m2(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});h2.displayName=f2;var fz=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=m.useRef(null),o=Vx(r),l=hx(t);return m.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&d){const h=new Event("click",{bubbles:n});d.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m2(e){return e?"checked":"unchecked"}var hz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qx="RadioGroup",[mz,UG]=Dr(Qx,[Ql,u2]),p2=Ql(),g2=u2(),[pz,gz]=mz(Qx),v2=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:f=!0,onValueChange:d,...h}=e,p=p2(r),g=Kl(u),[v,w]=Rn({prop:a,defaultProp:s,onChange:d});return i.jsx(pz,{scope:r,name:n,required:o,disabled:l,value:v,onValueChange:w,children:i.jsx(Hx,{asChild:!0,...p,orientation:c,dir:g,loop:f,children:i.jsx(ue.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});v2.displayName=Qx;var y2="RadioGroupItem",x2=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=gz(y2,r),o=a.disabled||n,l=p2(r),c=g2(r),u=m.useRef(null),f=je(t,u),d=a.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const p=v=>{hz.includes(v.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),i.jsx(Kx,{asChild:!0,...l,focusable:!o,active:d,children:i.jsx(d2,{disabled:o,required:a.required,checked:d,...c,...s,name:a.name,ref:f,onCheck:()=>a.onValueChange(s.value),onKeyDown:G(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:G(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});x2.displayName=y2;var vz="RadioGroupIndicator",w2=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=g2(r);return i.jsx(h2,{...s,...n,ref:t})});w2.displayName=vz;var b2=v2,_2=x2,yz=w2;const _m=m.forwardRef(({className:e,...t},r)=>i.jsx(b2,{className:B("grid gap-2",e),...t,ref:r}));_m.displayName=b2.displayName;const $a=m.forwardRef(({className:e,...t},r)=>i.jsx(_2,{ref:r,className:B("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(yz,{className:"flex items-center justify-center",children:i.jsx(Du,{className:"h-2.5 w-2.5 fill-current text-current"})})}));$a.displayName=_2.displayName;function xz({amount:e,setAmount:t,description:r,setDescription:n,paymentMethod:s,setPaymentMethod:a,type:o,setType:l,clientId:c,setClientId:u,goalId:f,setGoalId:d,isLoading:h,clients:p,goals:g,onSubmit:v}){return i.jsxs("form",{onSubmit:v,className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(ke,{className:"text-base sm:text-lg font-medium",children:"Tipo"}),i.jsxs(_m,{value:o,onValueChange:w=>l(w),className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs("div",{className:`flex items-center space-x-3 p-3 sm:p-4 border rounded-lg cursor-pointer transition-colors ${o==="expense"?"border-red-500 bg-red-50":"border-input hover:bg-accent"}`,children:[i.jsx($a,{value:"expense",id:"expense"}),i.jsxs(ke,{htmlFor:"expense",className:"flex items-center gap-2 cursor-pointer",children:[i.jsx(zh,{className:"w-4 h-4 text-red-500"}),i.jsx("span",{className:"text-red-500 font-medium",children:"Despesa"})]})]}),i.jsxs("div",{className:`flex items-center space-x-3 p-3 sm:p-4 border rounded-lg cursor-pointer transition-colors ${o==="income"?"border-green-500 bg-green-50":"border-input hover:bg-accent"}`,children:[i.jsx($a,{value:"income",id:"income"}),i.jsxs(ke,{htmlFor:"income",className:"flex items-center gap-2 cursor-pointer",children:[i.jsx(Uh,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:"text-green-500 font-medium",children:"Receita"})]})]}),i.jsxs("div",{className:`flex items-center space-x-3 p-3 sm:p-4 border rounded-lg cursor-pointer transition-colors ${o==="investment"?"border-blue-500 bg-blue-50":"border-input hover:bg-accent"}`,children:[i.jsx($a,{value:"investment",id:"investment"}),i.jsxs(ke,{htmlFor:"investment",className:"flex items-center gap-2 cursor-pointer",children:[i.jsx(Li,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-blue-500 font-medium",children:"Investimento"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"amount",children:"Valor"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"R$"}),i.jsx(Le,{id:"amount",type:"number",step:"0.01",min:"0",value:e,onChange:w=>t(w.target.value),placeholder:"0,00",required:!0,className:`pl-8 text-base ${o==="expense"?"border-red-200 focus:border-red-500":o==="income"?"border-green-200 focus:border-green-500":"border-blue-200 focus:border-blue-500"}`})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"description",children:"Descrio"}),i.jsx(Le,{id:"description",value:r,onChange:w=>n(w.target.value),placeholder:o==="investment"?"Ex: Aes, Fundos, Tesouro Direto...":"Ex: Corrida, Manuteno...",required:!0,className:"focus:border-primary text-base"})]}),o==="investment"&&g&&g.length>0&&d&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"goal",children:"Meta Financeira (Opcional)"}),i.jsxs(Rs,{value:f||"none",onValueChange:w=>d(w==="none"?null:w),children:[i.jsx(rs,{className:"border-blue-200 focus:border-blue-500",children:i.jsx(Ms,{placeholder:"Selecione uma meta para vincular este investimento"})}),i.jsxs(ns,{children:[i.jsx(dt,{value:"none",children:"Nenhuma meta"}),g.map(w=>i.jsx(dt,{value:w.id,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:w.goal_icon}),i.jsx("span",{className:"truncate",children:w.description||`Meta de ${w.goal_type}`})]})},w.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"paymentMethod",children:"Forma de Pagamento"}),i.jsxs(Rs,{value:s,onValueChange:w=>{a(w),w!=="invoice"&&u(null)},children:[i.jsx(rs,{children:i.jsx(Ms,{placeholder:"Selecione a forma de pagamento"})}),i.jsxs(ns,{children:[i.jsx(dt,{value:"pix",children:"PIX"}),i.jsx(dt,{value:"cash",children:"Dinheiro"}),i.jsx(dt,{value:"invoice",children:"Faturado"})]})]})]}),s==="invoice"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"client",children:"Cliente"}),i.jsxs(Rs,{value:c||"",onValueChange:u,required:!0,children:[i.jsx(rs,{children:i.jsx(Ms,{placeholder:"Selecione o cliente"})}),i.jsx(ns,{children:p==null?void 0:p.map(w=>i.jsx(dt,{value:w.id,children:w.name},w.id))})]})]}),i.jsx(q,{type:"submit",className:`w-full ${o==="investment"?"bg-blue-500 hover:bg-blue-600":""}`,disabled:h,variant:o==="expense"?"destructive":"default",children:h?"Adicionando...":"Adicionar"})]})}function wz(e){const[t,r]=m.useState(""),[n,s]=m.useState(""),[a,o]=m.useState("pix"),[l,c]=m.useState("expense"),[u,f]=m.useState(null),[d,h]=m.useState(null),[p,g]=m.useState(!1),{toast:v}=Gt(),{user:w}=Se(),{data:y}=jt({queryKey:["clients",w==null?void 0:w.id],queryFn:async()=>{if(!w)return[];const{data:S,error:j}=await $.from("clients").select().eq("user_id",w.id).order("name");if(j)throw j;return S},enabled:!!w}),{data:x}=jt({queryKey:["financial-goals",w==null?void 0:w.id],queryFn:async()=>{if(!w)return[];const{data:S,error:j}=await $.from("financial_goals").select("*").eq("user_id",w.id).eq("active",!0).order("created_at",{ascending:!1});if(j)throw j;return S},enabled:!!w}),b=async S=>{if(S.preventDefault(),!!w){if(g(!0),a==="invoice"&&!u){v({title:"Erro",description:"Selecione um cliente para transaes faturadas",variant:"destructive"}),g(!1);return}try{const j={description:n,amount:l==="expense"?-Math.abs(Number(t)):Math.abs(Number(t)),client_id:u,goal_id:l==="investment"?d:null,type:l,user_id:w.id,payment_method:a,payment_status:l==="investment"||l==="expense"?"confirmed":"pending",date:new Date().toISOString()},{error:C}=await $.from("transactions").insert(j);if(C)throw C;const N={expense:"despesa",income:"receita",investment:"investimento"}[l];v({title:"Sucesso",description:`${N.charAt(0).toUpperCase()+N.slice(1)} adicionada com sucesso${l==="investment"&&d?" e vinculada  meta":""}`}),e==null||e(),_()}catch(j){console.error("Error adding transaction:",j),v({title:"Erro",description:"Falha ao adicionar transao",variant:"destructive"})}finally{g(!1)}}},_=()=>{r(""),s(""),o("pix"),f(null),h(null),c("expense")};return{amount:t,setAmount:r,description:n,setDescription:s,paymentMethod:a,setPaymentMethod:o,type:l,setType:c,clientId:u,setClientId:f,goalId:d,setGoalId:h,isLoading:p,clients:y,goals:x,handleSubmit:b,resetForm:_}}function bz({open:e,onOpenChange:t,onTransactionAdded:r}){const{amount:n,setAmount:s,description:a,setDescription:o,paymentMethod:l,setPaymentMethod:c,type:u,setType:f,clientId:d,setClientId:h,goalId:p,setGoalId:g,isLoading:v,clients:w,goals:y,handleSubmit:x}=wz(()=>{r==null||r(),t(!1)});return i.jsx(Hs,{open:e,onOpenChange:t,children:i.jsxs(cs,{className:"w-[95vw] max-w-md sm:max-w-[425px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[i.jsx(us,{className:"pb-4",children:i.jsx(ds,{className:"text-xl sm:text-2xl font-bold",children:"Nova Transao"})}),i.jsx(xz,{amount:n,setAmount:s,description:a,setDescription:o,paymentMethod:l,setPaymentMethod:c,type:u,setType:f,clientId:d,setClientId:h,goalId:p,setGoalId:g,isLoading:v,clients:w,goals:y,onSubmit:x})]})})}function ve(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Rr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Xt(e,t){const r=ve(e);return isNaN(t)?Rr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function un(e,t){const r=ve(e);if(isNaN(t))return Rr(e,NaN);if(!t)return r;const n=r.getDate(),s=Rr(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const Yx=6048e5,_z=864e5,S2=6e4,C2=36e5,Md=43200,C1=1440;let Sz={};function Yl(){return Sz}function An(e,t){var l,c,u,f;const r=Yl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=ve(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Uo(e){return An(e,{weekStartsOn:1})}function j2(e){const t=ve(e),r=t.getFullYear(),n=Rr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Uo(n),a=Rr(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Uo(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function er(e){const t=ve(e);return t.setHours(0,0,0,0),t}function bl(e){const t=ve(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function jn(e,t){const r=er(e),n=er(t),s=+r-bl(r),a=+n-bl(n);return Math.round((s-a)/_z)}function Cz(e){const t=j2(e),r=Rr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Uo(r)}function Vv(e,t){const r=t*7;return Xt(e,r)}function N2(e,t){return un(e,t*12)}function jz(e){let t;return e.forEach(function(r){const n=ve(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Nz(e){let t;return e.forEach(r=>{const n=ve(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function tf(e,t){const r=ve(e),n=ve(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function kz(e){return Rr(e,Date.now())}function Cr(e,t){const r=er(e),n=er(t);return+r==+n}function Zx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ez(e){if(!Zx(e)&&typeof e!="number")return!1;const t=ve(e);return!isNaN(Number(t))}function _l(e,t){const r=ve(e),n=ve(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function Tz(e,t,r){const n=An(e,r),s=An(t,r),a=+n-bl(n),o=+s-bl(s);return Math.round((a-o)/Yx)}function Pz(e,t){const r=ve(e),n=ve(t),s=j1(r,n),a=Math.abs(jn(r,n));r.setDate(r.getDate()-s*a);const o=+(j1(r,n)===-s),l=s*(a-o);return l===0?0:l}function j1(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Rz(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Mz(e,t){return+ve(e)-+ve(t)}function Jn(e){const t=ve(e);return t.setHours(23,59,59,999),t}function Sl(e){const t=ve(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Dz(e){const t=ve(e);return+Jn(t)==+Sl(t)}function Az(e,t){const r=ve(e),n=ve(t),s=tf(r,n),a=Math.abs(_l(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=tf(r,n)===-s;Dz(ve(e))&&a===1&&tf(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function Oz(e,t,r){const n=Mz(e,t)/1e3;return Rz(r==null?void 0:r.roundingMethod)(n)}function Ht(e){const t=ve(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Xx(e){const t=ve(e),r=Rr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Jx(e,t){var l,c,u,f;const r=Yl(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=ve(e),a=s.getDay(),o=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function k2(e){return Jx(e,{weekStartsOn:1})}const Iz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Lz=(e,t,r)=>{let n;const s=Iz[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vi(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const $z={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uz={date:Vi({formats:$z,defaultWidth:"full"}),time:Vi({formats:Fz,defaultWidth:"full"}),dateTime:Vi({formats:zz,defaultWidth:"full"})},Bz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vz=(e,t,r,n)=>Bz[e];function es(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Wz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yz=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Zz={ordinalNumber:Yz,era:es({values:Wz,defaultWidth:"wide"}),quarter:es({values:qz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:es({values:Hz,defaultWidth:"wide"}),day:es({values:Kz,defaultWidth:"wide"}),dayPeriod:es({values:Gz,defaultWidth:"wide",formattingValues:Qz,defaultFormattingWidth:"wide"})};function ts(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Jz(l,d=>d.test(o)):Xz(l,d=>d.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function Xz(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Jz(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function E2(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const eU=/^(\d+)(th|st|nd|rd)?/i,tU=/\d+/i,rU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nU={any:[/^b/i,/^(a|c)/i]},sU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aU={any:[/1/i,/2/i,/3/i,/4/i]},oU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fU={ordinalNumber:E2({matchPattern:eU,parsePattern:tU,valueCallback:e=>parseInt(e,10)}),era:ts({matchPatterns:rU,defaultMatchWidth:"wide",parsePatterns:nU,defaultParseWidth:"any"}),quarter:ts({matchPatterns:sU,defaultMatchWidth:"wide",parsePatterns:aU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ts({matchPatterns:oU,defaultMatchWidth:"wide",parsePatterns:iU,defaultParseWidth:"any"}),day:ts({matchPatterns:lU,defaultMatchWidth:"wide",parsePatterns:cU,defaultParseWidth:"any"}),dayPeriod:ts({matchPatterns:uU,defaultMatchWidth:"any",parsePatterns:dU,defaultParseWidth:"any"})},e0={code:"en-US",formatDistance:Lz,formatLong:Uz,formatRelative:Vz,localize:Zz,match:fU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hU(e){const t=ve(e);return jn(t,Xx(t))+1}function T2(e){const t=ve(e),r=+Uo(t)-+Cz(t);return Math.round(r/Yx)+1}function P2(e,t){var f,d,h,p;const r=ve(e),n=r.getFullYear(),s=Yl(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Rr(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=An(o,t),c=Rr(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=An(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function mU(e,t){var l,c,u,f;const r=Yl(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=P2(e,t),a=Rr(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),An(a,t)}function R2(e,t){const r=ve(e),n=+An(r,t)-+mU(r,t);return Math.round(n/Yx)+1}function Qe(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const na={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Qe(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qe(r+1,2)},d(e,t){return Qe(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qe(e.getHours()%12||12,t.length)},H(e,t){return Qe(e.getHours(),t.length)},m(e,t){return Qe(e.getMinutes(),t.length)},s(e,t){return Qe(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Qe(s,t.length)}},pi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},N1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return na.y(e,t)},Y:function(e,t,r,n){const s=P2(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Qe(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Qe(a,t.length)},R:function(e,t){const r=j2(e);return Qe(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qe(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return na.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=R2(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Qe(s,t.length)},I:function(e,t,r){const n=T2(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Qe(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):na.d(e,t)},D:function(e,t,r){const n=hU(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qe(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Qe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Qe(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Qe(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=pi.noon:n===0?s=pi.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=pi.evening:n>=12?s=pi.afternoon:n>=4?s=pi.morning:s=pi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return na.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):na.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qe(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qe(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):na.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):na.s(e,t)},S:function(e,t){return na.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return E1(n);case"XXXX":case"XX":return uo(n);case"XXXXX":case"XXX":default:return uo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return E1(n);case"xxxx":case"xx":return uo(n);case"xxxxx":case"xxx":default:return uo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+k1(n,":");case"OOOO":default:return"GMT"+uo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+k1(n,":");case"zzzz":default:return"GMT"+uo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Qe(n,t.length)},T:function(e,t,r){const n=e.getTime();return Qe(n,t.length)}};function k1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Qe(a,2)}function E1(e,t){return e%60===0?(e>0?"-":"+")+Qe(Math.abs(e)/60,2):uo(e,t)}function uo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Qe(Math.trunc(n/60),2),a=Qe(n%60,2);return r+s+t+a}const T1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},M2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pU=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return T1(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",T1(n,t)).replace("{{time}}",M2(s,t))},gU={p:M2,P:pU},vU=/^D+$/,yU=/^Y+$/,xU=["D","DD","YY","YYYY"];function wU(e){return vU.test(e)}function bU(e){return yU.test(e)}function _U(e,t,r){const n=SU(e,t,r);if(console.warn(n),xU.includes(e))throw new RangeError(n)}function SU(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NU=/^'([^]*?)'?$/,kU=/''/g,EU=/[a-zA-Z]/;function Me(e,t,r){var f,d,h,p,g,v,w,y;const n=Yl(),s=(r==null?void 0:r.locale)??n.locale??e0,a=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(w=n.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??0,l=ve(e);if(!Ez(l))throw new RangeError("Invalid time value");let c=t.match(jU).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=gU[b];return _(x,s.formatLong)}return x}).join("").match(CU).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:TU(x)};if(N1[b])return{isToken:!0,value:x};if(b.match(EU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&bU(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&wU(b))&&_U(b,t,String(e));const _=N1[b[0]];return _(l,b,s.localize,u)}).join("")}function TU(e){const t=e.match(NU);return t?t[1].replace(kU,"'"):e}function PU(e,t,r){const n=Yl(),s=(r==null?void 0:r.locale)??n.locale??e0,a=2520,o=tf(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=ve(t),u=ve(e)):(c=ve(e),u=ve(t));const f=Oz(u,c),d=(bl(u)-bl(c))/1e3,h=Math.round((f-d)/60);let p;if(h<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<C1){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<Md){const g=Math.round(h/C1);return s.formatDistance("xDays",g,l)}else if(h<Md*2)return p=Math.round(h/Md),s.formatDistance("aboutXMonths",p,l)}if(p=Az(u,c),p<12){const g=Math.round(h/Md);return s.formatDistance("xMonths",g,l)}else{const g=p%12,v=Math.trunc(p/12);return g<3?s.formatDistance("aboutXYears",v,l):g<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function Kf(e,t){return PU(e,kz(e),t)}function RU(e){const t=ve(e),r=t.getFullYear(),n=t.getMonth(),s=Rr(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function MU(e){return Math.trunc(+ve(e)/1e3)}function DU(e){const t=ve(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function AU(e,t){return Tz(DU(e),Ht(e),t)+1}function Wv(e,t){const r=ve(e),n=ve(t);return r.getTime()>n.getTime()}function t0(e,t){const r=ve(e),n=ve(t);return+r<+n}function r0(e,t){const r=ve(e),n=ve(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function OU(e,t){const r=ve(e),n=ve(t);return r.getFullYear()===n.getFullYear()}function P1(e,t){const r=+ve(e),[n,s]=[+ve(t.start),+ve(t.end)].sort((a,o)=>a-o);return r>=n&&r<=s}function Wi(e,t){return Xt(e,-t)}function Yn(e,t){const n=FU(e);let s;if(n.date){const c=zU(n.date,2);s=UU(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let o=0,l;if(n.time&&(o=BU(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=VU(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const Dd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},IU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$U=/^([+-])(\d{2})(?::?(\d{2}))?$/;function FU(e){const t={},r=e.split(Dd.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Dd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Dd.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Dd.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function zU(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function UU(e,t){if(t===null)return new Date(NaN);const r=e.match(IU);if(!r)return new Date(NaN);const n=!!r[4],s=fc(r[1]),a=fc(r[2])-1,o=fc(r[3]),l=fc(r[4]),c=fc(r[5])-1;if(n)return GU(t,l,c)?WU(t,l,c):new Date(NaN);{const u=new Date(0);return!HU(t,a,o)||!KU(t,s)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(s,o)),u)}}function fc(e){return e?parseInt(e):1}function BU(e){const t=e.match(LU);if(!t)return NaN;const r=zp(t[1]),n=zp(t[2]),s=zp(t[3]);return QU(r,n,s)?r*C2+n*S2+s*1e3:NaN}function zp(e){return e&&parseFloat(e.replace(",","."))||0}function VU(e){if(e==="Z")return 0;const t=e.match($U);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return YU(n,s)?r*(n*C2+s*S2):NaN}function WU(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,a=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const qU=[31,null,31,30,31,30,31,31,30,31,30,31];function D2(e){return e%400===0||e%4===0&&e%100!==0}function HU(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(qU[t]||(D2(e)?29:28))}function KU(e,t){return t>=1&&t<=(D2(e)?366:365)}function GU(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function QU(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function YU(e,t){return t>=0&&t<=59}function Up(e,t){const r=ve(e),n=r.getFullYear(),s=r.getDate(),a=Rr(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=RU(a);return r.setMonth(t,Math.min(s,o)),r}function R1(e,t){const r=ve(e);return isNaN(+r)?Rr(e,NaN):(r.setFullYear(t),r)}function Gf(e,t){return un(e,-t)}function ZU(e,t){return N2(e,-t)}function XU({transactions:e}){const t=m.useMemo(()=>{if(!e||e.length===0)return{totalDinheiroReceita:0,totalPixReceita:0,totalFaturado:0,totalLucros:0,totalGastos:0,totalGastosDinheiro:0,totalGastosPix:0,totalPendentes:0,totalAcumulado:0};const r=e.filter(d=>d.payment_method==="cash"&&d.payment_status==="confirmed"&&d.type==="income").reduce((d,h)=>d+h.amount,0),n=e.filter(d=>d.payment_method==="pix"&&d.payment_status==="confirmed"&&d.type==="income").reduce((d,h)=>d+h.amount,0),s=e.filter(d=>d.payment_method==="invoice"&&d.payment_status==="confirmed"&&d.type==="income").reduce((d,h)=>d+h.amount,0),a=e.filter(d=>d.type==="income"&&d.payment_status==="confirmed").reduce((d,h)=>d+h.amount,0),o=e.filter(d=>d.type==="expense"&&d.payment_status==="confirmed").reduce((d,h)=>d+h.amount,0),l=e.filter(d=>d.payment_method==="cash"&&d.payment_status==="confirmed"&&d.type==="expense").reduce((d,h)=>d+h.amount,0),c=e.filter(d=>d.payment_method==="pix"&&d.payment_status==="confirmed"&&d.type==="expense").reduce((d,h)=>d+h.amount,0),u=e.filter(d=>d.payment_status==="pending"&&d.type==="income").reduce((d,h)=>d+h.amount,0),f=a+o;return{totalDinheiroReceita:r,totalPixReceita:n,totalFaturado:s,totalLucros:a,totalGastos:o,totalGastosDinheiro:l,totalGastosPix:c,totalPendentes:u,totalAcumulado:f}},[e]);return i.jsxs("div",{className:"w-full h-full flex flex-col bg-background text-foreground p-6 rounded-xl shadow-md",children:[i.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Resumo Financeiro"}),i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-muted rounded-lg p-4 flex flex-col",children:[i.jsx("h3",{className:"text-base font-medium text-muted-foreground mb-4",children:"Receitas"}),i.jsxs("ul",{className:"space-y-4 flex-1",children:[i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Dinheiro"}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",t.totalDinheiroReceita.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Pix"}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",t.totalPixReceita.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Faturado"}),i.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["R$ ",t.totalFaturado.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Pendentes"}),i.jsxs("span",{className:"font-semibold text-yellow-600 dark:text-yellow-400",children:["R$ ",t.totalPendentes.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center pt-4 border-t border-border",children:[i.jsx("span",{className:"font-medium",children:"Total de Lucros"}),i.jsxs("span",{className:"font-semibold text-green-700 dark:text-green-300",children:["R$ ",t.totalLucros.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"bg-muted rounded-lg p-4 flex flex-col",children:[i.jsx("h3",{className:"text-base font-medium text-muted-foreground mb-4",children:"Gastos"}),i.jsxs("ul",{className:"space-y-4 flex-1",children:[i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Dinheiro"}),i.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:["R$ ",t.totalGastosDinheiro.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Pix"}),i.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:["R$ ",t.totalGastosPix.toFixed(2)]})]}),i.jsxs("li",{className:"flex justify-between items-center pt-4 border-t border-border",children:[i.jsx("span",{className:"font-medium",children:"Total de Gastos"}),i.jsxs("span",{className:"font-semibold text-red-700 dark:text-red-300",children:["R$ ",t.totalGastos.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"bg-muted rounded-lg p-4 flex flex-col justify-center items-center",children:[i.jsx("h3",{className:"text-base font-medium text-muted-foreground mb-4",children:"Total"}),i.jsxs("span",{className:`text-3xl font-bold ${t.totalAcumulado>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["R$ ",t.totalAcumulado.toFixed(2)]})]})]})]})}const JU={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},e7=(e,t,r)=>{let n;const s=JU[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},t7={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},r7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},n7={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s7={date:Vi({formats:t7,defaultWidth:"full"}),time:Vi({formats:r7,defaultWidth:"full"}),dateTime:Vi({formats:n7,defaultWidth:"full"})},a7={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},o7=(e,t,r,n)=>{const s=a7[e];return typeof s=="function"?s(t):s},i7={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},l7={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},c7={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},u7={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},d7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},f7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},h7=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},m7={ordinalNumber:h7,era:es({values:i7,defaultWidth:"wide"}),quarter:es({values:l7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:es({values:c7,defaultWidth:"wide"}),day:es({values:u7,defaultWidth:"wide"}),dayPeriod:es({values:d7,defaultWidth:"wide",formattingValues:f7,defaultFormattingWidth:"wide"})},p7=/^(\d+)[o]?/i,g7=/\d+/i,v7={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},y7={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},x7={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},w7={any:[/1/i,/2/i,/3/i,/4/i]},b7={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},_7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},S7={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},C7={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},j7={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},N7={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},k7={ordinalNumber:E2({matchPattern:p7,parsePattern:g7,valueCallback:e=>parseInt(e,10)}),era:ts({matchPatterns:v7,defaultMatchWidth:"wide",parsePatterns:y7,defaultParseWidth:"any"}),quarter:ts({matchPatterns:x7,defaultMatchWidth:"wide",parsePatterns:w7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ts({matchPatterns:b7,defaultMatchWidth:"wide",parsePatterns:_7,defaultParseWidth:"any"}),day:ts({matchPatterns:S7,defaultMatchWidth:"wide",parsePatterns:C7,defaultParseWidth:"any"}),dayPeriod:ts({matchPatterns:j7,defaultMatchWidth:"any",parsePatterns:N7,defaultParseWidth:"any"})},et={code:"pt-BR",formatDistance:e7,formatLong:s7,formatRelative:o7,localize:m7,match:k7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function E7({transaction:e,isSelected:t=!1,onToggleSelection:r,onOpenConfirmDialog:n,showSelection:s=!1}){var f;const a=d=>d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),o=d=>{switch(d){case"confirmed":return i.jsx(Rf,{className:"h-4 w-4 text-green-500"});case"pending":return i.jsx(Au,{className:"h-4 w-4 text-yellow-500"});case"failed":return i.jsx(Ou,{className:"h-4 w-4 text-red-500"});default:return null}},l=d=>{switch(d){case"income":return"text-green-600";case"expense":return"text-red-600";case"investment":return"text-blue-600";default:return"text-foreground"}},c=d=>{switch(d){case"income":return"Receita";case"expense":return"Despesa";case"investment":return"Investimento";default:return d}},u=e.payment_status==="pending"&&e.payment_method!=="invoice"&&e.type!=="investment";return i.jsxs("div",{className:B("flex items-center justify-between p-4 border-l-4 rounded-lg bg-card hover:bg-accent/50 transition-colors",e.type==="investment"?"border-l-blue-500 bg-blue-50/50":e.type==="income"?"border-l-green-500":"border-l-red-500",t&&"bg-accent"),children:[i.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[s&&u&&i.jsx(Xo,{checked:t,onCheckedChange:()=>r==null?void 0:r(e.id)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.type==="investment"&&i.jsx(Li,{className:"h-4 w-4 text-blue-500"}),i.jsx("p",{className:"text-sm font-medium truncate",children:e.description}),i.jsx(qs,{variant:"outline",className:"text-xs",children:c(e.type)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o(e.payment_status),i.jsx("span",{children:e.payment_method}),((f=e.client)==null?void 0:f.name)&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{children:e.client.name})]})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:B("font-semibold",l(e.type)),children:a(Math.abs(e.amount))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Me(new Date(e.date),"dd/MM",{locale:et})})]}),e.payment_status==="pending"&&e.payment_method!=="invoice"&&e.type!=="investment"&&i.jsx(q,{size:"sm",variant:"outline",onClick:()=>n==null?void 0:n([e.id]),className:"ml-2",children:"Confirmar"})]})}function T7({transactions:e,isLoading:t,selectedTransactions:r,onSelectTransaction:n,onOpenConfirmDialog:s}){if(t)return i.jsx("p",{className:"text-muted-foreground dark:text-gray-400",children:"Carregando..."});if(e.length===0)return i.jsx("p",{className:"text-center text-muted-foreground py-8 dark:text-gray-400",children:"Nenhuma transao para o perodo selecionado."});const a=o=>{const l=e.find(c=>c.id===o);if(l){const c=l.payment_status==="pending"&&l.payment_method!=="invoice"&&l.type!=="investment";n(o,c)}};return i.jsx("div",{className:"space-y-2",children:e.map(o=>i.jsx(E7,{transaction:o,isSelected:r.includes(o.id),onToggleSelection:a,onOpenConfirmDialog:s,showSelection:!0},o.id))})}var A2="AlertDialog",[P7,BG]=Dr(A2,[ik]),Ys=ik(),O2=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ys(t);return i.jsx(cm,{...n,...r,modal:!0})};O2.displayName=A2;var R7="AlertDialogTrigger",M7=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ys(r);return i.jsx(um,{...s,...n,ref:t})});M7.displayName=R7;var D7="AlertDialogPortal",I2=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ys(t);return i.jsx(dm,{...n,...r})};I2.displayName=D7;var A7="AlertDialogOverlay",L2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ys(r);return i.jsx(Bl,{...s,...n,ref:t})});L2.displayName=A7;var qi="AlertDialogContent",[O7,I7]=P7(qi),$2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Ys(r),o=m.useRef(null),l=je(t,o),c=m.useRef(null);return i.jsx(S8,{contentName:qi,titleName:F2,docsSlug:"alert-dialog",children:i.jsx(O7,{scope:r,cancelRef:c,children:i.jsxs(Vl,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:G(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(Yy,{children:n}),i.jsx($7,{contentRef:o})]})})})});$2.displayName=qi;var F2="AlertDialogTitle",z2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ys(r);return i.jsx(Wl,{...s,...n,ref:t})});z2.displayName=F2;var U2="AlertDialogDescription",B2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ys(r);return i.jsx(ql,{...s,...n,ref:t})});B2.displayName=U2;var L7="AlertDialogAction",V2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ys(r);return i.jsx(Bu,{...s,...n,ref:t})});V2.displayName=L7;var W2="AlertDialogCancel",q2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=I7(W2,r),a=Ys(r),o=je(t,s);return i.jsx(Bu,{...a,...n,ref:o})});q2.displayName=W2;var $7=({contentRef:e})=>{const t=`\`${qi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qi}\` by passing a \`${U2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},F7=O2,z7=I2,H2=L2,K2=$2,G2=V2,Q2=q2,Y2=z2,Z2=B2;const Zl=F7,U7=z7,X2=m.forwardRef(({className:e,...t},r)=>i.jsx(H2,{className:B("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));X2.displayName=H2.displayName;const Jo=m.forwardRef(({className:e,...t},r)=>i.jsxs(U7,{children:[i.jsx(X2,{}),i.jsx(K2,{ref:r,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Jo.displayName=K2.displayName;const ei=({className:e,...t})=>i.jsx("div",{className:B("flex flex-col space-y-2 text-center sm:text-left",e),...t});ei.displayName="AlertDialogHeader";const ti=({className:e,...t})=>i.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ti.displayName="AlertDialogFooter";const ri=m.forwardRef(({className:e,...t},r)=>i.jsx(Y2,{ref:r,className:B("text-lg font-semibold",e),...t}));ri.displayName=Y2.displayName;const ni=m.forwardRef(({className:e,...t},r)=>i.jsx(Z2,{ref:r,className:B("text-sm text-muted-foreground",e),...t}));ni.displayName=Z2.displayName;const si=m.forwardRef(({className:e,...t},r)=>i.jsx(G2,{ref:r,className:B(mu(),e),...t}));si.displayName=G2.displayName;const ai=m.forwardRef(({className:e,...t},r)=>i.jsx(Q2,{ref:r,className:B(mu({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ai.displayName=Q2.displayName;function J2({open:e,onOpenChange:t,onConfirm:r,count:n}){return i.jsx(Zl,{open:e,onOpenChange:t,children:i.jsxs(Jo,{className:"bg-card dark:bg-gray-800",children:[i.jsxs(ei,{children:[i.jsx(ri,{className:"text-card-foreground dark:text-gray-200",children:"Confirmar Pagamento(s)"}),i.jsxs(ni,{className:"dark:text-gray-400",children:["Deseja confirmar o recebimento de ",n," pagamento(s)?"]})]}),i.jsxs(ti,{children:[i.jsx(ai,{className:"dark:text-gray-200 dark:hover:bg-gray-700",children:"Cancelar"}),i.jsx(si,{onClick:r,className:"bg-green-600 text-white hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600",children:"Confirmar Pagamento(s)"})]})]})})}function B7({searchTerm:e,onSearchTermChange:t,viewMode:r,onToggleViewMode:n}){return i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4 items-center",children:[i.jsxs("div",{className:"relative w-full sm:w-1/2",children:[i.jsx(hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Le,{type:"text",placeholder:"Pesquisar transaes...",value:e,onChange:s=>t(s.target.value),className:"pl-10"})]}),i.jsx(q,{variant:"outline",onClick:n,className:"w-full sm:w-auto",children:r==="list"?i.jsxs(i.Fragment,{children:[i.jsx(RO,{className:"mr-2 h-4 w-4"}),"Ver como Tabela"]}):i.jsxs(i.Fragment,{children:[i.jsx(uO,{className:"mr-2 h-4 w-4"}),"Ver como Lista"]})})]})}function V7({selectedTransactions:e,hasSelectablePending:t,isLoading:r,onSelectAllPending:n,onClearSelection:s,onConfirmSelected:a}){return i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-4",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(q,{variant:"outline",size:"sm",onClick:n,disabled:r||!t,children:"Selecionar Pendentes"}),e.length>0&&i.jsxs(i.Fragment,{children:[i.jsxs(q,{variant:"outline",size:"sm",onClick:s,children:[i.jsx(Qa,{className:"mr-1 h-4 w-4"}),"Limpar Seleo"]}),i.jsxs(q,{variant:"default",size:"sm",onClick:a,children:[i.jsx(Mu,{className:"mr-1 h-4 w-4"}),"Confirmar Selecionados (",e.length,")"]})]})]})})}const eT=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:B("w-full caption-bottom text-sm",e),...t})}));eT.displayName="Table";const tT=m.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:B("[&_tr]:border-b",e),...t}));tT.displayName="TableHeader";const rf=m.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:B("[&_tr:last-child]:border-0",e),...t}));rf.displayName="TableBody";const W7=m.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:B("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));W7.displayName="TableFooter";const pu=m.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:B("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));pu.displayName="TableRow";const Ss=m.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:B("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ss.displayName="TableHead";const yn=m.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:B("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));yn.displayName="TableCell";const q7=m.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:B("mt-4 text-sm text-muted-foreground",e),...t}));q7.displayName="TableCaption";function H7(){const e=Ul();return i.jsx(tT,{children:i.jsxs(pu,{children:[i.jsx(Ss,{className:"w-[40px]"}),i.jsx(Ss,{className:"w-[40px]"}),i.jsx(Ss,{children:"Cliente"}),!e&&i.jsx(Ss,{children:"Descrio"}),i.jsx(Ss,{children:"Data"}),!e&&i.jsx(Ss,{children:"Ao"}),i.jsx(Ss,{children:"Status"}),i.jsx(Ss,{children:"Valor"})]})})}function K7({transaction:e,isSelected:t,onSelectTransaction:r,onOpenConfirmDialog:n}){var s;return i.jsxs(pu,{children:[i.jsx(yn,{children:i.jsx(Xo,{checked:t,onCheckedChange:()=>r(e.id),disabled:e.payment_status!=="pending"||e.payment_method==="invoice"})}),i.jsx(yn,{children:e.amount>=0?i.jsx(Uh,{className:"h-4 w-4 text-green-500"}):i.jsx(zh,{className:"h-4 w-4 text-red-500"})}),i.jsx(yn,{children:((s=e.client)==null?void 0:s.name)||"-"}),i.jsx(yn,{children:e.description||"-"}),i.jsx(yn,{children:Me(new Date(e.date),"dd/MM/yyyy",{locale:et})}),i.jsx(yn,{children:e.payment_status==="pending"&&e.payment_method!=="invoice"&&i.jsx(q,{variant:"outline",size:"sm",onClick:()=>n([e.id]),children:"Confirmar"})}),i.jsx(yn,{children:i.jsx("span",{className:e.payment_status==="pending"?"text-yellow-500":"text-green-500",children:e.payment_status==="pending"?"Pendente":"Confirmado"})}),i.jsx(yn,{children:e.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},e.id)}function G7({transactions:e,isLoading:t,selectedTransactions:r,onSelectTransaction:n,onOpenConfirmDialog:s}){return t?i.jsx(rf,{children:i.jsx(pu,{children:i.jsx(yn,{colSpan:8,className:"text-center",children:"Carregando..."})})}):e.length===0?i.jsx(rf,{children:i.jsx(pu,{children:i.jsx(yn,{colSpan:8,className:"text-center",children:"Nenhuma transao encontrada"})})}):i.jsx(rf,{children:e.map(a=>i.jsx(K7,{transaction:a,isSelected:r.includes(a.id),onSelectTransaction:n,onOpenConfirmDialog:s},a.id))})}function Q7({transactions:e,isLoading:t,selectedTransactions:r,onSelectTransaction:n,onOpenConfirmDialog:s}){return Ul(),i.jsx("div",{className:"w-full overflow-x-auto",children:i.jsxs(eT,{className:"min-w-full",children:[i.jsx(H7,{}),i.jsx(G7,{transactions:e,isLoading:t,selectedTransactions:r,onSelectTransaction:n,onOpenConfirmDialog:s})]})})}function Y7(e){const[t,r]=m.useState("list"),{toast:n}=Gt();m.useEffect(()=>{(async()=>{if(e)try{const{data:l,error:c}=await $.from("profiles").select("view_mode").eq("id",e).single();if(c){console.error("Erro ao carregar view_mode:",c);return}l&&l.view_mode&&r(l.view_mode)}catch(l){console.error("Erro ao buscar view_mode:",l)}})()},[e]);const s=async o=>{if(e)try{const{error:l}=await $.from("profiles").update({view_mode:o}).eq("id",e);l&&(n({title:"Erro",description:"Falha ao salvar preferncia de visualizao.",variant:"destructive"}),console.error("Erro ao salvar view_mode:",l))}catch(l){console.error("Erro ao atualizar view_mode:",l)}};return{viewMode:t,toggleViewMode:()=>{const o=t==="list"?"table":"list";return r(o),s(o),o}}}const Z7=({startDate:e,endDate:t})=>{const{user:r}=Se(),{toast:n}=Gt(),s=Ze(),[a,o]=m.useState(!1),[l,c]=m.useState([]),[u,f]=m.useState(""),{viewMode:d,toggleViewMode:h}=Y7(r==null?void 0:r.id),p=Me(e||new Date,"yyyy-MM-dd'T00:00:00.000Z'"),g=Me(t||new Date,"yyyy-MM-dd'T23:59:59.999Z'"),{data:v,isLoading:w}=jt({queryKey:["recent-transactions",r==null?void 0:r.id,p,g],queryFn:async()=>{if(!r||!p||!g)return[];const{data:N,error:k}=await $.from("transactions").select("*, client:clients(name)").eq("user_id",r.id).gte("date",p).lte("date",g).order("payment_status",{ascending:!1}).order("date",{ascending:!1});if(k)throw k;return N||[]},enabled:!!r&&!!p&&!!g}),y=async()=>{if(l.length!==0)try{await $.from("transactions").update({payment_status:"confirmed"}).in("id",l).eq("user_id",(r==null?void 0:r.id)||""),n({title:"Pagamentos Confirmados",description:"Os pagamentos foram atualizados."}),s.invalidateQueries({queryKey:["recent-transactions"]}),c([]),o(!1)}catch{n({title:"Erro",description:"Falha ao confirmar pagamentos.",variant:"destructive"})}},x=N=>{const k=j.find(R=>R.id===N);!k||k.payment_status!=="pending"||k.payment_method==="invoice"||c(R=>R.includes(N)?R.filter(D=>D!==N):[...R,N])},b=N=>{N&&c(N.filter(k=>{const R=v==null?void 0:v.find(D=>D.id===k);return(R==null?void 0:R.payment_status)==="pending"&&(R==null?void 0:R.payment_method)!=="invoice"})),(l.length>0||N&&N.length>0)&&o(!0)},_=()=>{const k=(v||[]).filter(R=>R.payment_status==="pending"&&R.payment_method!=="invoice").map(R=>R.id);c(k)},S=()=>{c([])},j=(v||[]).filter(N=>{var R,D;return(((R=N.client)==null?void 0:R.name)||"").toLowerCase().includes(u.toLowerCase())||N.id.toLowerCase().includes(u.toLowerCase())||((D=N.description)==null?void 0:D.toLowerCase().includes(u.toLowerCase()))||N.amount.toString().includes(u)}),C=(v||[]).some(N=>N.payment_status==="pending"&&N.payment_method!=="invoice");return i.jsxs(xt,{className:"rounded-xl border-border bg-card text-card-foreground",children:[i.jsx(Tr,{children:i.jsx(Pr,{children:"Transaes"})}),i.jsxs(St,{className:"space-y-6 mx-0 px-0 py-[75px]",children:[i.jsx(B7,{searchTerm:u,onSearchTermChange:f,viewMode:d,onToggleViewMode:h}),i.jsxs("div",{children:[i.jsx(V7,{selectedTransactions:l,hasSelectablePending:C,isLoading:w,onSelectAllPending:_,onClearSelection:S,onConfirmSelected:()=>b()}),d==="list"?i.jsx(T7,{transactions:j,isLoading:w,selectedTransactions:l,onSelectTransaction:x,onOpenConfirmDialog:b}):i.jsx(Q7,{transactions:j,isLoading:w,selectedTransactions:l,onSelectTransaction:x,onOpenConfirmDialog:b})]}),i.jsx(XU,{transactions:j})]}),i.jsx(J2,{open:a,onOpenChange:o,onConfirm:y,count:l.length})]})};function X7(e){const[t,r]=m.useState(!0),[n,s]=m.useState(null),[a,o]=m.useState(!1),l=()=>{r(!1),o(!0)};return m.useEffect(()=>{if(!document){const d=new Error(`[ScriptLoadingError] document not defined when attempting to load ${e}`);s(d);return}const c=document.querySelector(`script[src="${e}"]`);if(c!=null&&c.dataset.loaded){l();return}const u=c||document.createElement("script");c||(u.src=e);const f=()=>{u.dataset.loaded="1",l()};u.addEventListener("load",f),u.addEventListener("error",d=>{console.error("Failed to load script:",e,d);const h=new Error(`[ScriptLoadingError] Failed to load script: ${e}`);s(h)}),c||document.head.append(u)},[]),{isLoading:t,error:n,isSuccess:a}}const J7=e=>e&&e.charts,M1=(e,t)=>{const{controls:r,toolbarItems:n,getChartEditor:s}=e;return t&&t.charts&&t.visualization&&t.visualization.ChartWrapper&&t.visualization.Dashboard&&(!r||t.visualization.ChartWrapper)&&(!s||t.visualization.ChartEditor)&&(!n||t.visualization.drawToolbar)},eB=e=>window.google;function tB(e){const{chartVersion:t="current",chartPackages:r=["corechart","controls"],chartLanguage:n="en",mapsApiKey:s}=e,[a,o]=m.useState(null),[l,c]=m.useState(null),[u,f]=m.useState(null),{isLoading:d,error:h,isSuccess:p}=X7(e.chartLoaderScriptUrl||"https://www.gstatic.com/charts/loader.js");return m.useEffect(()=>{if(!p)return;const g=eB();if(!J7(g)){const v=new Error("[ScriptInitializationError] Script loaded but Google not attached to window.");c(v);return}if(M1(e,g)){o(g);return}g.charts.load(t,{packages:r,language:n,mapsApiKey:s}),g.charts.setOnLoadCallback(()=>{if(!M1(e,g)){const v=new Error("[GoogleChartsInitializationError] Google Charts not ready after load callback.");console.error(v),f(v);return}o(g)})},[p]),{error:h||l||u,isLoading:d,google:a}}const rT={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},chartLoaderScriptUrl:"https://www.gstatic.com/charts/loader.js"},rB=e=>{const{isReady:t,chartControls:r,filter:n}=e;return!t||!r||!(r!=null&&r.length)?null:L.createElement(L.Fragment,null,r.filter(s=>{let{controlProp:a,control:o}=s;return n?n({control:o,controlProp:a}):!0}).map(s=>{let{control:a}=s;return L.createElement("div",{key:a.getContainerId(),id:a.getContainerId()})}))};let D1=0;const nT=()=>(D1+=1,`reactgooglegraph-${D1}`),Wn=class Wn{};rr(Wn,"initializeControls",t=>{for(let r=0;r<t.length;r+=1){const{controlType:n,options:s,controlWrapperParams:a}=t[r].controlProp;a&&"state"in a&&t[r].control.setState(a.state),t[r].control.setOptions(s),t[r].control.setControlType(n)}}),rr(Wn,"listenToControlEvents",(t,r)=>{const{google:n}=r;return t.flatMap(s=>{const{control:a,controlProp:o}=s,{controlEvents:l=[]}=o;return l.map(c=>{const{callback:u,eventName:f}=c;return n.visualization.events.addListener(a,f,function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];u({chartWrapper:null,controlWrapper:a,props:r,google:n,eventArgs:h})})})})}),rr(Wn,"createControlId",t=>{let r;return typeof t>"u"?r=`googlechart-control-${nT()}`:r=t,r}),rr(Wn,"createChartControls",t=>{const{controls:r,google:n}=t;return r?r.map((s,a)=>{const{controlID:o,controlType:l,options:c,controlWrapperParams:u}=s,f=Wn.createControlId(o);return{controlProp:s,control:new n.visualization.ControlWrapper({containerId:f,controlType:l,options:c,...u})}}):null}),rr(Wn,"addControls",t=>{const{chartWrapper:r,chartDashboard:n}=t,s=Wn.createChartControls(t);return!s||!n||!r?null:(n.bind(s.map(a=>{let{control:o}=a;return o}),r),Wn.initializeControls(s),s)});let Qf=Wn;const nB=e=>{const[t,r]=m.useState(null);return[m.useMemo(()=>!t||!e?null:e.map((s,a)=>{const o=t[a];return o?{controlProp:s,control:o}:void 0}).flatMap(s=>s?[s]:[]),[t,e]),r]},sB=(e,t)=>{m.useEffect(()=>{const r=Qf.listenToControlEvents(e??[],t);return()=>{r.forEach(n=>{t.google.visualization.events.removeListener(n)})}},[e,t])},aB=e=>{const[t,r]=nB(e.controls);return sB(t??[],e),{addControls:s=>{const a=Qf.addControls(s);r((a==null?void 0:a.map(o=>o.control))??null)},renderControl:s=>{const{chartWrapper:a,chartDashboard:o}=e;return m.createElement(rB,{...e,isReady:!!(a&&o),chartControls:t,filter:s})}}},oB=e=>{const t=m.useRef(null);return{chartId:(()=>{const{graphID:s,graph_id:a}=e,o=s||a;let l;return o?l=o:l=t.current||nT(),t.current=l,t.current})()}},iB=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],lB=async function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((n,s)=>{const a=`${r.headers?`headers=${r.headers}`:"headers=0"}`,o=`${r.query?`&tq=${encodeURIComponent(r.query)}`:""}`,l=`${r.gid?`&gid=${r.gid}`:""}`,c=`${r.sheet?`&sheet=${r.sheet}`:""}`,u=`${r.access_token?`&access_token=${r.access_token}`:""}`,f=`${a}${l}${c}${o}${u}`,d=`${t}/gviz/tq?${f}`;new e.visualization.Query(d).send(p=>{p.isError()?s(`Error in query:  ${p.getMessage()} ${p.getDetailedMessage()}`):n(p.getDataTable())})})},cB="#CCCCCC",Qr=class Qr{};rr(Qr,"grayOutHiddenColumnsLabel",(t,r)=>{const{googleChartWrapper:n,options:s}=t;if(!n){console.error("googleChartWrapper is not defined");return}const a=n.getDataTable();if(!a)return;const o=a.getNumberOfColumns();if(r.length>0===!1)return;const c=Array.from({length:o-1}).map((u,f)=>{const d=Qr.getColumnId(a,f+1);return r.includes(d)?cB:s&&s.colors?s.colors[f]:iB[f]});n.setOptions({...s,colors:c}),n.draw()}),rr(Qr,"listenToLegendToggle",(t,r)=>{const[n,s]=r,{google:a,googleChartWrapper:o}=t;if(!o){console.error("googleChartWrapper is not defined");return}return a.visualization.events.addListener(o,"select",()=>{const c=o.getChart().getSelection(),u=o.getDataTable();if(c.length===0||c[0].row!==null||!u)return;const f=c[0].column,d=Qr.getColumnId(u,f);n!=null&&n.includes(d)?s(h=>[...h.filter(p=>p!==d)]):s(h=>[...h,d])})}),rr(Qr,"draw",async t=>{const{data:r,diffdata:n,rows:s,columns:a,options:o,chartType:l,formatters:c,spreadSheetUrl:u,spreadSheetQueryParameters:f,googleChartDashboard:d,googleChartWrapper:h,google:p,hiddenColumns:g,legendToggle:v,legend_toggle:w}=t;if(!h){console.error("draw was called with googleChartWrapper = null");return}let y,x=null;if(n){const C=p.visualization.arrayToDataTable(n.old),N=p.visualization.arrayToDataTable(n.new);x=p.visualization[l].prototype.computeDiff(C,N)}r?r instanceof p.visualization.DataTable?y=r:Array.isArray(r)?y=p.visualization.arrayToDataTable(r):y=new p.visualization.DataTable(r):s&&a?y=p.visualization.arrayToDataTable([a,...s]):u?y=await lB(p,u,f):y=p.visualization.arrayToDataTable([]);const b=y.getNumberOfColumns(),_=Array(b).fill(0).map((C,N)=>{const k=Qr.getColumnId(y,N);return g.includes(k)?{label:y.getColumnLabel(N),type:y.getColumnType(N),calc:()=>null}:N}),S=h.getChart();h.getChartType()==="Timeline"&&S&&S.clearChart(),h.setChartType(l),h.setOptions(o||{});const j=new p.visualization.DataView(y);j.setColumns(_),h.setDataTable(j),h.draw(),d&&d.draw(y),x&&(h.setDataTable(x),h.draw()),c&&(Qr.applyFormatters({dataTable:y,formatters:c,google:p}),h.setDataTable(y),h.draw()),(v===!0||w===!0)&&Qr.grayOutHiddenColumnsLabel(t,g)}),rr(Qr,"getColumnId",(t,r)=>t.getColumnId(r)||t.getColumnLabel(r)),rr(Qr,"applyFormatters",t=>{let{dataTable:r,formatters:n,google:s}=t;for(let a of n)switch(a.type){case"ArrowFormat":{new s.visualization.ArrowFormat(a.options).format(r,a.column);return}case"BarFormat":{new s.visualization.BarFormat(a.options).format(r,a.column);return}case"ColorFormat":{const o=new s.visualization.ColorFormat(a.options),{ranges:l}=a;if(l)for(let c of l)o.addRange(...c);o.format(r,a.column);return}case"DateFormat":{new s.visualization.DateFormat(a.options).format(r,a.column);return}case"NumberFormat":{new s.visualization.NumberFormat(a.options).format(r,a.column);return}case"PatternFormat":{new s.visualization.PatternFormat(a.options).format(r,a.column);return}default:{console.warn(`Unknown formatter type: ${a.type}`);return}}});let Uc=Qr;const uB=e=>{const{google:t,googleChartWrapper:r,googleChartDashboard:n}=e,[s,a]=m.useState([]);m.useEffect(()=>{r&&Uc.draw({...e,hiddenColumns:s,googleChartWrapper:r,googleChartDashboard:n,google:t})},[s,e.data,e.rows,e.columns,e.options,e.chartLoaderScriptUrl,e.chartType,e.formatters,e.spreadSheetUrl,e.spreadSheetQueryParameters,e.legendToggle,e.legend_toggle]);const o=()=>{const{googleChartWrapper:u}=e;u&&u.draw()},l=u=>{const f=[],{legendToggle:d,legend_toggle:h}=e;if(Uc.draw({...e,hiddenColumns:s,googleChartWrapper:u,googleChartDashboard:n,google:t}),window.addEventListener("resize",o),h||d){const p=Uc.listenToLegendToggle(e,[s,a]);p&&f.push(p)}return f},c=(u,f)=>{window.removeEventListener("resize",o),f.forEach(d=>{t.visualization.events.removeListener(d)}),u.getChartType()==="Timeline"&&u.getChart()&&u.getChart().clearChart()};m.useEffect(()=>{if(!r)return;const u=l(r);return()=>{c(r,u)}},[r,l,c])},dB=e=>{const{chartEvents:t,google:r,googleChartWrapper:n}=e;if(t){if(!n){console.warn("listenToEvents was called before chart wrapper ready.");return}return t.map(s=>{let{eventName:a,callback:o}=s;return r.visualization.events.addListener(n,a,function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];o({chartWrapper:n,props:e,google:r,eventArgs:c})})})}},fB=e=>{m.useEffect(()=>{if(!e.googleChartWrapper)return;const t=dB(e);return()=>{t==null||t.forEach(r=>{e.google.visualization.events.removeListener(r)})}},[e])},hB=e=>{const[t,r]=m.useState(null),[n,s]=m.useState(null),{addControls:a,renderControl:o}=aB({...e,chartDashboard:n,chartWrapper:t});fB({...e,googleChartWrapper:t});const{chartId:l}=oB(e),c=m.useRef(null),u=m.useRef(null);m.useEffect(()=>{const{options:y,google:x,chartType:b,chartWrapperParams:_,toolbarItems:S,getChartEditor:j,getChartWrapper:C,onLoad:N}=e,k={chartType:b,options:y,containerId:l,..._},R=new x.visualization.ChartWrapper(k);R.setOptions(y||{}),C==null||C(R,x);const D=new x.visualization.Dashboard(c.current);S&&x.visualization.drawToolbar(u.current,S);let A=null;j&&(A=new x.visualization.ChartEditor,j({chartEditor:A,chartWrapper:R,google:x})),a({...e,chartDashboard:D,chartWrapper:R}),r(R),s(D),N==null||N(x,{google:x,chartWrapper:R,chartEditor:A,chartDashboard:D})},[]),uB({...e,googleChartWrapper:t,googleChartDashboard:n});const f=()=>{const{width:y,height:x,options:b,style:_,className:S,rootProps:j,google:C}=e,N={height:x||b&&b.height,width:y||b&&b.width,..._};return m.createElement("div",{id:l,style:N,className:S,...j})},d=()=>e.toolbarItems?m.createElement("div",{ref:u}):null,{width:h,height:p,options:g,style:v}=e,w={height:p||g&&g.height,width:h||g&&g.width,...v};return e.render?m.createElement("div",{ref:c,style:w},m.createElement("div",{ref:u,id:"toolbar"}),e.render({renderChart:f,renderControl:o,renderToolbar:d})):m.createElement("div",{ref:c,style:w},o(y=>{let{controlProp:x}=y;return x.controlPosition!=="bottom"}),f(),o(y=>{let{controlProp:x}=y;return x.controlPosition==="bottom"}),d())},mB=m.createContext(rT),pB=e=>{let{children:t,value:r}=e;return m.createElement(mB.Provider,{value:r},t)},gB=e=>{const{google:t,isLoading:r,error:n}=tB(e);return r?e.loader??null:n?e.errorElement??null:t?L.createElement(hB,{google:t,...e}):null},vB=e=>{const t={...rT,...e};return L.createElement(pB,{value:t},L.createElement(gB,t))};var A1;(function(e){e.annotation="annotation",e.annotationText="annotationText",e.certainty="certainty",e.emphasis="emphasis",e.interval="interval",e.scope="scope",e.style="style",e.tooltip="tooltip",e.domain="domain"})(A1||(A1={}));function yB({transactions:e,chartType:t,timeRange:r,isLoading:n}){const s=m.useMemo(()=>{if(!e||e.length===0)return[["Data","Menor","Abertura","Fechamento","Maior"]];let a=0;const o=[];return r==="individual"?[["Data","Menor","Abertura","Fechamento","Maior"],...e.map(l=>{const c=Me(Yn(l.date),"dd/MM",{locale:et}),u=a,f=a+l.amount,d=Math.min(u,f),h=Math.max(u,f);return a=f,[c,d,u,f,h]})]:(e.forEach(l=>{let c;switch(r){case"daily":c=Me(er(Yn(l.date)),"dd/MM",{locale:et});break;case"weekly":c=Me(An(Yn(l.date),{locale:et}),"dd/MM/yyyy",{locale:et});break;case"monthly":c=Me(Ht(Yn(l.date)),"MM/yyyy",{locale:et});break;case"yearly":c=Me(Xx(Yn(l.date)),"yyyy",{locale:et});break;default:c=Me(Yn(l.date),"dd/MM",{locale:et})}const u=o.find(f=>f.date===c);u?u.amount+=l.amount:o.push({date:c,amount:l.amount})}),t==="CandlestickChart"?[["Data","Menor","Abertura","Fechamento","Maior"],...o.map(l=>{const c=a,u=a+l.amount,f=Math.min(c,u),d=Math.max(c,u);return a=u,[l.date,f,c,u,d]})]:[["Data","Valor"],...o.map(l=>[l.date,l.amount])])},[e,t,r]);return n?i.jsx("div",{className:"w-full h-full bg-gray-100 animate-pulse rounded-lg"}):e.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8 dark:text-gray-400",children:"Nenhuma transao confirmada registrada neste perodo."}):i.jsx(vB,{width:"100%",height:"100%",chartType:t,loader:i.jsx("div",{children:"Carregando Grfico..."}),data:s,options:{legend:"none",candlestick:{fallingColor:{strokeWidth:0,fill:"#ef4444"},risingColor:{strokeWidth:0,fill:"#22c55e"}},vAxis:{title:"Valor Acumulado (R$)",format:"decimal"},hAxis:{title:"Data"},backgroundColor:"transparent",chartArea:{width:"80%",height:"80%"}}})}function xB(e,t){return m.useMemo(()=>{if(!e||!t)return"todas as transaes";const r=Me(e,"dd/MM/yyyy",{locale:et}),n=Me(t,"dd/MM/yyyy",{locale:et});return r===n?`${r}`:`${r} at ${n}`},[e,t])}function wB(e,t,r,n){const{user:s}=Se();return jt({queryKey:["expense-chart",s==null?void 0:s.id,e,t,r,n],queryFn:async()=>{if(!s)return[];let a=$.from("transactions").select("date, amount").eq("user_id",s.id).eq("payment_status","confirmed").order("date");r&&(a=a.gte("date",r)),n&&(a=a.lte("date",n));const{data:o,error:l}=await a;if(l)throw l;return o||[]},enabled:!!s})}function bB({timeRange:e,onTimeRangeChange:t}){const r=[{value:"individual",label:"P"},{value:"daily",label:"D"},{value:"weekly",label:"S"},{value:"monthly",label:"M"},{value:"yearly",label:"A"}];return i.jsx("div",{className:"flex space-x-2",children:r.map(n=>i.jsx("button",{onClick:()=>t(n.value),className:`w-6 h-6 flex items-center justify-center text-xs font-medium rounded border border-gray-300 dark:border-gray-600 transition-colors ${e===n.value?"bg-blue-500 text-white dark:bg-blue-700 dark:text-white border-blue-500 dark:border-blue-700":"bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:n.label},n.value))})}function _B({startDate:e,endDate:t}){const[r]=m.useState("CandlestickChart"),[n,s]=m.useState("individual"),a=e?e.toISOString():void 0,o=t?t.toISOString():void 0,{data:l,isLoading:c}=wB(r,n,a,o),u=xB(e,t);return i.jsxs(xt,{children:[i.jsx(Tr,{children:i.jsxs(Pr,{children:["Seu desempenho de ",u]})}),i.jsxs(St,{className:"h-[500px] flex flex-col",children:[i.jsx("div",{className:"flex-1 h-full",children:i.jsx(yB,{transactions:l||[],chartType:r,timeRange:n,isLoading:c})}),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsx(bB,{timeRange:n,onTimeRangeChange:s})})]})]})}var we=function(){return we=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},we.apply(this,arguments)};function SB(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function sT(e,t,r){for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Wu(e){return e.mode==="multiple"}function qu(e){return e.mode==="range"}function Sm(e){return e.mode==="single"}var CB={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jB(e,t){return Me(e,"LLLL y",t)}function NB(e,t){return Me(e,"d",t)}function kB(e,t){return Me(e,"LLLL",t)}function EB(e){return"".concat(e)}function TB(e,t){return Me(e,"cccccc",t)}function PB(e,t){return Me(e,"yyyy",t)}var RB=Object.freeze({__proto__:null,formatCaption:jB,formatDay:NB,formatMonthCaption:kB,formatWeekNumber:EB,formatWeekdayName:TB,formatYearCaption:PB}),MB=function(e,t,r){return Me(e,"do MMMM (EEEE)",r)},DB=function(){return"Month: "},AB=function(){return"Go to next month"},OB=function(){return"Go to previous month"},IB=function(e,t){return Me(e,"cccc",t)},LB=function(e){return"Week n. ".concat(e)},$B=function(){return"Year: "},FB=Object.freeze({__proto__:null,labelDay:MB,labelMonthDropdown:DB,labelNext:AB,labelPrevious:OB,labelWeekNumber:LB,labelWeekday:IB,labelYearDropdown:$B});function zB(){var e="buttons",t=CB,r=e0,n={},s={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:RB,labels:FB,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:o,today:l,mode:"default"}}function UB(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=Ht(n):t&&(a=new Date(t,0,1)),s?o=Sl(s):r&&(o=new Date(r,11,31)),{fromDate:a?er(a):void 0,toDate:o?er(o):void 0}}var aT=m.createContext(void 0);function BB(e){var t,r=e.initialProps,n=zB(),s=UB(r),a=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(Sm(r)||Wu(r)||qu(r))&&(c=r.onSelect);var u=we(we(we({},n),r),{captionLayout:l,classNames:we(we({},n.classNames),r.classNames),components:we({},r.components),formatters:we(we({},n.formatters),r.formatters),fromDate:a,labels:we(we({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:we(we({},n.modifiers),r.modifiers),modifiersClassNames:we(we({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:we(we({},n.styles),r.styles),toDate:o});return i.jsx(aT.Provider,{value:u,children:e.children})}function nt(){var e=m.useContext(aT);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function oT(e){var t=nt(),r=t.locale,n=t.classNames,s=t.styles,a=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function VB(e){return i.jsx("svg",we({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function iT(e){var t,r,n=e.onChange,s=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,u=nt(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:VB;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function WB(e){var t,r=nt(),n=r.fromDate,s=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var d=[];if(OU(n,s))for(var h=Ht(n),p=n.getMonth();p<=s.getMonth();p++)d.push(Up(h,p));else for(var h=Ht(new Date),p=0;p<=11;p++)d.push(Up(h,p));var g=function(w){var y=Number(w.target.value),x=Up(Ht(e.displayMonth),y);e.onChange(x)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:iT;return i.jsx(v,{name:"months","aria-label":f(),className:c.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:d.map(function(w){return i.jsx("option",{value:w.getMonth(),children:l(w,{locale:o})},w.getMonth())})})}function qB(e){var t,r=e.displayMonth,n=nt(),s=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,f=n.formatters.formatYearCaption,d=n.labels.labelYearDropdown,h=[];if(!s)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var p=s.getFullYear(),g=a.getFullYear(),v=p;v<=g;v++)h.push(R1(Xx(new Date),v));var w=function(x){var b=R1(Ht(r),Number(x.target.value));e.onChange(b)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:iT;return i.jsx(y,{name:"years","aria-label":d(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:r.getFullYear(),caption:f(r,{locale:o}),children:h.map(function(x){return i.jsx("option",{value:x.getFullYear(),children:f(x,{locale:o})},x.getFullYear())})})}function HB(e,t){var r=m.useState(e),n=r[0],s=r[1],a=t===void 0?n:t;return[a,s]}function KB(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&_l(a,s)<0){var u=-1*(c-1);s=un(a,u)}return o&&_l(s,o)<0&&(s=o),Ht(s)}function GB(){var e=nt(),t=KB(e),r=HB(t,e.month),n=r[0],s=r[1],a=function(o){var l;if(!e.disableNavigation){var c=Ht(o);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function QB(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Ht(e),a=Ht(un(s,n)),o=_l(a,s),l=[],c=0;c<o;c++){var u=un(s,c);l.push(u)}return r&&(l=l.reverse()),l}function YB(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=Ht(e);if(!r)return un(l,o);var c=_l(r,e);if(!(c<a))return un(l,o)}}function ZB(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=Ht(e);if(!r)return un(l,-o);var c=_l(l,r);if(!(c<=0))return un(l,-o)}}var lT=m.createContext(void 0);function XB(e){var t=nt(),r=GB(),n=r[0],s=r[1],a=QB(n,t),o=YB(n,t),l=ZB(n,t),c=function(d){return a.some(function(h){return r0(d,h)})},u=function(d,h){c(d)||(h&&t0(d,h)?s(un(d,1+t.numberOfMonths*-1)):s(d))},f={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(lT.Provider,{value:f,children:e.children})}function Hu(){var e=m.useContext(lT);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function O1(e){var t,r=nt(),n=r.classNames,s=r.styles,a=r.components,o=Hu().goToMonth,l=function(f){o(un(f,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:oT,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(WB,{onChange:l,displayMonth:e.displayMonth}),i.jsx(qB,{onChange:l,displayMonth:e.displayMonth})]})}function JB(e){return i.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eV(e){return i.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Yf=m.forwardRef(function(e,t){var r=nt(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=we(we({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),i.jsx("button",we({},e,{ref:t,type:"button",className:o,style:l}))});function tV(e){var t,r,n=nt(),s=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,f=c.labelNext,d=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:a}),p=[o.nav_button,o.nav_button_previous].join(" "),g=f(e.nextMonth,{locale:a}),v=[o.nav_button,o.nav_button_next].join(" "),w=(t=d==null?void 0:d.IconRight)!==null&&t!==void 0?t:eV,y=(r=d==null?void 0:d.IconLeft)!==null&&r!==void 0?r:JB;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(Yf,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?i.jsx(w,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(Yf,{name:"next-month","aria-label":g,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(w,{className:o.nav_icon,style:l.nav_icon})})]})}function I1(e){var t=nt().numberOfMonths,r=Hu(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return r0(e.displayMonth,g)}),c=l===0,u=l===o.length-1,f=t>1&&(c||!u),d=t>1&&(u||!c),h=function(){n&&a(n)},p=function(){s&&a(s)};return i.jsx(tV,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:d,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:p})}function rV(e){var t,r=nt(),n=r.classNames,s=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:oT,u;return s?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(O1,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(O1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(I1,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(I1,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:a.caption,children:u})}function nV(e){var t=nt(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?i.jsx("tfoot",{className:s,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function sV(e,t,r){for(var n=r?Uo(new Date):An(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var o=Xt(n,a);s.push(o)}return s}function aV(){var e=nt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=sV(s,a,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,d){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:s}),children:l(f,{locale:s})},d)})]})}function oV(){var e,t=nt(),r=t.classNames,n=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:aV;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(a,{})})}function iV(e){var t=nt(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var n0=m.createContext(void 0);function lV(e){if(!Wu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(n0.Provider,{value:t,children:e.children})}return i.jsx(cV,{initialProps:e.initialProps,children:e.children})}function cV(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,a=t.max,o=function(u,f,d){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,f,d);var g=!!(f.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var v=!!(!f.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var w=n?sT([],n):[];if(f.selected){var y=w.findIndex(function(x){return Cr(u,x)});w.splice(y,1)}else w.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,w,u,f,d)}}},l={disabled:[]};n&&l.disabled.push(function(u){var f=a&&n.length>a-1,d=n.some(function(h){return Cr(h,u)});return!!(f&&!d)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(n0.Provider,{value:c,children:r})}function s0(){var e=m.useContext(n0);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function uV(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Cr(s,e)&&Cr(n,e)?void 0:Cr(s,e)?{from:s,to:void 0}:Cr(n,e)?void 0:Wv(n,e)?{from:e,to:s}:{from:n,to:e}:s?Wv(e,s)?{from:s,to:e}:{from:e,to:s}:n?t0(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var a0=m.createContext(void 0);function dV(e){if(!qu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(a0.Provider,{value:t,children:e.children})}return i.jsx(fV,{initialProps:e.initialProps,children:e.children})}function fV(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},a=s.from,o=s.to,l=t.min,c=t.max,u=function(p,g,v){var w,y;(w=t.onDayClick)===null||w===void 0||w.call(t,p,g,v);var x=uV(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,x,p,g,v)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],o?(f.range_end=[o],Cr(a,o)||(f.range_middle=[{after:a,before:o}])):f.range_end=[a]):o&&(f.range_start=[o],f.range_end=[o]),l&&(a&&!o&&f.disabled.push({after:Wi(a,l-1),before:Xt(a,l-1)}),a&&o&&f.disabled.push({after:a,before:Xt(a,l-1)}),!a&&o&&f.disabled.push({after:Wi(o,l-1),before:Xt(o,l-1)})),c){if(a&&!o&&(f.disabled.push({before:Xt(a,-c+1)}),f.disabled.push({after:Xt(a,c-1)})),a&&o){var d=jn(o,a)+1,h=c-d;f.disabled.push({before:Wi(a,h)}),f.disabled.push({after:Xt(o,h)})}!a&&o&&(f.disabled.push({before:Xt(o,-c+1)}),f.disabled.push({after:Xt(o,c-1)}))}return i.jsx(a0.Provider,{value:{selected:n,onDayClick:u,modifiers:f},children:r})}function o0(){var e=m.useContext(a0);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function nf(e){return Array.isArray(e)?sT([],e):e!==void 0?[e]:[]}function hV(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=nf(s)}),t}var On;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(On||(On={}));var mV=On.Selected,ws=On.Disabled,pV=On.Hidden,gV=On.Today,Bp=On.RangeEnd,Vp=On.RangeMiddle,Wp=On.RangeStart,vV=On.Outside;function yV(e,t,r){var n,s=(n={},n[mV]=nf(e.selected),n[ws]=nf(e.disabled),n[pV]=nf(e.hidden),n[gV]=[e.today],n[Bp]=[],n[Vp]=[],n[Wp]=[],n[vV]=[],n);return e.fromDate&&s[ws].push({before:e.fromDate}),e.toDate&&s[ws].push({after:e.toDate}),Wu(e)?s[ws]=s[ws].concat(t.modifiers[ws]):qu(e)&&(s[ws]=s[ws].concat(r.modifiers[ws]),s[Wp]=r.modifiers[Wp],s[Vp]=r.modifiers[Vp],s[Bp]=r.modifiers[Bp]),s}var cT=m.createContext(void 0);function xV(e){var t=nt(),r=s0(),n=o0(),s=yV(t,r,n),a=hV(t.modifiers),o=we(we({},s),a);return i.jsx(cT.Provider,{value:o,children:e.children})}function uT(){var e=m.useContext(cT);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function wV(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function bV(e){return!!(e&&typeof e=="object"&&"from"in e)}function _V(e){return!!(e&&typeof e=="object"&&"after"in e)}function SV(e){return!!(e&&typeof e=="object"&&"before"in e)}function CV(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function jV(e,t){var r,n=t.from,s=t.to;if(n&&s){var a=jn(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var o=jn(e,n)>=0&&jn(s,e)>=0;return o}return s?Cr(s,e):n?Cr(n,e):!1}function NV(e){return Zx(e)}function kV(e){return Array.isArray(e)&&e.every(Zx)}function EV(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(NV(r))return Cr(e,r);if(kV(r))return r.includes(e);if(bV(r))return jV(e,r);if(CV(r))return r.dayOfWeek.includes(e.getDay());if(wV(r)){var n=jn(r.before,e),s=jn(r.after,e),a=n>0,o=s<0,l=Wv(r.before,r.after);return l?o&&a:a||o}return _V(r)?jn(e,r.after)>0:SV(r)?jn(r.before,e)>0:typeof r=="function"?r(e):!1})}function i0(e,t,r){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return EV(e,l)&&a.push(o),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!r0(e,r)&&(s.outside=!0),s}function TV(e,t){for(var r=Ht(e[0]),n=Sl(e[e.length-1]),s,a,o=r;o<=n;){var l=i0(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Xt(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),s||(s=o),o=Xt(o,1)}return a||s}var PV=365;function dT(e,t){var r=t.moveBy,n=t.direction,s=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,u=s.fromDate,f=s.toDate,d=s.locale,h={day:Xt,week:Vv,month:un,year:N2,startOfWeek:function(w){return s.ISOWeek?Uo(w):An(w,{locale:d,weekStartsOn:c})},endOfWeek:function(w){return s.ISOWeek?k2(w):Jx(w,{locale:d,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=jz([u,p]):n==="after"&&f&&(p=Nz([f,p]));var g=!0;if(a){var v=i0(p,a);g=!v.disabled&&!v.hidden}return g?p:l.count>PV?l.lastFocused:dT(p,{moveBy:r,direction:n,context:s,modifiers:a,retry:we(we({},l),{count:l.count+1})})}var fT=m.createContext(void 0);function RV(e){var t=Hu(),r=uT(),n=m.useState(),s=n[0],a=n[1],o=m.useState(),l=o[0],c=o[1],u=TV(t.displayMonths,r),f=s??(l&&t.isDateDisplayed(l))?l:u,d=function(){c(s),a(void 0)},h=function(w){a(w)},p=nt(),g=function(w,y){if(s){var x=dT(s,{moveBy:w,direction:y,context:p,modifiers:r});Cr(s,x)||(t.goToDate(x,s),h(x))}},v={focusedDay:s,focusTarget:f,blur:d,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return i.jsx(fT.Provider,{value:v,children:e.children})}function l0(){var e=m.useContext(fT);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function MV(e,t){var r=uT(),n=i0(e,r,t);return n}var c0=m.createContext(void 0);function DV(e){if(!Sm(e.initialProps)){var t={selected:void 0};return i.jsx(c0.Provider,{value:t,children:e.children})}return i.jsx(AV,{initialProps:e.initialProps,children:e.children})}function AV(e){var t=e.initialProps,r=e.children,n=function(a,o,l){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,a,a,o,l)},s={selected:t.selected,onDayClick:n};return i.jsx(c0.Provider,{value:s,children:r})}function hT(){var e=m.useContext(c0);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function OV(e,t){var r=nt(),n=hT(),s=s0(),a=o0(),o=l0(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,f=o.focusWeekBefore,d=o.blur,h=o.focus,p=o.focusMonthBefore,g=o.focusMonthAfter,v=o.focusYearBefore,w=o.focusYearAfter,y=o.focusStartOfWeek,x=o.focusEndOfWeek,b=function(F){var E,M,H,K;Sm(r)?(E=n.onDayClick)===null||E===void 0||E.call(n,e,t,F):Wu(r)?(M=s.onDayClick)===null||M===void 0||M.call(s,e,t,F):qu(r)?(H=a.onDayClick)===null||H===void 0||H.call(a,e,t,F):(K=r.onDayClick)===null||K===void 0||K.call(r,e,t,F)},_=function(F){var E;h(e),(E=r.onDayFocus)===null||E===void 0||E.call(r,e,t,F)},S=function(F){var E;d(),(E=r.onDayBlur)===null||E===void 0||E.call(r,e,t,F)},j=function(F){var E;(E=r.onDayMouseEnter)===null||E===void 0||E.call(r,e,t,F)},C=function(F){var E;(E=r.onDayMouseLeave)===null||E===void 0||E.call(r,e,t,F)},N=function(F){var E;(E=r.onDayPointerEnter)===null||E===void 0||E.call(r,e,t,F)},k=function(F){var E;(E=r.onDayPointerLeave)===null||E===void 0||E.call(r,e,t,F)},R=function(F){var E;(E=r.onDayTouchCancel)===null||E===void 0||E.call(r,e,t,F)},D=function(F){var E;(E=r.onDayTouchEnd)===null||E===void 0||E.call(r,e,t,F)},A=function(F){var E;(E=r.onDayTouchMove)===null||E===void 0||E.call(r,e,t,F)},U=function(F){var E;(E=r.onDayTouchStart)===null||E===void 0||E.call(r,e,t,F)},I=function(F){var E;(E=r.onDayKeyUp)===null||E===void 0||E.call(r,e,t,F)},W=function(F){var E;switch(F.key){case"ArrowLeft":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":F.preventDefault(),F.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":F.preventDefault(),F.stopPropagation(),u();break;case"ArrowUp":F.preventDefault(),F.stopPropagation(),f();break;case"PageUp":F.preventDefault(),F.stopPropagation(),F.shiftKey?v():p();break;case"PageDown":F.preventDefault(),F.stopPropagation(),F.shiftKey?w():g();break;case"Home":F.preventDefault(),F.stopPropagation(),y();break;case"End":F.preventDefault(),F.stopPropagation(),x();break}(E=r.onDayKeyDown)===null||E===void 0||E.call(r,e,t,F)},V={onClick:b,onFocus:_,onBlur:S,onKeyDown:W,onKeyUp:I,onMouseEnter:j,onMouseLeave:C,onPointerEnter:N,onPointerLeave:k,onTouchCancel:R,onTouchEnd:D,onTouchMove:A,onTouchStart:U};return V}function IV(){var e=nt(),t=hT(),r=s0(),n=o0(),s=Sm(e)?t.selected:Wu(e)?r.selected:qu(e)?n.selected:void 0;return s}function LV(e){return Object.values(On).includes(e)}function $V(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(LV(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function FV(e,t){var r=we({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=we(we({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function zV(e,t,r){var n,s,a,o=nt(),l=l0(),c=MV(e,t),u=OV(e,c),f=IV(),d=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var j;c.outside||l.focusedDay&&d&&Cr(l.focusedDay,e)&&((j=r.current)===null||j===void 0||j.focus())},[l.focusedDay,e,r,d,c.outside]);var h=$V(o,c).join(" "),p=FV(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(a=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:iV,w=i.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:h,children:w,role:"gridcell"},x=l.focusTarget&&Cr(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Cr(l.focusedDay,e),_=we(we(we({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||x?0:-1,n)),u),S={isButton:d,isHidden:g,activeModifiers:c,selectedDays:f,buttonProps:_,divProps:y};return S}function UV(e){var t=m.useRef(null),r=zV(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Yf,we({name:"day",ref:t},r.buttonProps)):i.jsx("div",we({},r.divProps))}function BV(e){var t=e.number,r=e.dates,n=nt(),s=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,f=u(Number(t),{locale:l});if(!s)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:f});var d=c(Number(t),{locale:l}),h=function(p){s(t,r,p)};return i.jsx(Yf,{name:"week-number","aria-label":d,className:o.weeknumber,style:a.weeknumber,onClick:h,children:f})}function VV(e){var t,r,n=nt(),s=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:UV,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:BV,f;return o&&(f=i.jsx("td",{className:a.cell,style:s.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:a.row,style:s.row,children:[f,e.dates.map(function(d){return i.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:d})},MU(d))})]})}function L1(e,t,r){for(var n=r!=null&&r.ISOWeek?k2(t):Jx(t,r),s=r!=null&&r.ISOWeek?Uo(e):An(e,r),a=jn(n,s),o=[],l=0;l<=a;l++)o.push(Xt(s,l));var c=o.reduce(function(u,f){var d=r!=null&&r.ISOWeek?T2(f):R2(f,r),h=u.find(function(p){return p.weekNumber===d});return h?(h.dates.push(f),u):(u.push({weekNumber:d,dates:[f]}),u)},[]);return c}function WV(e,t){var r=L1(Ht(e),Sl(e),t);if(t!=null&&t.useFixedWeeks){var n=AU(e,t);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],o=Vv(a,6-n),l=L1(Vv(a,1),o,t);r.push.apply(r,l)}}return r}function qV(e){var t,r,n,s=nt(),a=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,f=s.components,d=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,g=WV(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:d,firstWeekContainsDate:h}),v=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:oV,w=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:VV,y=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:nV;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(v,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(x){return i.jsx(w,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),i.jsx(y,{displayMonth:e.displayMonth})]})}function HV(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var KV=HV()?m.useLayoutEffect:m.useEffect,qp=!1,GV=0;function $1(){return"react-day-picker-".concat(++GV)}function QV(e){var t,r=e??(qp?$1():null),n=m.useState(r),s=n[0],a=n[1];return KV(function(){s===null&&a($1())},[]),m.useEffect(function(){qp===!1&&(qp=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function YV(e){var t,r,n=nt(),s=n.dir,a=n.classNames,o=n.styles,l=n.components,c=Hu().displayMonths,u=QV(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,d=[a.month],h=o.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,v=!p&&!g;s==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(d.push(a.caption_start),h=we(we({},h),o.caption_start)),g&&(d.push(a.caption_end),h=we(we({},h),o.caption_end)),v&&(d.push(a.caption_between),h=we(we({},h),o.caption_between));var w=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:rV;return i.jsxs("div",{className:d.join(" "),style:h,children:[i.jsx(w,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(qV,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function ZV(e){var t=nt(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function XV(e){var t,r,n=e.initialProps,s=nt(),a=l0(),o=Hu(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var d=we(we({},s.styles.root),s.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,v){var w;return we(we({},g),(w={},w[v]=n[v],w))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:ZV;return i.jsx("div",we({className:f.join(" "),style:d,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(p,{children:o.displayMonths.map(function(g,v){return i.jsx(YV,{displayIndex:v,displayMonth:g},v)})})}))}function JV(e){var t=e.children,r=SB(e,["children"]);return i.jsx(BB,{initialProps:r,children:i.jsx(XB,{children:i.jsx(DV,{initialProps:r,children:i.jsx(lV,{initialProps:r,children:i.jsx(dV,{initialProps:r,children:i.jsx(xV,{children:i.jsx(RV,{children:t})})})})})})})}function eW(e){return i.jsx(JV,we({},e,{children:i.jsx(XV,{initialProps:e})}))}function u0({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(eW,{showOutsideDays:r,className:B("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:B(mu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:B(mu({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>i.jsx(ZA,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(ij,{className:"h-4 w-4"})},...n})}u0.displayName="Calendar";var d0="Popover",[mT,VG]=Dr(d0,[Ya]),Ku=Ya(),[tW,to]=mT(d0),pT=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=Ku(t),c=m.useRef(null),[u,f]=m.useState(!1),[d=!1,h]=Rn({prop:n,defaultProp:s,onChange:a});return i.jsx(qh,{...l,children:i.jsx(tW,{scope:t,contentId:nn(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>f(!0),[]),onCustomAnchorRemove:m.useCallback(()=>f(!1),[]),modal:o,children:r})})};pT.displayName=d0;var gT="PopoverAnchor",rW=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=to(gT,r),a=Ku(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Lu,{...a,...n,ref:t})});rW.displayName=gT;var vT="PopoverTrigger",yT=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=to(vT,r),a=Ku(r),o=je(t,s.triggerRef),l=i.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ST(s.open),...n,ref:o,onClick:G(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Lu,{asChild:!0,...a,children:l})});yT.displayName=vT;var f0="PopoverPortal",[nW,sW]=mT(f0,{forceMount:void 0}),xT=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=to(f0,t);return i.jsx(nW,{scope:t,forceMount:r,children:i.jsx(It,{present:r||a.open,children:i.jsx(Ml,{asChild:!0,container:s,children:n})})})};xT.displayName=f0;var Cl="PopoverContent",wT=m.forwardRef((e,t)=>{const r=sW(Cl,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=to(Cl,e.__scopePopover);return i.jsx(It,{present:n||a.open,children:a.modal?i.jsx(aW,{...s,ref:t}):i.jsx(oW,{...s,ref:t})})});wT.displayName=Cl;var aW=m.forwardRef((e,t)=>{const r=to(Cl,e.__scopePopover),n=m.useRef(null),s=je(t,n),a=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return lm(o)},[]),i.jsx(Uu,{as:Er,allowPinchZoom:!0,children:i.jsx(bT,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:G(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),oW=m.forwardRef((e,t)=>{const r=to(Cl,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return i.jsx(bT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),bT=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,h=to(Cl,r),p=Ku(r);return om(),i.jsx(zu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Ko,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(Hh,{"data-state":ST(h.open),role:"dialog",id:h.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_T="PopoverClose",iW=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=to(_T,r);return i.jsx(ue.button,{type:"button",...n,ref:t,onClick:G(e.onClick,()=>s.onOpenChange(!1))})});iW.displayName=_T;var lW="PopoverArrow",cW=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ku(r);return i.jsx(Kh,{...s,...n,ref:t})});cW.displayName=lW;function ST(e){return e?"open":"closed"}var uW=pT,dW=yT,fW=xT,CT=wT;const h0=uW,m0=dW,Cm=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>i.jsx(fW,{children:i.jsx(CT,{ref:s,align:t,sideOffset:r,className:B("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Cm.displayName=CT.displayName;function F1({selected:e,onSelect:t,placeholder:r="Selecione uma data",className:n}){return i.jsxs(h0,{children:[i.jsx(m0,{asChild:!0,children:i.jsxs(q,{variant:"outline",className:B("w-[280px] justify-start text-left font-normal",!e&&"text-muted-foreground",n),children:[i.jsx(Ru,{className:"mr-2 h-4 w-4"}),e?Me(e,"PPP",{locale:et}):i.jsx("span",{children:r})]})}),i.jsx(Cm,{className:"w-auto p-0",children:i.jsx(u0,{mode:"single",selected:e,onSelect:t,initialFocus:!0,locale:et})})]})}function jm({dateRange:e,startDate:t,endDate:r,onDateRangeChange:n,onStartDateChange:s,onEndDateChange:a}){return m.useEffect(()=>{if(e!=="custom"){const o=new Date;switch(e){case"today":s(er(o)),a(Jn(o));break;case"last7days":s(er(Wi(o,7))),a(Jn(o));break;case"last30days":s(er(Wi(o,30))),a(Jn(o));break;case"last6months":s(er(Gf(o,6))),a(Jn(o));break;case"lastyear":s(er(ZU(o,1))),a(Jn(o));break}}},[e,s,a]),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[i.jsxs(Rs,{value:e,onValueChange:n,children:[i.jsx(rs,{className:"w-full sm:w-[200px]",children:i.jsx(Ms,{placeholder:"Selecione o perodo"})}),i.jsxs(ns,{children:[i.jsx(dt,{value:"today",children:"Hoje"}),i.jsx(dt,{value:"last7days",children:"ltimos 7 dias"}),i.jsx(dt,{value:"last30days",children:"ltimos 30 dias"}),i.jsx(dt,{value:"last6months",children:"ltimos 6 meses"}),i.jsx(dt,{value:"lastyear",children:"ltimo ano"}),i.jsx(dt,{value:"custom",children:"Perodo personalizado"})]})]}),e==="custom"&&i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx(F1,{placeholder:"Data inicial",selected:t,onSelect:o=>{o&&r&&t0(r,o)&&a(Xt(o,1)),s(o)},className:"w-full sm:w-auto"}),i.jsx(F1,{placeholder:"Data final",selected:r,onSelect:a,className:"w-full sm:w-auto"})]})]})}function jT(){const{user:e}=Se(),t=new Date;return jt({queryKey:["financial-insights",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const r=Gf(t,3),{data:n,error:s}=await $.from("transactions").select("*").eq("user_id",e.id).gte("date",r.toISOString()).order("date",{ascending:!1});if(s)throw s;return n.map(a=>({id:a.id,date:a.date,description:a.description,type:a.type,amount:a.amount,payment_status:a.payment_status||"pending",payment_method:hW(a.payment_method),client_id:a.client_id,goal_id:a.goal_id,category:a.category,recurring:a.recurring,created_at:a.created_at}))},enabled:!!e,staleTime:5*60*1e3})}function hW(e){const t={dinheiro:"cash",cash:"cash","carto de crdito":"credit_card","cartao de credito":"credit_card",credit_card:"credit_card","carto de dbito":"debit_card","cartao de debito":"debit_card",debit_card:"debit_card",pix:"pix",transferncia:"transfer",transferencia:"transfer",transfer:"transfer",boleto:"invoice",invoice:"invoice"},r=e.toLowerCase();return t[r]||"cash"}function p0(){const{user:e}=Se(),{toast:t}=Gt(),r=Ze(),{data:n=[],isLoading:s}=jt({queryKey:["financial-goals",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:u,error:f}=await $.from("financial_goals").select("*").eq("user_id",e.id).eq("active",!0).order("created_at",{ascending:!1});if(f)throw f;return u},enabled:!!e}),a=rt({mutationFn:async u=>{if(!e)throw new Error("User not authenticated");const{data:f,error:d}=await $.from("financial_goals").insert({...u,user_id:e.id,current_amount:0,period:"monthly",start_date:new Date().toISOString().split("T")[0]}).select().single();if(d)throw d;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-goals"]}),t({title:"Meta criada",description:"Sua meta financeira foi criada com sucesso."})},onError:()=>{t({title:"Erro",description:"No foi possvel criar a meta.",variant:"destructive"})}}),o=rt({mutationFn:async({id:u,...f})=>{const{data:d,error:h}=await $.from("financial_goals").update(f).eq("id",u).select().single();if(h)throw h;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-goals"]}),t({title:"Meta atualizada",description:"Sua meta foi atualizada com sucesso."})}}),l=rt({mutationFn:async u=>{const{error:f}=await $.from("financial_goals").update({active:!1}).eq("id",u);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-goals"]}),t({title:"Meta removida",description:"A meta foi removida com sucesso."})}}),c=rt({mutationFn:async({goalId:u,amount:f,description:d})=>{if(!e)throw new Error("User not authenticated");const{error:h}=await $.from("goal_contributions").insert({goal_id:u,user_id:e.id,amount:f,description:d});if(h)throw h;const{data:p}=await $.from("financial_goals").select("current_amount").eq("id",u).single();p&&await $.from("financial_goals").update({current_amount:(p.current_amount||0)+f}).eq("id",u)},onSuccess:()=>{r.invalidateQueries({queryKey:["financial-goals"]}),t({title:"Contribuio adicionada",description:"Sua contribuio foi registrada com sucesso."})}});return{goals:n,isLoading:s,createGoal:a.mutate,updateGoal:o.mutate,deleteGoal:l.mutate,addContribution:c.mutate,isCreating:a.isPending,isUpdating:o.isPending,isDeleting:l.isPending,isAddingContribution:c.isPending}}function NT(e){const{data:t=[]}=jT();return m.useMemo(()=>{const r=new Date;return e.map(n=>{const s=n.current_amount||0,a=n.amount,o=a>0?s/a*100:0,l=n.target_date?Yn(n.target_date):null,c=l?Math.max(0,Pz(l,r)):0,u=c>0?Math.max(1,Math.ceil(c/30)):1,f=Math.max(0,a-s),d=f/u;let h;o>=100?h="achieved":n.monthly_contribution&&n.monthly_contribution>=d||o>=70?h="on_track":c>0&&c<90?h="warning":h="behind";let p;if(n.monthly_contribution&&n.monthly_contribution>0&&f>0){const g=Math.ceil(f/n.monthly_contribution),v=new Date;v.setMonth(v.getMonth()+g),p=v.toISOString().split("T")[0]}return{goal:n,current:s,target:a,percentage:Math.min(o,100),status:h,daysRemaining:c,monthlyTarget:d,projectedCompletion:p}})},[e,t])}function mW(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];function u(d){const{scope:h,children:p,...g}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=m.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,f]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,pW(s,...t)]}function pW(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(a)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var g0="Progress",v0=100,[gW,WG]=mW(g0),[vW,yW]=gW(g0),kT=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=xW,...o}=e;(s||s===0)&&!z1(s)&&console.error(wW(`${s}`,"Progress"));const l=z1(s)?s:v0;n!==null&&!U1(n,l)&&console.error(bW(`${n}`,"Progress"));const c=U1(n,l)?n:null,u=Zf(c)?a(c,l):void 0;return i.jsx(vW,{scope:r,value:c,max:l,children:i.jsx(ue.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Zf(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":PT(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});kT.displayName=g0;var ET="ProgressIndicator",TT=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=yW(ET,r);return i.jsx(ue.div,{"data-state":PT(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});TT.displayName=ET;function xW(e,t){return`${Math.round(e/t*100)}%`}function PT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Zf(e){return typeof e=="number"}function z1(e){return Zf(e)&&!isNaN(e)&&e>0}function U1(e,t){return Zf(e)&&!isNaN(e)&&e<=t&&e>=0}function wW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${v0}\`.`}function bW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${v0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var RT=kT,_W=TT;const Bc=m.forwardRef(({className:e,value:t,...r},n)=>i.jsx(RT,{ref:n,className:B("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(_W,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Bc.displayName=RT.displayName;const SW=e=>{switch(e){case"emergency_fund":return i.jsx(Qg,{className:"h-5 w-5"});case"purchase_goal":return i.jsx(SO,{className:"h-5 w-5"});case"investment_goal":return i.jsx(Li,{className:"h-5 w-5"});default:return i.jsx(Is,{className:"h-5 w-5"})}},B1=e=>{switch(e){case"emergency_fund":return"Reserva de Emergncia";case"purchase_goal":return"Meta de Compra";case"investment_goal":return"Meta de Investimento";default:return"Meta Personalizada"}},CW=e=>{switch(e){case"achieved":return"bg-green-500";case"on_track":return"bg-blue-500";case"warning":return"bg-yellow-500";case"behind":return"bg-red-500";default:return"bg-gray-500"}},jW=e=>{switch(e){case"achieved":return" Conquistado";case"on_track":return" No Caminho";case"warning":return" Ateno";case"behind":return" Atrasado";default:return" Em Progresso"}};function NW({progress:e,onEdit:t,onDelete:r}){const[n,s]=m.useState(""),[a,o]=m.useState(!1),{addContribution:l,isAddingContribution:c}=p0(),{goal:u,current:f,target:d,percentage:h,status:p,daysRemaining:g,monthlyTarget:v}=e,w=()=>{const x=parseFloat(n);x>0&&(l({goalId:u.id,amount:x,description:`Contribuio de R$ ${x.toLocaleString("pt-BR",{minimumFractionDigits:2})}`}),s(""),o(!1))},y=x=>`R$ ${x.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return i.jsxs(xt,{className:"relative",children:[i.jsx(Tr,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:SW(u.goal_type)}),i.jsxs("div",{children:[i.jsx(Pr,{className:"text-lg",children:u.description||B1(u.goal_type)}),i.jsx(qs,{variant:"outline",className:"text-xs",children:B1(u.goal_type)})]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(q,{variant:"ghost",size:"sm",onClick:t,children:i.jsx(ax,{className:"h-4 w-4"})}),i.jsx(q,{variant:"ghost",size:"sm",onClick:r,children:i.jsx(Qo,{className:"h-4 w-4"})})]})]})}),i.jsxs(St,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Progresso"}),i.jsx(qs,{className:CW(p),children:jW(p)})]}),i.jsx(Bc,{value:h,className:"h-3"}),i.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[i.jsx("span",{children:y(f)}),i.jsx("span",{children:y(d)})]}),i.jsxs("div",{className:"text-center text-sm font-medium",children:[h.toFixed(1),"% concludo"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.target_date&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Meta para"}),i.jsx("div",{className:"text-muted-foreground",children:Me(Yn(u.target_date),"dd/MM/yyyy",{locale:et})})]})]}),g>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Dias restantes"}),i.jsxs("div",{className:"text-muted-foreground",children:[g," dias"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nO,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Faltam"}),i.jsx("div",{className:"text-muted-foreground",children:y(d-f)})]})]}),v>0&&i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Meta mensal"}),i.jsx("div",{className:"text-muted-foreground",children:y(v)})]})]}),u.monthly_contribution&&u.monthly_contribution>0&&i.jsx("div",{className:"bg-muted p-3 rounded-lg",children:i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Contribuio mensal: "}),y(u.monthly_contribution)]})}),p!=="achieved"&&i.jsxs(Hs,{open:a,onOpenChange:o,children:[i.jsx(w9,{asChild:!0,children:i.jsxs(q,{variant:"outline",className:"w-full",children:[i.jsx(Df,{className:"h-4 w-4 mr-2"}),"Adicionar Contribuio"]})}),i.jsxs(cs,{children:[i.jsx(us,{children:i.jsx(ds,{children:"Adicionar Contribuio"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Valor da Contribuio (R$)"}),i.jsx(Le,{type:"number",step:"0.01",value:n,onChange:x=>s(x.target.value),placeholder:"0,00"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancelar"}),i.jsx(q,{onClick:w,disabled:c||!n||parseFloat(n)<=0,className:"flex-1",children:c?"Adicionando...":"Confirmar"})]})]})]})]})]})]})}var Gu=e=>e.type==="checkbox",wo=e=>e instanceof Date,ir=e=>e==null;const MT=e=>typeof e=="object";var Ct=e=>!ir(e)&&!Array.isArray(e)&&MT(e)&&!wo(e),kW=e=>Ct(e)&&e.target?Gu(e.target)?e.target.checked:e.target.value:e,EW=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,TW=(e,t)=>e.has(EW(t)),PW=e=>{const t=e.constructor&&e.constructor.prototype;return Ct(t)&&t.hasOwnProperty("isPrototypeOf")},y0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gr(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(y0&&(e instanceof Blob||e instanceof FileList))&&(r||Ct(e)))if(t=r?[]:{},!r&&!PW(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Gr(e[n]));else return e;return t}var Nm=e=>Array.isArray(e)?e.filter(Boolean):[],wt=e=>e===void 0,le=(e,t,r)=>{if(!t||!Ct(e))return r;const n=Nm(t.split(/[,[\].]+?/)).reduce((s,a)=>ir(s)?s:s[a],e);return wt(n)||n===e?wt(e[t])?r:e[t]:n},qn=e=>typeof e=="boolean",x0=e=>/^\w*$/.test(e),DT=e=>Nm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Xe=(e,t,r)=>{let n=-1;const s=x0(t)?[t]:DT(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Ct(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const V1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};L.createContext(null);var RW=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Cn.all&&(t._proxyFormState[o]=!n||Cn.all),e[o]}});return s},wr=e=>Ct(e)&&!Object.keys(e).length,MW=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return wr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===Cn.all)},sf=e=>Array.isArray(e)?e:[e];function DW(e){const t=L.useRef(e);t.current=e,L.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var ss=e=>typeof e=="string",AW=(e,t,r,n,s)=>ss(e)?(n&&t.watch.add(e),le(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),le(r,a))):(n&&(t.watchAll=!0),r),AT=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},W1=e=>({isOnSubmit:!e||e===Cn.onSubmit,isOnBlur:e===Cn.onBlur,isOnChange:e===Cn.onChange,isOnAll:e===Cn.all,isOnTouch:e===Cn.onTouched}),q1=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=le(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Vc(l,t))break}else if(Ct(l)&&Vc(l,t))break}}};var OW=(e,t,r)=>{const n=sf(le(e,r));return Xe(n,"root",t[r]),Xe(e,r,n),e},w0=e=>e.type==="file",Ds=e=>typeof e=="function",Xf=e=>{if(!y0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},af=e=>ss(e),b0=e=>e.type==="radio",Jf=e=>e instanceof RegExp;const H1={value:!1,isValid:!1},K1={value:!0,isValid:!0};var OT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!wt(e[0].attributes.value)?wt(e[0].value)||e[0].value===""?K1:{value:e[0].value,isValid:!0}:K1:H1}return H1};const G1={isValid:!1,value:null};var IT=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,G1):G1;function Q1(e,t,r="validate"){if(af(e)||Array.isArray(e)&&e.every(af)||qn(e)&&!e)return{type:r,message:af(e)?e:"",ref:t}}var gi=e=>Ct(e)&&!Jf(e)?e:{value:e,message:""},Y1=async(e,t,r,n,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:f,max:d,pattern:h,validate:p,name:g,valueAsNumber:v,mount:w,disabled:y}=e._f,x=le(t,g);if(!w||y)return{};const b=o?o[0]:a,_=A=>{n&&b.reportValidity&&(b.setCustomValidity(qn(A)?"":A||""),b.reportValidity())},S={},j=b0(a),C=Gu(a),N=j||C,k=(v||w0(a))&&wt(a.value)&&wt(x)||Xf(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,R=AT.bind(null,g,r,S),D=(A,U,I,W=bs.maxLength,V=bs.minLength)=>{const F=A?U:I;S[g]={type:A?W:V,message:F,ref:a,...R(A?W:V,F)}};if(s?!Array.isArray(x)||!x.length:l&&(!N&&(k||ir(x))||qn(x)&&!x||C&&!OT(o).isValid||j&&!IT(o).isValid)){const{value:A,message:U}=af(l)?{value:!!l,message:l}:gi(l);if(A&&(S[g]={type:bs.required,message:U,ref:b,...R(bs.required,U)},!r))return _(U),S}if(!k&&(!ir(f)||!ir(d))){let A,U;const I=gi(d),W=gi(f);if(!ir(x)&&!isNaN(x)){const V=a.valueAsNumber||x&&+x;ir(I.value)||(A=V>I.value),ir(W.value)||(U=V<W.value)}else{const V=a.valueAsDate||new Date(x),F=H=>new Date(new Date().toDateString()+" "+H),E=a.type=="time",M=a.type=="week";ss(I.value)&&x&&(A=E?F(x)>F(I.value):M?x>I.value:V>new Date(I.value)),ss(W.value)&&x&&(U=E?F(x)<F(W.value):M?x<W.value:V<new Date(W.value))}if((A||U)&&(D(!!A,I.message,W.message,bs.max,bs.min),!r))return _(S[g].message),S}if((c||u)&&!k&&(ss(x)||s&&Array.isArray(x))){const A=gi(c),U=gi(u),I=!ir(A.value)&&x.length>+A.value,W=!ir(U.value)&&x.length<+U.value;if((I||W)&&(D(I,A.message,U.message),!r))return _(S[g].message),S}if(h&&!k&&ss(x)){const{value:A,message:U}=gi(h);if(Jf(A)&&!x.match(A)&&(S[g]={type:bs.pattern,message:U,ref:a,...R(bs.pattern,U)},!r))return _(U),S}if(p){if(Ds(p)){const A=await p(x,t),U=Q1(A,b);if(U&&(S[g]={...U,...R(bs.validate,U.message)},!r))return _(U.message),S}else if(Ct(p)){let A={};for(const U in p){if(!wr(A)&&!r)break;const I=Q1(await p[U](x,t),b,U);I&&(A={...I,...R(U,I.message)},_(I.message),r&&(S[g]=A))}if(!wr(A)&&(S[g]={ref:b,...A},!r))return S}}return _(!0),S};function IW(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=wt(e)?n++:e[t[n++]];return e}function LW(e){for(const t in e)if(e.hasOwnProperty(t)&&!wt(e[t]))return!1;return!0}function Tt(e,t){const r=Array.isArray(t)?t:x0(t)?[t]:DT(t),n=r.length===1?e:IW(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Ct(n)&&wr(n)||Array.isArray(n)&&LW(n))&&Tt(e,r.slice(0,-1)),e}var Hp=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},qv=e=>ir(e)||!MT(e);function pa(e,t){if(qv(e)||qv(t))return e===t;if(wo(e)&&wo(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const a=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(wo(a)&&wo(o)||Ct(a)&&Ct(o)||Array.isArray(a)&&Array.isArray(o)?!pa(a,o):a!==o)return!1}}return!0}var LT=e=>e.type==="select-multiple",$W=e=>b0(e)||Gu(e),Kp=e=>Xf(e)&&e.isConnected,$T=e=>{for(const t in e)if(Ds(e[t]))return!0;return!1};function eh(e,t={}){const r=Array.isArray(e);if(Ct(e)||r)for(const n in e)Array.isArray(e[n])||Ct(e[n])&&!$T(e[n])?(t[n]=Array.isArray(e[n])?[]:{},eh(e[n],t[n])):ir(e[n])||(t[n]=!0);return t}function FT(e,t,r){const n=Array.isArray(e);if(Ct(e)||n)for(const s in e)Array.isArray(e[s])||Ct(e[s])&&!$T(e[s])?wt(t)||qv(r[s])?r[s]=Array.isArray(e[s])?eh(e[s],[]):{...eh(e[s])}:FT(e[s],ir(t)?{}:t[s],r[s]):r[s]=!pa(e[s],t[s]);return r}var hc=(e,t)=>FT(e,t,eh(t)),zT=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>wt(e)?e:t?e===""?NaN:e&&+e:r&&ss(e)?new Date(e):n?n(e):e;function Gp(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return w0(t)?t.files:b0(t)?IT(e.refs).value:LT(t)?[...t.selectedOptions].map(({value:r})=>r):Gu(t)?OT(e.refs).value:zT(wt(t.value)?e.ref.value:t.value,e)}var FW=(e,t,r,n)=>{const s={};for(const a of e){const o=le(t,a);o&&Xe(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},mc=e=>wt(e)?e:Jf(e)?e.source:Ct(e)?Jf(e.value)?e.value.source:e.value:e;const Z1="AsyncFunction";var zW=e=>(!e||!e.validate)&&!!(Ds(e.validate)&&e.validate.constructor.name===Z1||Ct(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Z1)),UW=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function X1(e,t,r){const n=le(e,r);if(n||x0(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=le(t,a),l=le(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:r}}var BW=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,VW=(e,t)=>!Nm(le(e,t)).length&&Tt(e,t);const WW={mode:Cn.onSubmit,reValidateMode:Cn.onChange,shouldFocusError:!0};function qW(e={}){let t={...WW,...e},r={submitCount:0,isDirty:!1,isLoading:Ds(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ct(t.defaultValues)||Ct(t.values)?Gr(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Gr(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Hp(),array:Hp(),state:Hp()},h=W1(t.mode),p=W1(t.reValidateMode),g=t.criteriaMode===Cn.all,v=T=>O=>{clearTimeout(u),u=setTimeout(T,O)},w=async T=>{if(!e.disabled&&(f.isValid||T)){const O=t.resolver?wr((await N()).errors):await R(n,!0);O!==r.isValid&&d.state.next({isValid:O})}},y=(T,O)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((T||Array.from(l.mount)).forEach(z=>{z&&(O?Xe(r.validatingFields,z,O):Tt(r.validatingFields,z))}),d.state.next({validatingFields:r.validatingFields,isValidating:!wr(r.validatingFields)}))},x=(T,O=[],z,re,J=!0,Y=!0)=>{if(re&&z&&!e.disabled){if(o.action=!0,Y&&Array.isArray(le(n,T))){const he=z(le(n,T),re.argA,re.argB);J&&Xe(n,T,he)}if(Y&&Array.isArray(le(r.errors,T))){const he=z(le(r.errors,T),re.argA,re.argB);J&&Xe(r.errors,T,he),VW(r.errors,T)}if(f.touchedFields&&Y&&Array.isArray(le(r.touchedFields,T))){const he=z(le(r.touchedFields,T),re.argA,re.argB);J&&Xe(r.touchedFields,T,he)}f.dirtyFields&&(r.dirtyFields=hc(s,a)),d.state.next({name:T,isDirty:A(T,O),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Xe(a,T,O)},b=(T,O)=>{Xe(r.errors,T,O),d.state.next({errors:r.errors})},_=T=>{r.errors=T,d.state.next({errors:r.errors,isValid:!1})},S=(T,O,z,re)=>{const J=le(n,T);if(J){const Y=le(a,T,wt(z)?le(s,T):z);wt(Y)||re&&re.defaultChecked||O?Xe(a,T,O?Y:Gp(J._f)):W(T,Y),o.mount&&w()}},j=(T,O,z,re,J)=>{let Y=!1,he=!1;const Ne={name:T};if(!e.disabled){const it=!!(le(n,T)&&le(n,T)._f&&le(n,T)._f.disabled);if(!z||re){f.isDirty&&(he=r.isDirty,r.isDirty=Ne.isDirty=A(),Y=he!==Ne.isDirty);const Ke=it||pa(le(s,T),O);he=!!(!it&&le(r.dirtyFields,T)),Ke||it?Tt(r.dirtyFields,T):Xe(r.dirtyFields,T,!0),Ne.dirtyFields=r.dirtyFields,Y=Y||f.dirtyFields&&he!==!Ke}if(z){const Ke=le(r.touchedFields,T);Ke||(Xe(r.touchedFields,T,z),Ne.touchedFields=r.touchedFields,Y=Y||f.touchedFields&&Ke!==z)}Y&&J&&d.state.next(Ne)}return Y?Ne:{}},C=(T,O,z,re)=>{const J=le(r.errors,T),Y=f.isValid&&qn(O)&&r.isValid!==O;if(e.delayError&&z?(c=v(()=>b(T,z)),c(e.delayError)):(clearTimeout(u),c=null,z?Xe(r.errors,T,z):Tt(r.errors,T)),(z?!pa(J,z):J)||!wr(re)||Y){const he={...re,...Y&&qn(O)?{isValid:O}:{},errors:r.errors,name:T};r={...r,...he},d.state.next(he)}},N=async T=>{y(T,!0);const O=await t.resolver(a,t.context,FW(T||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(T),O},k=async T=>{const{errors:O}=await N(T);if(T)for(const z of T){const re=le(O,z);re?Xe(r.errors,z,re):Tt(r.errors,z)}else r.errors=O;return O},R=async(T,O,z={valid:!0})=>{for(const re in T){const J=T[re];if(J){const{_f:Y,...he}=J;if(Y){const Ne=l.array.has(Y.name),it=J._f&&zW(J._f);it&&f.validatingFields&&y([re],!0);const Ke=await Y1(J,a,g,t.shouldUseNativeValidation&&!O,Ne);if(it&&f.validatingFields&&y([re]),Ke[Y.name]&&(z.valid=!1,O))break;!O&&(le(Ke,Y.name)?Ne?OW(r.errors,Ke,Y.name):Xe(r.errors,Y.name,Ke[Y.name]):Tt(r.errors,Y.name))}!wr(he)&&await R(he,O,z)}}return z.valid},D=()=>{for(const T of l.unMount){const O=le(n,T);O&&(O._f.refs?O._f.refs.every(z=>!Kp(z)):!Kp(O._f.ref))&&xe(T)}l.unMount=new Set},A=(T,O)=>!e.disabled&&(T&&O&&Xe(a,T,O),!pa(K(),s)),U=(T,O,z)=>AW(T,l,{...o.mount?a:wt(O)?s:ss(T)?{[T]:O}:O},z,O),I=T=>Nm(le(o.mount?a:s,T,e.shouldUnregister?le(s,T,[]):[])),W=(T,O,z={})=>{const re=le(n,T);let J=O;if(re){const Y=re._f;Y&&(!Y.disabled&&Xe(a,T,zT(O,Y)),J=Xf(Y.ref)&&ir(O)?"":O,LT(Y.ref)?[...Y.ref.options].forEach(he=>he.selected=J.includes(he.value)):Y.refs?Gu(Y.ref)?Y.refs.length>1?Y.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(J)?!!J.find(Ne=>Ne===he.value):J===he.value)):Y.refs[0]&&(Y.refs[0].checked=!!J):Y.refs.forEach(he=>he.checked=he.value===J):w0(Y.ref)?Y.ref.value="":(Y.ref.value=J,Y.ref.type||d.values.next({name:T,values:{...a}})))}(z.shouldDirty||z.shouldTouch)&&j(T,J,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&H(T)},V=(T,O,z)=>{for(const re in O){const J=O[re],Y=`${T}.${re}`,he=le(n,Y);(l.array.has(T)||Ct(J)||he&&!he._f)&&!wo(J)?V(Y,J,z):W(Y,J,z)}},F=(T,O,z={})=>{const re=le(n,T),J=l.array.has(T),Y=Gr(O);Xe(a,T,Y),J?(d.array.next({name:T,values:{...a}}),(f.isDirty||f.dirtyFields)&&z.shouldDirty&&d.state.next({name:T,dirtyFields:hc(s,a),isDirty:A(T,Y)})):re&&!re._f&&!ir(Y)?V(T,Y,z):W(T,Y,z),q1(T,l)&&d.state.next({...r}),d.values.next({name:o.mount?T:void 0,values:{...a}})},E=async T=>{o.mount=!0;const O=T.target;let z=O.name,re=!0;const J=le(n,z),Y=()=>O.type?Gp(J._f):kW(T),he=Ne=>{re=Number.isNaN(Ne)||wo(Ne)&&isNaN(Ne.getTime())||pa(Ne,le(a,z,Ne))};if(J){let Ne,it;const Ke=Y(),Kr=T.type===V1.BLUR||T.type===V1.FOCUS_OUT,fn=!UW(J._f)&&!t.resolver&&!le(r.errors,z)&&!J._f.deps||BW(Kr,le(r.touchedFields,z),r.isSubmitted,p,h),Zs=q1(z,l,Kr);Xe(a,z,Ke),Kr?(J._f.onBlur&&J._f.onBlur(T),c&&c(0)):J._f.onChange&&J._f.onChange(T);const hn=j(z,Ke,Kr,!1),ro=!wr(hn)||Zs;if(!Kr&&d.values.next({name:z,type:T.type,values:{...a}}),fn)return f.isValid&&(e.mode==="onBlur"?Kr&&w():w()),ro&&d.state.next({name:z,...Zs?{}:hn});if(!Kr&&Zs&&d.state.next({...r}),t.resolver){const{errors:no}=await N([z]);if(he(Ke),re){const Xl=X1(r.errors,n,z),Xs=X1(no,n,Xl.name||z);Ne=Xs.error,z=Xs.name,it=wr(no)}}else y([z],!0),Ne=(await Y1(J,a,g,t.shouldUseNativeValidation))[z],y([z]),he(Ke),re&&(Ne?it=!1:f.isValid&&(it=await R(n,!0)));re&&(J._f.deps&&H(J._f.deps),C(z,it,Ne,hn))}},M=(T,O)=>{if(le(r.errors,O)&&T.focus)return T.focus(),1},H=async(T,O={})=>{let z,re;const J=sf(T);if(t.resolver){const Y=await k(wt(T)?T:J);z=wr(Y),re=T?!J.some(he=>le(Y,he)):z}else T?(re=(await Promise.all(J.map(async Y=>{const he=le(n,Y);return await R(he&&he._f?{[Y]:he}:he)}))).every(Boolean),!(!re&&!r.isValid)&&w()):re=z=await R(n);return d.state.next({...!ss(T)||f.isValid&&z!==r.isValid?{}:{name:T},...t.resolver||!T?{isValid:z}:{},errors:r.errors}),O.shouldFocus&&!re&&Vc(n,M,T?J:l.mount),re},K=T=>{const O={...o.mount?a:s};return wt(T)?O:ss(T)?le(O,T):T.map(z=>le(O,z))},te=(T,O)=>({invalid:!!le((O||r).errors,T),isDirty:!!le((O||r).dirtyFields,T),error:le((O||r).errors,T),isValidating:!!le(r.validatingFields,T),isTouched:!!le((O||r).touchedFields,T)}),ne=T=>{T&&sf(T).forEach(O=>Tt(r.errors,O)),d.state.next({errors:T?r.errors:{}})},ye=(T,O,z)=>{const re=(le(n,T,{_f:{}})._f||{}).ref,J=le(r.errors,T)||{},{ref:Y,message:he,type:Ne,...it}=J;Xe(r.errors,T,{...it,...O,ref:re}),d.state.next({name:T,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&re&&re.focus&&re.focus()},He=(T,O)=>Ds(T)?d.values.subscribe({next:z=>T(U(void 0,O),z)}):U(T,O,!0),xe=(T,O={})=>{for(const z of T?sf(T):l.mount)l.mount.delete(z),l.array.delete(z),O.keepValue||(Tt(n,z),Tt(a,z)),!O.keepError&&Tt(r.errors,z),!O.keepDirty&&Tt(r.dirtyFields,z),!O.keepTouched&&Tt(r.touchedFields,z),!O.keepIsValidating&&Tt(r.validatingFields,z),!t.shouldUnregister&&!O.keepDefaultValue&&Tt(s,z);d.values.next({values:{...a}}),d.state.next({...r,...O.keepDirty?{isDirty:A()}:{}}),!O.keepIsValid&&w()},oe=({disabled:T,name:O,field:z,fields:re,value:J})=>{if(qn(T)&&o.mount||T){const Y=T?void 0:wt(J)?Gp(z?z._f:le(re,O)._f):J;Xe(a,O,Y),j(O,Y,!1,!1,!0)}},Ce=(T,O={})=>{let z=le(n,T);const re=qn(O.disabled)||qn(e.disabled);return Xe(n,T,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:T}},name:T,mount:!0,...O}}),l.mount.add(T),z?oe({field:z,disabled:qn(O.disabled)?O.disabled:e.disabled,name:T,value:O.value}):S(T,!0,O.value),{...re?{disabled:O.disabled||e.disabled}:{},...t.progressive?{required:!!O.required,min:mc(O.min),max:mc(O.max),minLength:mc(O.minLength),maxLength:mc(O.maxLength),pattern:mc(O.pattern)}:{},name:T,onChange:E,onBlur:E,ref:J=>{if(J){Ce(T,O),z=le(n,T);const Y=wt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,he=$W(Y),Ne=z._f.refs||[];if(he?Ne.find(it=>it===Y):Y===z._f.ref)return;Xe(n,T,{_f:{...z._f,...he?{refs:[...Ne.filter(Kp),Y,...Array.isArray(le(s,T))?[{}]:[]],ref:{type:Y.type,name:T}}:{ref:Y}}}),S(T,!1,void 0,Y)}else z=le(n,T,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(TW(l.array,T)&&o.action)&&l.unMount.add(T)}}},Oe=()=>t.shouldFocusError&&Vc(n,M,l.mount),Te=T=>{qn(T)&&(d.state.next({disabled:T}),Vc(n,(O,z)=>{const re=le(n,z);re&&(O.disabled=re._f.disabled||T,Array.isArray(re._f.refs)&&re._f.refs.forEach(J=>{J.disabled=re._f.disabled||T}))},0,!1))},De=(T,O)=>async z=>{let re;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let J=Gr(a);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:Y,values:he}=await N();r.errors=Y,J=he}else await R(n);if(Tt(r.errors,"root"),wr(r.errors)){d.state.next({errors:{}});try{await T(J,z)}catch(Y){re=Y}}else O&&await O({...r.errors},z),Oe(),setTimeout(Oe);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wr(r.errors)&&!re,submitCount:r.submitCount+1,errors:r.errors}),re)throw re},$e=(T,O={})=>{le(n,T)&&(wt(O.defaultValue)?F(T,Gr(le(s,T))):(F(T,O.defaultValue),Xe(s,T,Gr(O.defaultValue))),O.keepTouched||Tt(r.touchedFields,T),O.keepDirty||(Tt(r.dirtyFields,T),r.isDirty=O.defaultValue?A(T,Gr(le(s,T))):A()),O.keepError||(Tt(r.errors,T),f.isValid&&w()),d.state.next({...r}))},de=(T,O={})=>{const z=T?Gr(T):s,re=Gr(z),J=wr(T),Y=J?s:re;if(O.keepDefaultValues||(s=z),!O.keepValues){if(O.keepDirtyValues){const he=new Set([...l.mount,...Object.keys(hc(s,a))]);for(const Ne of Array.from(he))le(r.dirtyFields,Ne)?Xe(Y,Ne,le(a,Ne)):F(Ne,le(Y,Ne))}else{if(y0&&wt(T))for(const he of l.mount){const Ne=le(n,he);if(Ne&&Ne._f){const it=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(Xf(it)){const Ke=it.closest("form");if(Ke){Ke.reset();break}}}}n={}}a=e.shouldUnregister?O.keepDefaultValues?Gr(s):{}:Gr(Y),d.array.next({values:{...Y}}),d.values.next({values:{...Y}})}l={mount:O.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!O.keepIsValid||!!O.keepDirtyValues,o.watch=!!e.shouldUnregister,d.state.next({submitCount:O.keepSubmitCount?r.submitCount:0,isDirty:J?!1:O.keepDirty?r.isDirty:!!(O.keepDefaultValues&&!pa(T,s)),isSubmitted:O.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:J?{}:O.keepDirtyValues?O.keepDefaultValues&&a?hc(s,a):r.dirtyFields:O.keepDefaultValues&&T?hc(s,T):O.keepDirty?r.dirtyFields:{},touchedFields:O.keepTouched?r.touchedFields:{},errors:O.keepErrors?r.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Et=(T,O)=>de(Ds(T)?T(a):T,O);return{control:{register:Ce,unregister:xe,getFieldState:te,handleSubmit:De,setError:ye,_executeSchema:N,_getWatch:U,_getDirty:A,_updateValid:w,_removeUnmounted:D,_updateFieldArray:x,_updateDisabledField:oe,_getFieldArray:I,_reset:de,_resetDefaultValues:()=>Ds(t.defaultValues)&&t.defaultValues().then(T=>{Et(T,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:T=>{r={...r,...T}},_disableForm:Te,_subjects:d,_proxyFormState:f,_setErrors:_,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(T){o=T},get _defaultValues(){return s},get _names(){return l},set _names(T){l=T},get _formState(){return r},set _formState(T){r=T},get _options(){return t},set _options(T){t={...t,...T}}},trigger:H,register:Ce,handleSubmit:De,watch:He,setValue:F,getValues:K,reset:Et,resetField:$e,clearErrors:ne,unregister:xe,setError:ye,setFocus:(T,O={})=>{const z=le(n,T),re=z&&z._f;if(re){const J=re.refs?re.refs[0]:re.ref;J.focus&&(J.focus(),O.shouldSelect&&J.select())}},getFieldState:te}}function HW(e={}){const t=L.useRef(),r=L.useRef(),[n,s]=L.useState({isDirty:!1,isValidating:!1,isLoading:Ds(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ds(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...qW(e),formState:n});const a=t.current.control;return a._options=e,DW({subject:a._subjects.state,next:o=>{MW(o,a._proxyFormState,a._updateFormState)&&s({...a._formState})}}),L.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),L.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),L.useEffect(()=>{e.values&&!pa(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),L.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),L.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),L.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),L.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=RW(n,a),t.current}const J1=(e,t,r)=>{if(e&&"reportValidity"in e){const n=le(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},UT=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?J1(n.ref,r,e):n.refs&&n.refs.forEach(s=>J1(s,r,e))}},KW=(e,t)=>{t.shouldUseNativeValidation&&UT(e,t);const r={};for(const n in e){const s=le(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(GW(t.names||Object.keys(e),n)){const o=Object.assign({},le(r,n));Xe(o,"root",a),Xe(r,n,o)}else Xe(r,n,a)}return r},GW=(e,t)=>e.some(r=>r.startsWith(t+"."));var QW=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(d){return e.push(d)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=AT(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},YW=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&UT({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:KW(QW(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},We;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(We||(We={}));var e_;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(e_||(e_={}));const ie=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mo=e=>{switch(typeof e){case"undefined":return ie.undefined;case"string":return ie.string;case"number":return isNaN(e)?ie.nan:ie.number;case"boolean":return ie.boolean;case"function":return ie.function;case"bigint":return ie.bigint;case"symbol":return ie.symbol;case"object":return Array.isArray(e)?ie.array:e===null?ie.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ie.promise:typeof Map<"u"&&e instanceof Map?ie.map:typeof Set<"u"&&e instanceof Set?ie.set:typeof Date<"u"&&e instanceof Date?ie.date:ie.object;default:return ie.unknown}},Z=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class sn extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof sn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}sn.create=e=>new sn(e);const gu=(e,t)=>{let r;switch(e.code){case Z.invalid_type:e.received===ie.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,We.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:r=`Unrecognized key(s) in object: ${We.joinValues(e.keys,", ")}`;break;case Z.invalid_union:r="Invalid input";break;case Z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${We.joinValues(e.options)}`;break;case Z.invalid_enum_value:r=`Invalid enum value. Expected ${We.joinValues(e.options)}, received '${e.received}'`;break;case Z.invalid_arguments:r="Invalid function arguments";break;case Z.invalid_return_type:r="Invalid function return type";break;case Z.invalid_date:r="Invalid date";break;case Z.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:We.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Z.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Z.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Z.custom:r="Invalid input";break;case Z.invalid_intersection_types:r="Intersection results could not be merged";break;case Z.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Z.not_finite:r="Number must be finite";break;default:r=t.defaultError,We.assertNever(e)}return{message:r}};let ZW=gu;function Hv(){return ZW}const Kv=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function se(e,t){const r=Hv(),n=Kv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===gu?void 0:gu].filter(s=>!!s)});e.common.issues.push(n)}class ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return _e;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return ur.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return _e;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const _e=Object.freeze({status:"aborted"}),_c=e=>({status:"dirty",value:e}),Mr=e=>({status:"valid",value:e}),t_=e=>e.status==="aborted",r_=e=>e.status==="dirty",th=e=>e.status==="valid",rh=e=>typeof Promise<"u"&&e instanceof Promise;function nh(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function BT(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(fe||(fe={}));var Sc,Cc;class fs{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const n_=(e,t)=>{if(th(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new sn(e.common.issues);return this._error=r,this._error}}};function Ee(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:f}=e;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Fe{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return mo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:mo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ur,ctx:{common:t.parent.common,data:t.data,parsedType:mo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(rh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)},a=this._parseSync({data:t,path:s.path,parent:s});return n_(s,a)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(rh(s)?s:Promise.resolve(s));return n_(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:Z.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Gs({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Ls.create(this,this._def)}nullable(){return Vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return is.create(this,this._def)}promise(){return yu.create(this,this._def)}or(t){return oh.create([this,t],this._def)}and(t){return ih.create(this,t,this._def)}transform(t){return new Gs({...Ee(this._def),schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new fh({...Ee(this._def),innerType:this,defaultValue:r,typeName:be.ZodDefault})}brand(){return new HT({typeName:be.ZodBranded,type:this,...Ee(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new hh({...Ee(this._def),innerType:this,catchValue:r,typeName:be.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return km.create(this,t)}readonly(){return mh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const XW=/^c[^\s-]{8,}$/i,JW=/^[0-9a-z]+$/,eq=/^[0-9A-HJKMNP-TV-Z]{26}$/,tq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rq=/^[a-z0-9_-]{21}$/i,nq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qp;const oq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iq=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,lq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,VT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cq=new RegExp(`^${VT}$`);function WT(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function uq(e){return new RegExp(`^${WT(e)}$`)}function dq(e){let t=`${VT}T${WT(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function fq(e,t){return!!((t==="v4"||!t)&&oq.test(e)||(t==="v6"||!t)&&iq.test(e))}class As extends Fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ie.string){const a=this._getOrReturnCtx(t);return se(a,{code:Z.invalid_type,expected:ie.string,received:a.parsedType}),_e}const n=new ur;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:Z.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:Z.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?se(s,{code:Z.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&se(s,{code:Z.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")sq.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"email",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Qp||(Qp=new RegExp(aq,"u")),Qp.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"emoji",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")tq.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"uuid",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")rq.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"nanoid",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")XW.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"cuid",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")JW.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"cuid2",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")eq.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"ulid",code:Z.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),se(s,{validation:"url",code:Z.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"regex",code:Z.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),se(s,{code:Z.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),se(s,{code:Z.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),se(s,{code:Z.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?dq(a).test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{code:Z.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?cq.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{code:Z.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?uq(a).test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{code:Z.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?nq.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"duration",code:Z.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?fq(t.data,a.version)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"ip",code:Z.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?lq.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"base64",code:Z.invalid_string,message:a.message}),n.dirty()):We.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:Z.invalid_string,...fe.errToObj(n)})}_addCheck(t){return new As({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...fe.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...fe.errToObj(r)})}nonempty(t){return this.min(1,fe.errToObj(t))}trim(){return new As({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new As({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new As({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}As.create=e=>{var t;return new As({checks:[],typeName:be.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ee(e)})};function hq(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class jl extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ie.number){const a=this._getOrReturnCtx(t);return se(a,{code:Z.invalid_type,expected:ie.number,received:a.parsedType}),_e}let n;const s=new ur;for(const a of this._def.checks)a.kind==="int"?We.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),se(n,{code:Z.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Z.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Z.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?hq(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),se(n,{code:Z.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),se(n,{code:Z.not_finite,message:a.message}),s.dirty()):We.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,fe.toString(r))}setLimit(t,r,n,s){return new jl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:fe.toString(s)}]})}_addCheck(t){return new jl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&We.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}jl.create=e=>new jl({checks:[],typeName:be.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ee(e)});class Nl extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ie.bigint){const a=this._getOrReturnCtx(t);return se(a,{code:Z.invalid_type,expected:ie.bigint,received:a.parsedType}),_e}let n;const s=new ur;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Z.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Z.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),se(n,{code:Z.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):We.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,fe.toString(r))}setLimit(t,r,n,s){return new Nl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:fe.toString(s)}]})}_addCheck(t){return new Nl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nl.create=e=>{var t;return new Nl({checks:[],typeName:be.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ee(e)})};class Gv extends Fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ie.boolean){const n=this._getOrReturnCtx(t);return se(n,{code:Z.invalid_type,expected:ie.boolean,received:n.parsedType}),_e}return Mr(t.data)}}Gv.create=e=>new Gv({typeName:be.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ee(e)});class vu extends Fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ie.date){const a=this._getOrReturnCtx(t);return se(a,{code:Z.invalid_type,expected:ie.date,received:a.parsedType}),_e}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return se(a,{code:Z.invalid_date}),_e}const n=new ur;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:Z.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:Z.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):We.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}vu.create=e=>new vu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:be.ZodDate,...Ee(e)});class Qv extends Fe{_parse(t){if(this._getType(t)!==ie.symbol){const n=this._getOrReturnCtx(t);return se(n,{code:Z.invalid_type,expected:ie.symbol,received:n.parsedType}),_e}return Mr(t.data)}}Qv.create=e=>new Qv({typeName:be.ZodSymbol,...Ee(e)});class sh extends Fe{_parse(t){if(this._getType(t)!==ie.undefined){const n=this._getOrReturnCtx(t);return se(n,{code:Z.invalid_type,expected:ie.undefined,received:n.parsedType}),_e}return Mr(t.data)}}sh.create=e=>new sh({typeName:be.ZodUndefined,...Ee(e)});class ah extends Fe{_parse(t){if(this._getType(t)!==ie.null){const n=this._getOrReturnCtx(t);return se(n,{code:Z.invalid_type,expected:ie.null,received:n.parsedType}),_e}return Mr(t.data)}}ah.create=e=>new ah({typeName:be.ZodNull,...Ee(e)});class Yv extends Fe{constructor(){super(...arguments),this._any=!0}_parse(t){return Mr(t.data)}}Yv.create=e=>new Yv({typeName:be.ZodAny,...Ee(e)});class Hi extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Mr(t.data)}}Hi.create=e=>new Hi({typeName:be.ZodUnknown,...Ee(e)});class qa extends Fe{_parse(t){const r=this._getOrReturnCtx(t);return se(r,{code:Z.invalid_type,expected:ie.never,received:r.parsedType}),_e}}qa.create=e=>new qa({typeName:be.ZodNever,...Ee(e)});class Zv extends Fe{_parse(t){if(this._getType(t)!==ie.undefined){const n=this._getOrReturnCtx(t);return se(n,{code:Z.invalid_type,expected:ie.void,received:n.parsedType}),_e}return Mr(t.data)}}Zv.create=e=>new Zv({typeName:be.ZodVoid,...Ee(e)});class is extends Fe{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ie.array)return se(r,{code:Z.invalid_type,expected:ie.array,received:r.parsedType}),_e;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(se(r,{code:o?Z.too_big:Z.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(se(r,{code:Z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(se(r,{code:Z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new fs(r,o,r.path,l)))).then(o=>ur.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new fs(r,o,r.path,l)));return ur.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new is({...this._def,minLength:{value:t,message:fe.toString(r)}})}max(t,r){return new is({...this._def,maxLength:{value:t,message:fe.toString(r)}})}length(t,r){return new is({...this._def,exactLength:{value:t,message:fe.toString(r)}})}nonempty(t){return this.min(1,t)}}is.create=(e,t)=>new is({type:e,minLength:null,maxLength:null,exactLength:null,typeName:be.ZodArray,...Ee(t)});function yi(e){if(e instanceof vt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ls.create(yi(n))}return new vt({...e._def,shape:()=>t})}else return e instanceof is?new is({...e._def,type:yi(e.element)}):e instanceof Ls?Ls.create(yi(e.unwrap())):e instanceof Vo?Vo.create(yi(e.unwrap())):e instanceof Ks?Ks.create(e.items.map(t=>yi(t))):e}class vt extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=We.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ie.object){const u=this._getOrReturnCtx(t);return se(u,{code:Z.invalid_type,expected:ie.object,received:u.parsedType}),_e}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof qa&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const f=a[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new fs(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof qa){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")l.length>0&&(se(s,{code:Z.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const d=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new fs(s,d,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>ur.mergeObjectSync(n,u)):ur.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return fe.errToObj,new vt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=fe.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new vt({...this._def,unknownKeys:"strip"})}passthrough(){return new vt({...this._def,unknownKeys:"passthrough"})}extend(t){return new vt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new vt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:be.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new vt({...this._def,catchall:t})}pick(t){const r={};return We.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new vt({...this._def,shape:()=>r})}omit(t){const r={};return We.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new vt({...this._def,shape:()=>r})}deepPartial(){return yi(this)}partial(t){const r={};return We.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new vt({...this._def,shape:()=>r})}required(t){const r={};return We.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ls;)a=a._def.innerType;r[n]=a}}),new vt({...this._def,shape:()=>r})}keyof(){return qT(We.objectKeys(this.shape))}}vt.create=(e,t)=>new vt({shape:()=>e,unknownKeys:"strip",catchall:qa.create(),typeName:be.ZodObject,...Ee(t)});vt.strictCreate=(e,t)=>new vt({shape:()=>e,unknownKeys:"strict",catchall:qa.create(),typeName:be.ZodObject,...Ee(t)});vt.lazycreate=(e,t)=>new vt({shape:e,unknownKeys:"strip",catchall:qa.create(),typeName:be.ZodObject,...Ee(t)});class oh extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new sn(l.ctx.common.issues));return se(r,{code:Z.invalid_union,unionErrors:o}),_e}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new sn(c));return se(r,{code:Z.invalid_union,unionErrors:l}),_e}}get options(){return this._def.options}}oh.create=(e,t)=>new oh({options:e,typeName:be.ZodUnion,...Ee(t)});const Cs=e=>e instanceof ch?Cs(e.schema):e instanceof Gs?Cs(e.innerType()):e instanceof uh?[e.value]:e instanceof Bo?e.options:e instanceof dh?We.objectValues(e.enum):e instanceof fh?Cs(e._def.innerType):e instanceof sh?[void 0]:e instanceof ah?[null]:e instanceof Ls?[void 0,...Cs(e.unwrap())]:e instanceof Vo?[null,...Cs(e.unwrap())]:e instanceof HT||e instanceof mh?Cs(e.unwrap()):e instanceof hh?Cs(e._def.innerType):[];class _0 extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ie.object)return se(r,{code:Z.invalid_type,expected:ie.object,received:r.parsedType}),_e;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(se(r,{code:Z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const a of r){const o=Cs(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new _0({typeName:be.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Ee(n)})}}function Xv(e,t){const r=mo(e),n=mo(t);if(e===t)return{valid:!0,data:e};if(r===ie.object&&n===ie.object){const s=We.objectKeys(t),a=We.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=Xv(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ie.array&&n===ie.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=Xv(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ie.date&&n===ie.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ih extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(t_(a)||t_(o))return _e;const l=Xv(a.value,o.value);return l.valid?((r_(a)||r_(o))&&r.dirty(),{status:r.value,value:l.data}):(se(n,{code:Z.invalid_intersection_types}),_e)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ih.create=(e,t,r)=>new ih({left:e,right:t,typeName:be.ZodIntersection,...Ee(r)});class Ks extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ie.array)return se(n,{code:Z.invalid_type,expected:ie.array,received:n.parsedType}),_e;if(n.data.length<this._def.items.length)return se(n,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&n.data.length>this._def.items.length&&(se(n,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new fs(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>ur.mergeArray(r,o)):ur.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Ks({...this._def,rest:t})}}Ks.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ks({items:e,typeName:be.ZodTuple,rest:null,...Ee(t)})};class lh extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ie.object)return se(n,{code:Z.invalid_type,expected:ie.object,received:n.parsedType}),_e;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:a._parse(new fs(n,l,n.path,l)),value:o._parse(new fs(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?ur.mergeObjectAsync(r,s):ur.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Fe?new lh({keyType:t,valueType:r,typeName:be.ZodRecord,...Ee(n)}):new lh({keyType:As.create(),valueType:t,typeName:be.ZodRecord,...Ee(r)})}}class Jv extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ie.map)return se(n,{code:Z.invalid_type,expected:ie.map,received:n.parsedType}),_e;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new fs(n,l,n.path,[u,"key"])),value:a._parse(new fs(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return _e;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return _e;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}Jv.create=(e,t,r)=>new Jv({valueType:t,keyType:e,typeName:be.ZodMap,...Ee(r)});class kl extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ie.set)return se(n,{code:Z.invalid_type,expected:ie.set,received:n.parsedType}),_e;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(se(n,{code:Z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(se(n,{code:Z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return _e;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new fs(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new kl({...this._def,minSize:{value:t,message:fe.toString(r)}})}max(t,r){return new kl({...this._def,maxSize:{value:t,message:fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}kl.create=(e,t)=>new kl({valueType:e,minSize:null,maxSize:null,typeName:be.ZodSet,...Ee(t)});class Wc extends Fe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ie.function)return se(r,{code:Z.invalid_type,expected:ie.function,received:r.parsedType}),_e;function n(l,c){return Kv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Hv(),gu].filter(u=>!!u),issueData:{code:Z.invalid_arguments,argumentsError:c}})}function s(l,c){return Kv({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Hv(),gu].filter(u=>!!u),issueData:{code:Z.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof yu){const l=this;return Mr(async function(...c){const u=new sn([]),f=await l._def.args.parseAsync(c,a).catch(p=>{throw u.addIssue(n(c,p)),u}),d=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(d,a).catch(p=>{throw u.addIssue(s(d,p)),u})})}else{const l=this;return Mr(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new sn([n(c,u.error)]);const f=Reflect.apply(o,this,u.data),d=l._def.returns.safeParse(f,a);if(!d.success)throw new sn([s(f,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Wc({...this._def,args:Ks.create(t).rest(Hi.create())})}returns(t){return new Wc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Wc({args:t||Ks.create([]).rest(Hi.create()),returns:r||Hi.create(),typeName:be.ZodFunction,...Ee(n)})}}class ch extends Fe{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ch.create=(e,t)=>new ch({getter:e,typeName:be.ZodLazy,...Ee(t)});class uh extends Fe{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return se(r,{received:r.data,code:Z.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:t.data}}get value(){return this._def.value}}uh.create=(e,t)=>new uh({value:e,typeName:be.ZodLiteral,...Ee(t)});function qT(e,t){return new Bo({values:e,typeName:be.ZodEnum,...Ee(t)})}class Bo extends Fe{constructor(){super(...arguments),Sc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return se(r,{expected:We.joinValues(n),received:r.parsedType,code:Z.invalid_type}),_e}if(nh(this,Sc)||BT(this,Sc,new Set(this._def.values)),!nh(this,Sc).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return se(r,{received:r.data,code:Z.invalid_enum_value,options:n}),_e}return Mr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Bo.create(t,{...this._def,...r})}exclude(t,r=this._def){return Bo.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Sc=new WeakMap;Bo.create=qT;class dh extends Fe{constructor(){super(...arguments),Cc.set(this,void 0)}_parse(t){const r=We.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ie.string&&n.parsedType!==ie.number){const s=We.objectValues(r);return se(n,{expected:We.joinValues(s),received:n.parsedType,code:Z.invalid_type}),_e}if(nh(this,Cc)||BT(this,Cc,new Set(We.getValidEnumValues(this._def.values))),!nh(this,Cc).has(t.data)){const s=We.objectValues(r);return se(n,{received:n.data,code:Z.invalid_enum_value,options:s}),_e}return Mr(t.data)}get enum(){return this._def.values}}Cc=new WeakMap;dh.create=(e,t)=>new dh({values:e,typeName:be.ZodNativeEnum,...Ee(t)});class yu extends Fe{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ie.promise&&r.common.async===!1)return se(r,{code:Z.invalid_type,expected:ie.promise,received:r.parsedType}),_e;const n=r.parsedType===ie.promise?r.data:Promise.resolve(r.data);return Mr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}yu.create=(e,t)=>new yu({type:e,typeName:be.ZodPromise,...Ee(t)});class Gs extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{se(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return _e;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?_e:c.status==="dirty"||r.value==="dirty"?_c(c.value):c});{if(r.value==="aborted")return _e;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?_e:l.status==="dirty"||r.value==="dirty"?_c(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!th(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>th(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);We.assertNever(s)}}Gs.create=(e,t,r)=>new Gs({schema:e,typeName:be.ZodEffects,effect:t,...Ee(r)});Gs.createWithPreprocess=(e,t,r)=>new Gs({schema:t,effect:{type:"preprocess",transform:e},typeName:be.ZodEffects,...Ee(r)});class Ls extends Fe{_parse(t){return this._getType(t)===ie.undefined?Mr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ls.create=(e,t)=>new Ls({innerType:e,typeName:be.ZodOptional,...Ee(t)});class Vo extends Fe{_parse(t){return this._getType(t)===ie.null?Mr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vo.create=(e,t)=>new Vo({innerType:e,typeName:be.ZodNullable,...Ee(t)});class fh extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ie.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fh.create=(e,t)=>new fh({innerType:e,typeName:be.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ee(t)});class hh extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return rh(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new sn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new sn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}hh.create=(e,t)=>new hh({innerType:e,typeName:be.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ee(t)});class ey extends Fe{_parse(t){if(this._getType(t)!==ie.nan){const n=this._getOrReturnCtx(t);return se(n,{code:Z.invalid_type,expected:ie.nan,received:n.parsedType}),_e}return{status:"valid",value:t.data}}}ey.create=e=>new ey({typeName:be.ZodNaN,...Ee(e)});class HT extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class km extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?_e:a.status==="dirty"?(r.dirty(),_c(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?_e:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new km({in:t,out:r,typeName:be.ZodPipeline})}}class mh extends Fe{_parse(t){const r=this._def.innerType._parse(t),n=s=>(th(s)&&(s.value=Object.freeze(s.value)),s);return rh(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}mh.create=(e,t)=>new mh({innerType:e,typeName:be.ZodReadonly,...Ee(t)});vt.lazycreate;var be;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(be||(be={}));const Yp=As.create,s_=jl.create;ey.create;Nl.create;Gv.create;vu.create;Qv.create;sh.create;ah.create;Yv.create;Hi.create;qa.create;Zv.create;is.create;const mq=vt.create;vt.strictCreate;oh.create;_0.create;ih.create;Ks.create;lh.create;Jv.create;kl.create;Wc.create;ch.create;uh.create;const pq=Bo.create;dh.create;yu.create;Gs.create;Ls.create;Vo.create;Gs.createWithPreprocess;km.create;const S0=m.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:B("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));S0.displayName="Textarea";const gq=mq({goal_type:pq(["emergency_fund","purchase_goal","investment_goal","custom_goal"]),amount:s_().min(1,"O valor deve ser maior que R$ 0"),target_date:Yp().optional(),monthly_contribution:s_().min(0).optional(),description:Yp().optional(),goal_icon:Yp().optional()}),vq=[{value:"emergency_fund",label:"Reserva de Emergncia",icon:"",description:"Para momentos difceis"},{value:"purchase_goal",label:"Meta de Compra",icon:"",description:"Para aquela compra especial"},{value:"investment_goal",label:"Meta de Investimento",icon:"",description:"Para crescer seu patrimnio"},{value:"custom_goal",label:"Meta Personalizada",icon:"",description:"Para seus objetivos nicos"}];function a_({goal:e,onSubmit:t,onCancel:r,isLoading:n}){const[s,a]=m.useState(e!=null&&e.target_date?new Date(e.target_date):void 0),{register:o,handleSubmit:l,formState:{errors:c},setValue:u,watch:f}=HW({resolver:YW(gq),defaultValues:{goal_type:(e==null?void 0:e.goal_type)||"custom_goal",amount:(e==null?void 0:e.amount)||0,monthly_contribution:(e==null?void 0:e.monthly_contribution)||0,description:(e==null?void 0:e.description)||"",goal_icon:(e==null?void 0:e.goal_icon)||"target"}}),d=f("goal_type"),h=f("amount"),p=f("monthly_contribution"),g=w=>{t({...w,target_date:s==null?void 0:s.toISOString().split("T")[0]})},v=()=>h&&p&&p>0?Math.ceil(h/p):0;return i.jsxs("form",{onSubmit:l(g),className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{children:"Tipo de Meta"}),i.jsxs(Rs,{value:d,onValueChange:w=>u("goal_type",w),children:[i.jsx(rs,{children:i.jsx(Ms,{placeholder:"Selecione o tipo de meta"})}),i.jsx(ns,{children:vq.map(w=>i.jsx(dt,{value:w.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:w.icon}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:w.label}),i.jsx("div",{className:"text-xs text-muted-foreground",children:w.description})]})]})},w.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"description",children:"Descrio da Meta"}),i.jsx(S0,{id:"description",placeholder:"Ex: Reserva para emergncias de 6 meses...",...o("description")})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"amount",children:"Valor da Meta (R$)"}),i.jsx(Le,{id:"amount",type:"number",step:"0.01",placeholder:"0,00",...o("amount",{valueAsNumber:!0})}),c.amount&&i.jsx("p",{className:"text-sm text-red-500",children:c.amount.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"monthly_contribution",children:"Contribuio Mensal (R$)"}),i.jsx(Le,{id:"monthly_contribution",type:"number",step:"0.01",placeholder:"0,00",...o("monthly_contribution",{valueAsNumber:!0})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{children:"Data Alvo (Opcional)"}),i.jsxs(h0,{children:[i.jsx(m0,{asChild:!0,children:i.jsxs(q,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[i.jsx(Ru,{className:"mr-2 h-4 w-4"}),s?Me(s,"dd 'de' MMMM 'de' yyyy",{locale:et}):i.jsx("span",{children:"Selecione uma data"})]})}),i.jsx(Cm,{className:"w-auto p-0",align:"start",children:i.jsx(u0,{mode:"single",selected:s,onSelect:a,disabled:w=>w<new Date,initialFocus:!0})})]})]}),h&&p&&p>0&&i.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-2",children:" Projeo"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Com contribuies de R$ ",p.toLocaleString("pt-BR",{minimumFractionDigits:2})," por ms, voc atingir sua meta em aproximadamente ",i.jsxs("strong",{children:[v()," meses"]}),"."]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancelar"}),i.jsx(q,{type:"submit",disabled:n,className:"flex-1",children:n?"Salvando...":e?"Atualizar Meta":"Criar Meta"})]})]})}function KT(){const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,a]=m.useState(0),{goals:o,createGoal:l,updateGoal:c,deleteGoal:u,isCreating:f,isUpdating:d}=p0(),h=NT(o),p=_=>{console.log(" Criando nova meta:",_),a(10);try{l(_),setTimeout(()=>a(50),300),setTimeout(()=>a(80),600),setTimeout(()=>{a(100),t(!1),a(0),n(null)},900)}catch(S){console.error(" Erro ao criar meta:",S),a(0)}},g=_=>{n(_),t(!0)},v=_=>{r&&(console.log(" Atualizando meta:",{..._,id:r.id}),c({..._,id:r.id}),n(null),t(!1))},w=_=>{confirm("Tem certeza que deseja remover esta meta?")&&u(_)},y=()=>{n(null),a(0),t(!0)},x=()=>{t(!1),n(null),a(0)},b=o.length>0?h.reduce((_,S)=>_+Math.min(S.percentage,100),0)/o.length:0;return o.length===0?i.jsxs(i.Fragment,{children:[i.jsxs(xt,{children:[i.jsx(Tr,{children:i.jsxs(Pr,{className:"flex items-center gap-2",children:[i.jsx(Is,{className:"h-5 w-5"}),"Metas Financeiras"]})}),i.jsx(St,{className:"text-center py-8",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-muted rounded-full flex items-center justify-center",children:i.jsx(Is,{className:"h-6 w-6 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Nenhuma meta definida"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Defina metas financeiras para acompanhar seu progresso"})]}),i.jsxs(q,{onClick:y,children:[i.jsx(Df,{className:"h-4 w-4 mr-2"}),"Criar primeira meta"]})]})})]}),i.jsx(Hs,{open:e,onOpenChange:x,children:i.jsxs(cs,{className:"max-w-md",children:[i.jsx(us,{children:i.jsx(ds,{children:"Criar Nova Meta"})}),s>0&&i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Criando meta..."}),i.jsxs("span",{children:[s,"%"]})]}),i.jsx(Bc,{value:s,className:"h-2"})]}),i.jsx(a_,{onSubmit:p,onCancel:x,isLoading:f})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[i.jsx(Is,{className:"h-5 w-5"}),"Suas Metas Financeiras"]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progresso geral das metas"}),i.jsxs("span",{className:"font-medium",children:[Math.round(b),"%"]})]}),i.jsx(Bc,{value:b,className:"h-2 w-64"})]})]}),i.jsxs(q,{onClick:y,children:[i.jsx(Df,{className:"h-4 w-4 mr-2"}),"Nova Meta"]})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:h.map(_=>i.jsx(NW,{progress:_,onEdit:()=>g(_.goal),onDelete:()=>w(_.goal.id)},_.goal.id))}),i.jsx(Hs,{open:e,onOpenChange:x,children:i.jsxs(cs,{className:"max-w-md",children:[i.jsx(us,{children:i.jsx(ds,{children:r?"Editar Meta":"Criar Nova Meta"})}),!r&&s>0&&i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Criando meta..."}),i.jsxs("span",{children:[s,"%"]})]}),i.jsx(Bc,{value:s,className:"h-2"})]}),i.jsx(a_,{goal:r,onSubmit:r?v:p,onCancel:x,isLoading:f||d})]})})]})}const Ad=e=>`R$ ${e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`;function yq(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),{data:s=[],isLoading:a}=jT(),{goals:o}=p0(),l=NT(o),c=m.useMemo(()=>new Date,[]),u=m.useMemo(()=>{if(!s||s.length===0)return[];const d=Ht(c),h=Sl(c),p=Ht(Gf(c,1)),g=Sl(Gf(c,1)),v=s.filter(C=>P1(Yn(C.date),{start:d,end:h})),w=s.filter(C=>P1(Yn(C.date),{start:p,end:g})),y=v.filter(C=>C.type==="expense").reduce((C,N)=>C+Math.abs(N.amount),0),x=w.filter(C=>C.type==="expense").reduce((C,N)=>C+Math.abs(N.amount),0),b=v.filter(C=>C.type==="income"&&C.payment_status==="confirmed").reduce((C,N)=>C+N.amount,0),_=v.filter(C=>C.type==="investment").reduce((C,N)=>C+N.amount,0),S=s.filter(C=>C.type==="investment").reduce((C,N)=>C+N.amount,0),j=[];if(_>0){const C=b>0?_/b:0;C>=.2?j.push({type:"investment_excellent",title:"Excelente Taxa de Investimento! ",description:`Voc investiu ${Math.round(C*100)}% da sua renda este ms (${Ad(_)})`,action:"Continue investindo consistentemente para atingir suas metas",impact:"low",icon:i.jsx(Li,{className:"h-5 w-5 text-blue-500"})}):C>=.1&&j.push({type:"investment_good",title:"Boa Taxa de Investimento ",description:`Voc investiu ${Math.round(C*100)}% da sua renda este ms`,action:"Tente aumentar para 20% se possvel",impact:"medium",icon:i.jsx(Li,{className:"h-5 w-5 text-blue-500"})})}if(S>0&&j.push({type:"total_investments",title:`Patrimnio Acumulado: ${Ad(S)}`,description:`Voc j acumulou um total de ${Ad(S)} em investimentos`,action:"Continue investindo regularmente para fazer seu dinheiro trabalhar para voc",impact:"low",icon:i.jsx(Qg,{className:"h-5 w-5 text-blue-500"})}),l.forEach(C=>{const{goal:N,current:k,target:R,percentage:D,status:A}=C;D>=100&&A==="achieved"?j.push({type:"goal_achieved",title:"Meta Atingida! ",description:`Voc alcanou sua meta "${N.description||"Meta de Poupana"}" de ${Ad(R)}`,impact:"low",icon:i.jsx(OO,{className:"h-5 w-5 text-green-500"})}):A==="behind"?j.push({type:"goal_behind",title:`Meta Atrasada: ${N.description||"Meta"}`,description:`Voc est com ${Math.round(D)}% da sua meta. Precisa acelerar para atingir o objetivo.`,action:"Considere aumentar as contribuies mensais ou fazer investimentos direcionados",impact:"high",icon:i.jsx(Ou,{className:"h-5 w-5 text-red-500"})}):A==="warning"&&j.push({type:"goal_warning",title:`Ateno na Meta: ${N.description||"Meta"}`,description:`Voc est com ${Math.round(D)}% da sua meta e o prazo est se aproximando`,action:"Monitore seu progresso e considere fazer investimentos especficos para esta meta",impact:"medium",icon:i.jsx(Is,{className:"h-5 w-5 text-yellow-500"})})}),y>x*1.2){const C=Math.round((y/x-1)*100);j.push({type:"expense_increase",title:"Aumento de Gastos",description:`Seus gastos subiram ${C}% em relao ao ms passado`,action:"Analise onde foi o aumento e considere reduzir para aumentar seus investimentos",impact:"high",icon:i.jsx(Li,{className:"h-5 w-5 text-red-500"})})}if(b>0){const C=(b-y)/b,N=(b-y+_)/b;C<.1&&_===0?j.push({type:"savings_low",title:"Taxa de Poupana e Investimento Baixa",description:`Voc est poupando apenas ${Math.round(C*100)}% da sua renda e no fez investimentos`,action:"Tente economizar pelo menos 20% da sua renda mensal e destine parte para investimentos",impact:"high",icon:i.jsx(Qg,{className:"h-5 w-5 text-red-500"})}):N>=.3&&j.push({type:"allocation_excellent",title:"Excelente Gesto Financeira! ",description:`Voc est poupando/investindo ${Math.round(N*100)}% da sua renda`,action:"Continue assim! Considere diversificar seus investimentos",impact:"low",icon:i.jsx(Rf,{className:"h-5 w-5 text-green-500"})})}return j.sort((C,N)=>{const k={high:0,medium:1,low:2};return k[C.impact]-k[N.impact]})},[s,l,c]);if(a)return i.jsxs(xt,{children:[i.jsx(Tr,{children:i.jsxs(Pr,{className:"flex items-center gap-2",children:[i.jsx(ob,{className:"h-5 w-5 text-yellow-500"}),"Insights Financeiros"]})}),i.jsx(St,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Analisando seus dados..."})})]});if(e)return i.jsxs("div",{className:"space-y-6",children:[i.jsx(q,{variant:"outline",onClick:()=>t(!1),className:"mb-4",children:" Voltar aos Insights"}),i.jsx(KT,{})]});const f=r?u:u.slice(0,3);return i.jsxs(xt,{children:[i.jsx(Tr,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Pr,{className:"flex items-center gap-2",children:[i.jsx(ob,{className:"h-5 w-5 text-yellow-500"}),"Insights Financeiros Inteligentes"]}),i.jsxs(q,{variant:"outline",size:"sm",onClick:()=>t(!0),children:[i.jsx(Is,{className:"h-4 w-4 mr-2"}),"Gerenciar Metas"]})]})}),i.jsxs(St,{className:"space-y-4",children:[o.length===0&&i.jsxs(xl,{className:"border-l-4 border-l-blue-500",children:[i.jsx(Is,{className:"h-4 w-4"}),i.jsx(qf,{children:"Defina suas metas financeiras"}),i.jsxs(wl,{children:["Crie metas para receber insights personalizados sobre seu progresso financeiro.",i.jsx(q,{variant:"link",className:"p-0 h-auto font-normal text-primary",onClick:()=>t(!0),children:"Criar primeira meta "})]})]}),u.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Rf,{className:"h-12 w-12 mx-auto text-green-500 mb-4"}),i.jsx("h3",{className:"font-medium",children:"Tudo sob controle!"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Suas finanas esto equilibradas. Continue assim!"})]}):i.jsxs("div",{className:"space-y-4",children:[f.map((d,h)=>i.jsx(xl,{className:d.impact==="high"?"border-l-4 border-l-red-500":d.impact==="medium"?"border-l-4 border-l-yellow-500":"border-l-4 border-l-green-500",children:i.jsxs("div",{className:"flex items-start gap-3",children:[d.icon,i.jsxs("div",{className:"flex-1",children:[i.jsx(qf,{className:"font-semibold",children:d.title}),i.jsxs(wl,{className:"mt-1",children:[d.description,d.action&&i.jsx("p",{className:"mt-2 font-medium text-primary",children:d.action})]})]})]})},h)),u.length>3&&i.jsx(q,{variant:"outline",className:"w-full",onClick:()=>n(!r),children:r?"Ver menos":`Ver mais ${u.length-3} insights`})]})]})]})}const Em=({channelName:e,onSubscriptionChange:t,filters:r=[],dependencies:n=[]})=>{const s=m.useRef(null),a=m.useRef(`${e}-${Math.random().toString(36).substr(2,9)}`);return m.useEffect(()=>{console.log(` useRealtimeSubscription: Setting up ${e}`);const o=vl.subscribe({channelName:e,filters:r,onSubscriptionChange:t},a.current);return s.current=o,()=>{console.log(` useRealtimeSubscription: Cleaning up ${e}`),s.current&&s.current()}},[e,t,JSON.stringify(r),...n]),{isSubscribed:s.current!==null,cleanup:()=>{s.current&&s.current()}}},xq=()=>{const{user:e}=Se(),t=Ul(),[r,n]=m.useState(!1),[s,a]=m.useState("today"),[o,l]=m.useState(Wi(new Date,7)),[c,u]=m.useState(new Date),f=Ze();return Em({channelName:"dashboard-transactions",filters:[{event:"*",schema:"public",table:"transactions",filter:`user_id=eq.${(e==null?void 0:e.id)||""}`}],onSubscriptionChange:()=>{console.log(" Alterao detectada no banco de dados. Atualizando dashboard..."),f.invalidateQueries({queryKey:["recent-transactions"]}),f.invalidateQueries({queryKey:["expense-chart"]}),f.invalidateQueries({queryKey:["financial-insights"]})},dependencies:[e==null?void 0:e.id]}),i.jsxs("div",{className:"w-full space-y-8 safe-area-top safe-area-bottom",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:i.jsx("h1",{className:"text-2xl md:text-4xl font-bold my-[37px]",children:"Resumo Financeiro"})}),i.jsx(jm,{dateRange:s,startDate:o,endDate:c,onDateRangeChange:a,onStartDateChange:l,onEndDateChange:u}),i.jsx(yq,{}),i.jsx("div",{className:"w-full",children:i.jsx(_B,{startDate:o,endDate:c})}),i.jsx(Z7,{startDate:o,endDate:c}),i.jsx(q,{size:"lg",onClick:()=>n(!0),className:`fixed shadow-lg flex items-center justify-center z-40 rounded-full w-14 h-14 md:w-16 md:h-16 ${t?"bottom-20 right-6 safe-area-bottom":"bottom-6 right-6"}`,children:i.jsx(Df,{className:"w-6 h-6"})}),i.jsx(bz,{open:r,onOpenChange:n,onTransactionAdded:()=>{console.log(" Nova transao adicionada. Invalidando cache..."),f.invalidateQueries({queryKey:["recent-transactions"]}),f.invalidateQueries({queryKey:["expense-chart"]}),f.invalidateQueries({queryKey:["financial-insights"]}),f.invalidateQueries({queryKey:["financial-goals"]})}})]})};function wq(e,t){const{user:r}=Se(),[n,s]=m.useState(""),{data:a,isLoading:o}=jt({queryKey:["transactions",r==null?void 0:r.id,e,t],queryFn:async()=>{if(!r)return[];let g=$.from("transactions").select(`
          *,
          client:clients(name)
        `).eq("user_id",r.id).order("date",{ascending:!1});e&&t&&(g=g.gte("date",e.toISOString()).lte("date",t.toISOString()));const{data:v,error:w}=await g;if(w)throw w;return v},enabled:!!r}),l=(a==null?void 0:a.filter(g=>{var _;const v=((_=g.client)==null?void 0:_.name)||"",w=g.description||"",y=g.amount.toString(),x=Me(new Date(g.date),"dd 'de' MMMM 'de' yyyy",{locale:et}),b=n.toLowerCase();return v.toLowerCase().includes(b)||w.toLowerCase().includes(b)||y.includes(b)||x.toLowerCase().includes(b)}))||[],c=l.reduce((g,v)=>{const w=Me(new Date(v.date),"dd 'de' MMMM 'de' yyyy",{locale:et});return g[w]||(g[w]=[]),g[w].push(v),g},{}),u=Object.entries(c),f=l.length,d=l.filter(g=>g.type==="income").reduce((g,v)=>g+v.amount,0),h=l.filter(g=>g.type==="expense").reduce((g,v)=>g+Math.abs(v.amount),0),p=d-h;return{transactions:l,days:u,isLoading:o,searchTerm:n,setSearchTerm:s,totalTransactions:f,totalIncome:d,totalExpenses:h,balance:p}}function bq(e){const[t,r]=m.useState(new Set);return{selectedTransactions:t,setSelectedTransactions:r,toggleSelection:o=>{const l=new Set(t);l.has(o)?l.delete(o):l.add(o),r(l)},selectAll:()=>{const o=new Set(e.flatMap(([,l])=>l).filter(l=>l.payment_method!=="invoice"||l.payment_status==="confirmed").map(l=>l.id));r(o)},deselectAll:()=>{r(new Set)}}}function _q(){const{user:e}=Se(),[t,r]=m.useState(!1),[n,s]=m.useState(null),[a,o]=m.useState(!1),[l,c]=m.useState(!1),[u,f]=m.useState(null),[d,h]=m.useState(null),[p,g]=m.useState("today"),[v,w]=m.useState(void 0),[y,x]=m.useState(void 0),{days:b,isLoading:_,searchTerm:S,setSearchTerm:j,totalTransactions:C,totalIncome:N,totalExpenses:k,balance:R}=wq(v,y),{selectedTransactions:D,toggleSelection:A,selectAll:U,deselectAll:I}=bq(b);return{dateRange:p,startDate:v,endDate:y,searchTerm:S,isEditModalOpen:t,isDeleteDialogOpen:a,isConfirmPaymentDialogOpen:l,selectedTransaction:n,transactionToDelete:u,transactionToConfirm:d,days:b,isLoading:_,totalTransactions:C,totalIncome:N,totalExpenses:k,balance:R,selectedTransactions:D,setDateRange:g,setStartDate:w,setEndDate:x,setSearchTerm:j,setIsEditModalOpen:r,setIsDeleteDialogOpen:o,setIsConfirmPaymentDialogOpen:c,handleEdit:M=>{s(M),r(!0)},handleDeleteTransaction:M=>{f(M),o(!0)},handleConfirmTransaction:M=>{M.payment_method!=="invoice"&&(h(M),c(!0))},handlePrint:()=>{var H;const M=window.open("","_blank");M&&(M.document.write("<html><head><title>CandleLife Finanas</title>"),M.document.write(`
        <style>
          @media print {
            body {
              width: 58mm;
              font-family: monospace;
              font-size: 10px;
              line-height: 1.2;
              margin: 0;
              padding: 5mm;
            }
            h1 { font-size: 12px; text-align: center; margin-bottom: 5px; }
            h2 { font-size: 10px; margin: 5px 0; }
            p { margin: 2px 0; }
            .divider { border-top: 1px dashed #000; margin: 5px 0; }
            .totals { margin-top: 10px; }
          }
        </style>
      `),M.document.write("</head><body>"),M.document.write("<h1>Extrato de Transaes</h1>"),M.document.write(`<p>Usurio: ${((H=e==null?void 0:e.user_metadata)==null?void 0:H.username)||"N/A"}</p>`),M.document.write(`<p>Email: ${(e==null?void 0:e.email)||"N/A"}</p>`),M.document.write(`<p>Perodo: ${v==null?void 0:v.toLocaleDateString("pt-BR")} a ${y==null?void 0:y.toLocaleDateString("pt-BR")}</p>`),M.document.write("<div class='divider'></div>"),b.forEach(([K,te])=>{M.document.write(""),te.forEach(ne=>{M.document.write(`<p>${ne.description} ${ne.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} (${ne.type==="income"?"R":"D"})</p>`)}),M.document.write("<div class='divider'></div>")}),M.document.write("<div class='totals'>"),M.document.write(`<p>Total Transaes: ${C}</p>`),M.document.write(`<p>Receitas: ${N.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>`),M.document.write(`<p>Despesas: ${k.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>`),M.document.write(`<p>Saldo: ${R.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}</p>`),M.document.write("</div>"),M.document.write("</body></html>"),M.document.close(),M.print())},toggleSelection:A,selectAll:U,deselectAll:I}}function Sq({dateRange:e,startDate:t,endDate:r,searchTerm:n,onDateRangeChange:s,onStartDateChange:a,onEndDateChange:o,onSearchChange:l,onPrintExtract:c}){return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jm,{dateRange:e,startDate:t,endDate:r,onDateRangeChange:s,onStartDateChange:a,onEndDateChange:o}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Le,{type:"text",placeholder:"Pesquisar por cliente, descrio, valor ou data...",value:n,onChange:u=>l(u.target.value),className:"w-full md:w-1/2"}),i.jsx(q,{onClick:c,children:"Imprimir Extrato"})]})]})}function Cq({dateRange:e,startDate:t,endDate:r,searchTerm:n,onDateRangeChange:s,onStartDateChange:a,onEndDateChange:o,onSearchChange:l,onPrintExtract:c}){return i.jsxs("div",{className:"w-full space-y-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Transaes"}),i.jsx(Sq,{dateRange:e,startDate:t,endDate:r,searchTerm:n,onDateRangeChange:s,onStartDateChange:a,onEndDateChange:o,onSearchChange:l,onPrintExtract:c})]})}function jq({transaction:e,isSelected:t,onSelect:r,onEdit:n,onDelete:s,onConfirmPayment:a}){var o;return i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-card border border-border hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Xo,{checked:t,onCheckedChange:()=>r(e.id),className:"border-blue-600 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-full ${e.type==="income"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:e.type==="income"?i.jsx(Uh,{className:"w-4 h-4"}):i.jsx(zh,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-card-foreground",children:e.description}),i.jsxs("p",{className:`text-lg font-semibold ${e.type==="income"?"text-green-500":"text-red-500"}`,children:["R$ ",Math.abs(e.amount).toFixed(2)]})]})]}),i.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ru,{className:"w-4 h-4"}),i.jsx("span",{children:Me(new Date(e.date),"dd 'de' MMMM 'de' yyyy",{locale:et})})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Po,{className:"w-4 h-4"}),i.jsx("span",{children:e.payment_method})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[e.payment_status==="confirmed"?i.jsx(Mf,{className:"w-4 h-4 text-green-500"}):i.jsx(Au,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:e.payment_status==="confirmed"?"text-green-500":"text-yellow-500",children:e.payment_status==="confirmed"?"Confirmado":"Pendente"})]}),((o=e.client)==null?void 0:o.name)&&i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs("span",{children:["Cliente: ",e.client.name]})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[e.payment_status==="pending"&&i.jsx(q,{variant:"ghost",size:"icon",onClick:()=>a(e),className:"text-yellow-500 hover:text-yellow-600",children:i.jsx(Mf,{className:"h-4 w-4"})}),i.jsx(q,{variant:"ghost",size:"icon",onClick:()=>n(e),children:i.jsx(gO,{className:"h-4 w-4"})}),i.jsx(q,{variant:"ghost",size:"icon",onClick:()=>s(e.id),children:i.jsx(Qo,{className:"h-4 w-4 text-destructive"})})]})]})}function Nq({selectedCount:e,hasPendingSelected:t,onSelectAll:r,onDeselectAll:n,onConfirmSelected:s,onDeleteSelected:a}){return i.jsxs("div",{className:"flex items-center gap-2 p-4 bg-muted/50 rounded-lg border",children:[i.jsxs("span",{className:"text-sm font-medium",children:[e," selecionada",e>1?"s":""]}),i.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[i.jsxs(q,{variant:"outline",size:"sm",onClick:r,children:[i.jsx(kO,{className:"h-4 w-4 mr-1"}),"Selecionar todas"]}),i.jsxs(q,{variant:"outline",size:"sm",onClick:n,children:[i.jsx(EO,{className:"h-4 w-4 mr-1"}),"Desmarcar todas"]}),t&&i.jsxs(q,{variant:"default",size:"sm",onClick:s,children:[i.jsx(Mf,{className:"h-4 w-4 mr-1"}),"Confirmar pagamento"]}),i.jsxs(q,{variant:"destructive",size:"sm",onClick:a,children:[i.jsx(Qo,{className:"h-4 w-4 mr-1"}),"Excluir"]})]})]})}function kq({days:e,selectedTransactions:t,isLoading:r,onSelectTransaction:n,onSelectAll:s,onDeselectAll:a,onEdit:o,onDelete:l,onConfirmPayment:c,onConfirmSelected:u,onDeleteSelected:f}){const d=Array.from(t).some(h=>{var p;return((p=e.flatMap(([,g])=>g).find(g=>g.id===h))==null?void 0:p.payment_status)==="pending"});return r?i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):e.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma transao encontrada"}):i.jsxs("div",{className:"space-y-8",children:[t.size>0&&i.jsx(Nq,{selectedCount:t.size,hasPendingSelected:d,onSelectAll:s,onDeselectAll:a,onConfirmSelected:u,onDeleteSelected:f}),e.map(([h,p])=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-foreground border-b pb-2",children:h}),p.length>0?i.jsx("div",{className:"space-y-4",children:p.map(g=>i.jsx(jq,{transaction:g,isSelected:t.has(g.id),onSelect:n,onEdit:o,onDelete:l,onConfirmPayment:c},g.id))}):i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma transao neste dia"})]},h))]})}function Eq({selectedTransactions:e,onSelectAll:t,onDeselectAll:r,onConfirmSelected:n,onDeleteSelected:s}){const a=e.size>0;return i.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 bg-muted/50 rounded-lg px-0 py-0 my-0 mx-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(q,{variant:"outline",size:"sm",onClick:t,className:"py-0 my-0",children:"Selecionar Todos"}),i.jsx(q,{variant:"outline",size:"sm",onClick:r,disabled:!a,children:"Limpar Seleo"}),a&&i.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.size," selecionada(s)"]})]}),a&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(q,{size:"sm",onClick:n,children:"Confirmar Selecionadas"}),i.jsx(q,{variant:"destructive",size:"sm",onClick:s,children:"Excluir Selecionadas"})]})]})}function Tq({days:e,isLoading:t,selectedTransactions:r,searchTerm:n,onToggleSelection:s,onSelectAll:a,onDeselectAll:o,onEdit:l,onDelete:c,onConfirmPayment:u,onConfirmSelected:f,onDeleteSelected:d}){return i.jsxs(xt,{className:"rounded-xl border-border bg-card w-full",children:[i.jsx(Tr,{children:i.jsx(Pr,{className:"text-card-foreground",children:n?"Resultados da Pesquisa":"Histrico de Transaes"})}),i.jsxs(St,{children:[i.jsx(Eq,{selectedTransactions:r,onSelectAll:a,onDeselectAll:o,onConfirmSelected:f,onDeleteSelected:d}),t?i.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando..."}):e.length===0?i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma transao encontrada para o perodo selecionado."}):i.jsx(kq,{days:e,selectedTransactions:r,isLoading:t,onSelectTransaction:s,onSelectAll:a,onDeselectAll:o,onEdit:l,onDelete:c,onConfirmPayment:u,onConfirmSelected:f,onDeleteSelected:d})]})]})}function Pq({totalTransactions:e,totalIncome:t,totalExpenses:r,totalInvestments:n,balance:s,startDate:a,endDate:o}){const{user:l}=Se(),{data:c}=jt({queryKey:["transaction-summary",l==null?void 0:l.id,a,o],queryFn:async()=>{if(!l)return{totalTransactions:0,totalIncome:0,totalExpenses:0,totalInvestments:0,balance:0};let g=$.from("transactions").select("*").eq("user_id",l.id);a&&(g=g.gte("date",Me(a,"yyyy-MM-dd'T00:00:00.000Z'"))),o&&(g=g.lte("date",Me(o,"yyyy-MM-dd'T23:59:59.999Z'")));const{data:v,error:w}=await g;if(w)throw console.error("Erro ao buscar resumo de transaes:",w),w;const y=v||[],x=y.length,b=y.filter(j=>j.type==="income"&&j.payment_status==="confirmed").reduce((j,C)=>j+Number(C.amount),0),_=y.filter(j=>j.type==="expense"&&j.payment_status==="confirmed").reduce((j,C)=>j+Math.abs(Number(C.amount)),0),S=y.filter(j=>j.type==="investment").reduce((j,C)=>j+Number(C.amount),0);return{totalTransactions:x,totalIncome:b,totalExpenses:_,totalInvestments:S,balance:b-_}},enabled:!e&&!t&&!r&&!s&&!!l}),u=e??(c==null?void 0:c.totalTransactions)??0,f=t??(c==null?void 0:c.totalIncome)??0,d=r??(c==null?void 0:c.totalExpenses)??0,h=n??(c==null?void 0:c.totalInvestments)??0,p=s??(c==null?void 0:c.balance)??0;return i.jsx(xt,{className:"mb-6 bg-card",children:i.jsx(St,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Transaes"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:u})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receitas"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Despesas"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Investimentos"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo"}),i.jsx("p",{className:`text-2xl font-bold ${p>=0?"text-green-600":"text-red-600"}`,children:p.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})})})}function Rq({transaction:e,onSubmit:t}){const[r,n]=m.useState({description:e.description,amount:Math.abs(e.amount).toString(),type:e.type,payment_method:e.payment_method,payment_status:e.payment_status,client_id:e.client_id||"",goal_id:e.goal_id||"none"}),{data:s,isLoading:a}=jt({queryKey:["clients"],queryFn:async()=>{const{data:h,error:p}=await $.from("clients").select("id, name").order("name",{ascending:!0});if(p)throw p;return h}}),{data:o,isLoading:l}=jt({queryKey:["financial-goals-edit"],queryFn:async()=>{const{data:h,error:p}=await $.from("financial_goals").select("id, description").eq("active",!0).order("description",{ascending:!0});if(p)throw p;return h}}),c=(h,p)=>{n(g=>({...g,[h]:p}))},u=h=>{h.preventDefault();const p={...r,goal_id:r.goal_id==="none"?"":r.goal_id};t(p)},f=r.payment_method==="invoice",d=r.type==="investment";return i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"description",children:"Descrio"}),i.jsx(Le,{id:"description",value:r.description,onChange:h=>c("description",h.target.value),className:"bg-background",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"amount",children:"Valor"}),i.jsx(Le,{id:"amount",type:"number",value:r.amount,onChange:h=>c("amount",h.target.value),className:"bg-background",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{children:"Tipo"}),i.jsxs(_m,{value:r.type,onValueChange:h=>c("type",h),className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($a,{value:"income",id:"income"}),i.jsx(ke,{htmlFor:"income",children:"Receita"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($a,{value:"expense",id:"expense"}),i.jsx(ke,{htmlFor:"expense",children:"Despesa"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx($a,{value:"investment",id:"investment"}),i.jsx(ke,{htmlFor:"investment",children:"Investimento"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"payment_method",children:"Mtodo de Pagamento"}),i.jsxs(Rs,{value:r.payment_method,onValueChange:h=>{c("payment_method",h),h!=="invoice"&&c("client_id","")},children:[i.jsx(rs,{children:i.jsx(Ms,{placeholder:"Selecione o mtodo de pagamento"})}),i.jsxs(ns,{children:[i.jsx(dt,{value:"pix",children:"PIX"}),i.jsx(dt,{value:"cash",children:"Dinheiro"}),i.jsx(dt,{value:"invoice",children:"Faturado"})]})]})]}),f&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"client_id",children:"Cliente"}),i.jsxs(Rs,{value:r.client_id,onValueChange:h=>c("client_id",h),disabled:a,children:[i.jsx(rs,{children:i.jsx(Ms,{placeholder:a?"Carregando clientes...":"Selecione um cliente"})}),i.jsx(ns,{children:s==null?void 0:s.map(h=>i.jsx(dt,{value:h.id,children:h.name},h.id))})]})]}),d&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"goal_id",children:"Meta Financeira"}),i.jsxs(Rs,{value:r.goal_id,onValueChange:h=>c("goal_id",h),disabled:l,children:[i.jsx(rs,{children:i.jsx(Ms,{placeholder:l?"Carregando metas...":"Selecione uma meta (opcional)"})}),i.jsxs(ns,{children:[i.jsx(dt,{value:"none",children:"Nenhuma meta"}),o==null?void 0:o.map(h=>i.jsx(dt,{value:h.id,children:h.description},h.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"payment_status",children:"Status do Pagamento"}),i.jsxs(Rs,{value:r.payment_status,onValueChange:h=>c("payment_status",h),children:[i.jsx(rs,{children:i.jsx(Ms,{placeholder:"Selecione o status"})}),i.jsxs(ns,{children:[i.jsx(dt,{value:"pending",children:"Pendente"}),i.jsx(dt,{value:"confirmed",children:"Confirmado"}),i.jsx(dt,{value:"failed",children:"Falhou"})]})]})]}),i.jsx(q,{type:"submit",className:"w-full",disabled:f&&!r.client_id,children:"Salvar"})]})}function Mq({isOpen:e,onOpenChange:t,transaction:r,userId:n}){const{toast:s}=Gt(),a=Ze(),o=async l=>{if(!(!n||!r))try{const{error:c}=await $.from("transactions").update({description:l.description,amount:l.type==="expense"?-Math.abs(Number(l.amount)):Math.abs(Number(l.amount)),type:l.type,payment_method:l.payment_method,payment_status:l.payment_status,client_id:l.client_id||null,goal_id:l.type==="investment"&&l.goal_id||null}).eq("id",r.id).eq("user_id",n);if(c)throw c;s({title:"Sucesso",description:"Transao atualizada com sucesso"}),a.invalidateQueries({queryKey:["transactions"]}),a.invalidateQueries({queryKey:["financial-insights"]}),a.invalidateQueries({queryKey:["financial-goals"]}),t(!1)}catch{s({title:"Erro",description:"Falha ao atualizar a transao",variant:"destructive"})}};return i.jsx(Hs,{open:e,onOpenChange:t,children:i.jsxs(cs,{className:"bg-card",children:[i.jsx(us,{children:i.jsx(ds,{className:"text-card-foreground",children:"Editar Transao"})}),r&&i.jsx(Rq,{transaction:r,onSubmit:o})]})})}function Dq({open:e,onOpenChange:t,transactionId:r,userId:n,selectedTransactions:s,isBulkDelete:a}){const{toast:o}=Gt(),l=Ze(),c=async()=>{if(n)try{if(a){const{error:u}=await $.from("transactions").delete().in("id",Array.from(s)).eq("user_id",n);if(u)throw u}else{if(!r)return;const{error:u}=await $.from("transactions").delete().eq("id",r).eq("user_id",n);if(u)throw u}o({title:"Transao excluda",description:a?`${s.size} transaes foram removidas.`:"A transao foi removida com sucesso."}),l.invalidateQueries({queryKey:["transactions"]}),t(!1)}catch{o({title:"Erro",description:"No foi possvel excluir a transao.",variant:"destructive"})}};return i.jsx(Zl,{open:e,onOpenChange:t,children:i.jsxs(Jo,{className:"bg-card",children:[i.jsxs(ei,{children:[i.jsx(ri,{className:"text-card-foreground",children:"Tem certeza?"}),i.jsxs(ni,{children:["Esta ao no pode ser desfeita. Isso excluir permanentemente",a?` ${s.size} transao(es).`:" a transao."]})]}),i.jsxs(ti,{children:[i.jsx(ai,{children:"Cancelar"}),i.jsx(si,{onClick:c,className:"bg-destructive text-destructive-foreground",children:"Excluir"})]})]})})}function Aq({open:e,onOpenChange:t,transaction:r,userId:n,selectedTransactions:s,isBulkConfirm:a}){const{toast:o}=Gt(),l=Ze(),c=async()=>{if(n)try{if(a){const{error:u}=await $.from("transactions").update({payment_status:"confirmed"}).in("id",Array.from(s)).eq("user_id",n);if(u)throw u}else{if(!r)return;const{error:u}=await $.from("transactions").update({payment_status:"confirmed"}).eq("id",r.id).eq("user_id",n);if(u)throw u}o({title:"Pagamento confirmado",description:a?`${s.size} transaes foram confirmadas.`:"O status do pagamento foi atualizado com sucesso."}),l.invalidateQueries({queryKey:["transactions"]}),t(!1)}catch{o({title:"Erro",description:"No foi possvel confirmar o pagamento.",variant:"destructive"})}};return i.jsx(Zl,{open:e,onOpenChange:t,children:i.jsxs(Jo,{className:"bg-card",children:[i.jsxs(ei,{children:[i.jsxs(ri,{className:"text-card-foreground",children:["Confirmar Pagamento",a?"s":""]}),i.jsxs(ni,{children:["Deseja confirmar o recebimento de",a?` ${s.size} pagamento(s)?`:" pagamento desta transao?"]})]}),i.jsxs(ti,{children:[i.jsx(ai,{children:"Cancelar"}),i.jsxs(si,{onClick:c,className:"bg-green-600 text-white hover:bg-green-700",children:["Confirmar Pagamento",a?"s":""]})]})]})})}function Oq({isEditModalOpen:e,setIsEditModalOpen:t,selectedTransaction:r,isDeleteDialogOpen:n,setIsDeleteDialogOpen:s,transactionToDelete:a,isConfirmPaymentDialogOpen:o,setIsConfirmPaymentDialogOpen:l,transactionToConfirm:c,userId:u,selectedTransactions:f}){return i.jsxs(i.Fragment,{children:[i.jsx(Mq,{isOpen:e,onOpenChange:t,transaction:r,userId:u}),i.jsx(Dq,{open:n,onOpenChange:s,transactionId:a,userId:u,selectedTransactions:f,isBulkDelete:!a}),i.jsx(Aq,{open:o,onOpenChange:l,transaction:c,userId:u,selectedTransactions:f,isBulkConfirm:!c})]})}const Iq=()=>{const{user:e}=Se(),{dateRange:t,startDate:r,endDate:n,searchTerm:s,isEditModalOpen:a,isDeleteDialogOpen:o,isConfirmPaymentDialogOpen:l,selectedTransaction:c,transactionToDelete:u,transactionToConfirm:f,days:d,isLoading:h,totalTransactions:p,totalIncome:g,totalExpenses:v,balance:w,selectedTransactions:y,setDateRange:x,setStartDate:b,setEndDate:_,setSearchTerm:S,setIsEditModalOpen:j,setIsDeleteDialogOpen:C,setIsConfirmPaymentDialogOpen:N,handleEdit:k,handleDeleteTransaction:R,handleConfirmTransaction:D,handlePrint:A,toggleSelection:U,selectAll:I,deselectAll:W}=_q();return i.jsxs("div",{className:"w-full space-y-8",children:[i.jsx(Cq,{dateRange:t,startDate:r,endDate:n,searchTerm:s,onDateRangeChange:x,onStartDateChange:b,onEndDateChange:_,onSearchChange:S,onPrintExtract:A}),i.jsx(Tq,{days:d,isLoading:h,selectedTransactions:y,searchTerm:s,onToggleSelection:U,onSelectAll:I,onDeselectAll:W,onEdit:k,onDelete:R,onConfirmPayment:D,onConfirmSelected:()=>N(!0),onDeleteSelected:()=>C(!0)}),i.jsx(Pq,{totalTransactions:p,totalIncome:g,totalExpenses:v,balance:w}),i.jsx(Oq,{isEditModalOpen:a,setIsEditModalOpen:j,selectedTransaction:c,isDeleteDialogOpen:o,setIsDeleteDialogOpen:C,transactionToDelete:u,isConfirmPaymentDialogOpen:l,setIsConfirmPaymentDialogOpen:N,transactionToConfirm:f,userId:e==null?void 0:e.id,selectedTransactions:y})]})};function GT({transaction:e,isSelected:t,onToggleSelection:r}){var n;return i.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-card border border-border hover:bg-accent/50 transition-colors",children:[i.jsx(Xo,{id:`transaction-${e.id}`,checked:t,onCheckedChange:()=>r(e.id),disabled:e.payment_status==="confirmed"}),i.jsx("div",{className:"flex-1 flex items-center justify-between",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-full ${e.type==="income"?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:e.type==="income"?i.jsx(Uh,{className:"w-4 h-4"}):i.jsx(zh,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-card-foreground",children:e.description}),i.jsxs("p",{className:`text-lg font-semibold ${e.type==="income"?"text-green-500":"text-red-500"}`,children:["R$ ",Math.abs(e.amount).toFixed(2)]})]})]}),i.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ru,{className:"w-4 h-4"}),i.jsx("span",{children:Me(new Date(e.date),"dd 'de' MMMM 'de' yyyy",{locale:et})})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Po,{className:"w-4 h-4"}),i.jsx("span",{children:e.payment_method})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[e.payment_status==="confirmed"?i.jsx(Mf,{className:"w-4 h-4 text-green-500"}):i.jsx(Au,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:e.payment_status==="confirmed"?"text-green-500":"text-yellow-500",children:e.payment_status==="confirmed"?"Confirmado":"Pendente"})]}),((n=e.client)==null?void 0:n.name)&&i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs("span",{children:["Cliente: ",e.client.name]})})]})]})})]})}function QT({isOpen:e,onOpenChange:t,selectedCount:r,onConfirm:n}){return i.jsx(Zl,{open:e,onOpenChange:t,children:i.jsxs(Jo,{className:"bg-card",children:[i.jsxs(ei,{children:[i.jsx(ri,{className:"text-card-foreground",children:"Confirmar Pagamentos"}),i.jsxs(ni,{children:["Deseja confirmar o recebimento dos ",r," pagamentos selecionados?"]})]}),i.jsxs(ti,{children:[i.jsx(ai,{children:"Cancelar"}),i.jsx(si,{onClick:n,className:"bg-green-600 text-white hover:bg-green-700",children:"Confirmar Pagamentos"})]})]})})}function Lq(e,t,r,n="all",s,a,o,l,c){const{toast:u}=Gt(),f=Ze(),{data:d,isLoading:h}=jt({queryKey:["expenses",e,t,r,n,c],queryFn:async()=>{if(!e)return[];let g=$.from("transactions").select("*").eq("user_id",e).eq("type","expense").order("date",{ascending:!1});t&&(g=g.gte("date",Me(t,"yyyy-MM-dd'T00:00:00.000Z'"))),r&&(g=g.lte("date",Me(r,"yyyy-MM-dd'T23:59:59.999Z'"))),n!=="all"&&(g=g.eq("payment_status",n)),c&&(g=g.ilike("description",`%${c}%`));const{data:v,error:w}=await g;if(w)throw w;return v||[]},enabled:!!e});return{transactions:d,isLoading:h,confirmPayments:async g=>{if(!e||g.length===0)return!1;try{const{error:v}=await $.from("transactions").update({payment_status:"confirmed"}).in("id",g).eq("user_id",e);if(v)throw v;return u({title:"Pagamentos confirmados",description:"Os pagamentos selecionados foram confirmados com sucesso."}),f.invalidateQueries({queryKey:["expenses"]}),f.invalidateQueries({queryKey:["transactions"]}),!0}catch{return u({title:"Erro",description:"No foi possvel confirmar os pagamentos.",variant:"destructive"}),!1}}}}const $q=()=>{const{user:e}=Se(),[t,r]=m.useState("today"),[n,s]=m.useState(()=>er(new Date)),[a,o]=m.useState(()=>Jn(new Date)),[l,c]=m.useState("all"),[u,f]=m.useState(""),[d,h]=m.useState([]),[p,g]=m.useState(!1),v=Ze(),{transactions:w,isLoading:y,confirmPayments:x}=Lq(e==null?void 0:e.id,n,a,l,"all","all",0,10,u);Em({channelName:"expenses-transactions",filters:[{event:"*",schema:"public",table:"transactions",filter:`user_id=eq.${(e==null?void 0:e.id)||""}`}],onSubscriptionChange:()=>{console.log(" Alterao detectada em despesas. Atualizando..."),v.invalidateQueries({queryKey:["expenses"]})},dependencies:[e==null?void 0:e.id]});const b=k=>{h(R=>R.includes(k)?R.filter(D=>D!==k):[...R,k])},_=async()=>{await x(d)&&(h([]),g(!1))},S=()=>{r("today"),s(er(new Date)),o(Jn(new Date)),c("all"),f("")},C=((w==null?void 0:w.reduce((k,R)=>k+R.amount,0))||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),N=n&&a?`${Me(n,"dd/MM/yyyy")} - ${Me(a,"dd/MM/yyyy")}`:"Selecione um perodo";return i.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-foreground",children:"Despesas"}),d.length>0&&i.jsxs(q,{onClick:()=>g(!0),className:"bg-green-600 hover:bg-green-700",children:["Confirmar Selecionados (",d.length,")"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center",children:[i.jsx(jm,{dateRange:t,startDate:n,endDate:a,onDateRangeChange:r,onStartDateChange:k=>k&&s(k),onEndDateChange:k=>k&&o(k)}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground  px-3 py-1 rounded-md",children:N}),(t!=="today"||l!=="all"||u!=="")&&i.jsx(q,{variant:"outline",onClick:S,children:"Limpar Filtros"})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(Le,{placeholder:"Pesquisar por descrio...",value:u,onChange:k=>f(k.target.value),className:"w-full md:w-[300px]"})})]}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.jsxs(xt,{className:"rounded-xl border-border bg-card",children:[i.jsx(Tr,{children:i.jsx(Pr,{className:"text-card-foreground",children:"Histrico de Despesas"})}),i.jsx(St,{children:i.jsxs("div",{className:"space-y-4",children:[y?i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):w==null?void 0:w.map(k=>i.jsx(GT,{transaction:k,isSelected:d.includes(k.id),onToggleSelection:b},k.id)),(!w||w.length===0)&&i.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["Nenhuma despesa encontrada",(t!=="today"||u)&&" para os filtros selecionados"]}),w&&w.length>0&&i.jsxs("div",{className:"mt-4 text-right text-lg font-semibold text-foreground",children:["Total: ",C]})]})})]})}),i.jsx(QT,{isOpen:p,onOpenChange:g,selectedCount:d.length,onConfirm:_})]})},Fq=()=>i.jsx($q,{}),zq=()=>{const e=qr(),{user:t}=Se(),{toast:r}=pt();return m.useEffect(()=>{t||(r({title:"Acesso restrito",description:"Voc precisa estar autenticado para acessar as metas financeiras.",variant:"destructive"}),e("/login",{replace:!0}))},[t,r,e]),t?i.jsxs("div",{className:"w-full space-y-8",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Metas Financeiras"})}),i.jsx(KT,{})]}):null};var C0="Tabs",[Uq,qG]=Dr(C0,[Ql]),YT=Ql(),[Bq,j0]=Uq(C0),ZT=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Kl(l),[d,h]=Rn({prop:n,onChange:s,defaultProp:a});return i.jsx(Bq,{scope:r,baseId:nn(),value:d,onValueChange:h,orientation:o,dir:f,activationMode:c,children:i.jsx(ue.div,{dir:f,"data-orientation":o,...u,ref:t})})});ZT.displayName=C0;var XT="TabsList",JT=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=j0(XT,r),o=YT(r);return i.jsx(Hx,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(ue.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});JT.displayName=XT;var eP="TabsTrigger",tP=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=j0(eP,r),l=YT(r),c=sP(o.baseId,n),u=aP(o.baseId,n),f=n===o.value;return i.jsx(Kx,{asChild:!0,...l,focusable:!s,active:f,children:i.jsx(ue.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:G(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:G(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:G(e.onFocus,()=>{const d=o.activationMode!=="manual";!f&&!s&&d&&o.onValueChange(n)})})})});tP.displayName=eP;var rP="TabsContent",nP=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=j0(rP,r),c=sP(l.baseId,n),u=aP(l.baseId,n),f=n===l.value,d=m.useRef(f);return m.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(It,{present:s||f,children:({present:h})=>i.jsx(ue.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&a})})});nP.displayName=rP;function sP(e,t){return`${e}-trigger-${t}`}function aP(e,t){return`${e}-content-${t}`}var Vq=ZT,oP=JT,iP=tP,lP=nP;const N0=Vq,Tm=m.forwardRef(({className:e,...t},r)=>i.jsx(oP,{ref:r,className:B("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Tm.displayName=oP.displayName;const Nn=m.forwardRef(({className:e,...t},r)=>i.jsx(iP,{ref:r,className:B("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Nn.displayName=iP.displayName;const kn=m.forwardRef(({className:e,...t},r)=>i.jsx(lP,{ref:r,className:B("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));kn.displayName=lP.displayName;const cP=[{name:"Bsico",themes:[{id:"light",name:"Claro",icon:TO},{id:"dark",name:"Escuro",icon:ib}]},{name:"Especial",themes:[{id:"cyberpunk",name:"Cyberpunk",icon:LO},{id:"dracula",name:"Dracula",icon:oO},{id:"nord",name:"Nord",icon:hO},{id:"super-hacker",name:"Super Hacker",icon:MO}]},{name:"Cores",themes:[{id:"purple",name:"Roxo",icon:dj},{id:"green",name:"Verde",icon:ab},{id:"ocean",name:"Oceano",icon:IO},{id:"sunset",name:"Pr do Sol",icon:PO},{id:"forest",name:"Floresta",icon:ab}]},{name:"Estilos",themes:[{id:"coffee",name:"Caf",icon:eO},{id:"pastel",name:"Pastel",icon:mO},{id:"neon",name:"Neon",icon:NO},{id:"vintage",name:"Vintage",icon:Au},{id:"midnight",name:"Meia-noite",icon:ib},{id:"royal",name:"Real",icon:rO}]}],Wq=cP.flatMap(e=>e.themes),qq=()=>{const{theme:e,setTheme:t,isUpdating:r}=xF(),{toast:n}=Gt(),[s,a]=m.useState(e),o=async l=>{var u;const c=((u=Wq.find(f=>f.id===l))==null?void 0:u.name.toLowerCase())||l;try{a(l),await t(l),n({title:"Tema alterado",description:`O tema foi alterado para ${c}.`})}catch(f){console.error("Erro ao atualizar tema:",f),n({title:"Erro",description:"No foi possvel atualizar o tema.",variant:"destructive"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Personalizao"}),i.jsx("p",{className:"text-muted-foreground",children:"Escolha o tema que melhor combina com voc."})]}),r&&i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx(pm,{className:"w-6 h-6 mr-2"}),i.jsx("span",{children:"Atualizando tema..."})]}),i.jsx("div",{className:"space-y-6",children:cP.map(l=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-medium",children:l.name}),i.jsx(_m,{value:s,onValueChange:o,className:"grid grid-cols-2 md:grid-cols-3 gap-4",disabled:r,children:l.themes.map(({id:c,name:u,icon:f})=>i.jsxs(ke,{htmlFor:c,className:`flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-accent transition-colors ${s===c?"border-primary bg-accent/50":"border-input"} ${r?"opacity-50":""}`,children:[i.jsx($a,{value:c,id:c,disabled:r}),i.jsx(f,{className:"w-5 h-5"}),i.jsx("span",{children:u})]},c))})]},l.name))})]})},Hq=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(""),[s,a]=m.useState(null),{toast:o}=Gt(),{user:l}=Se();m.useEffect(()=>{l&&c()},[l]);const c=async()=>{var f,d;try{if(t(!0),!l)return;console.log("ProfileSettings loading profile for user ID:",l.id);const{data:h,error:p}=await $.from("profiles").select("username, avatar_url").eq("id",l.id).maybeSingle();if(p)throw console.error("Error loading profile:",p),p;if(console.log("ProfileSettings profile data loaded:",h),h)n(h.username||""),a(h.avatar_url);else{console.log("No profile found, creating one");const{error:g}=await $.from("profiles").insert({id:l.id,username:((f=l.email)==null?void 0:f.split("@")[0])||"Usurio",avatar_url:null});if(g)throw console.error("Error creating profile:",g),g;n(((d=l.email)==null?void 0:d.split("@")[0])||"Usurio")}}catch(h){console.error("Erro ao carregar perfil:",h),o({title:"Erro",description:"No foi possvel carregar as informaes do perfil.",variant:"destructive"})}finally{t(!1)}},u=async f=>{f.preventDefault(),t(!0);try{if(!l){o({title:"Erro",description:"Usurio no encontrado. Faa login novamente.",variant:"destructive"});return}const{error:d}=await $.from("profiles").upsert({id:l.id,username:r,updated_at:new Date().toISOString()});if(d)throw d;o({title:"Perfil atualizado",description:"Suas informaes foram atualizadas com sucesso."})}catch(d){console.error("Erro ao atualizar perfil:",d),o({title:"Erro",description:"No foi possvel atualizar o perfil.",variant:"destructive"})}finally{t(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Informaes do Perfil"}),i.jsx("p",{className:"text-muted-foreground",children:"Atualize suas informaes de perfil."})]}),i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsxs(hr,{className:"w-16 h-16 border border-border",children:[i.jsx(mr,{src:s||void 0,alt:r}),i.jsx(pr,{children:e?i.jsx(kt,{className:"h-6 w-6 animate-spin"}):i.jsx(hj,{className:"h-6 w-6"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:r||"Usurio"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:'Altere seu avatar na aba "Avatar"'})]})]}),i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"username",children:"Nome de usurio"}),i.jsx(Le,{id:"username",value:r,onChange:f=>n(f.target.value),required:!0,placeholder:"Seu nome de usurio",disabled:e})]}),i.jsx(q,{type:"submit",disabled:e,children:e?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kt,{className:"h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar alteraes"})]})]})},Kq=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(""),[s,a]=m.useState(!1),{toast:o}=Gt(),{user:l}=Se();m.useEffect(()=>{l&&c()},[l]);const c=async()=>{var f,d;try{if(a(!0),!l)return;console.log("AvatarSettings loading avatar for user ID:",l.id);const{data:h,error:p}=await $.from("profiles").select("avatar_url, username").eq("id",l.id).maybeSingle();if(p)throw console.error("Error loading avatar:",p),p;if(console.log("AvatarSettings profile data loaded:",h),h)t(h.avatar_url||null),n(h.username||"");else{console.log("No profile found, creating one");const{error:g}=await $.from("profiles").insert({id:l.id,username:((f=l.email)==null?void 0:f.split("@")[0])||"Usurio",avatar_url:null});if(g)throw console.error("Error creating profile:",g),g;n(((d=l.email)==null?void 0:d.split("@")[0])||"Usurio"),t(null)}}catch(h){console.error("Erro ao carregar avatar:",h),o({title:"Erro",description:"No foi possvel carregar seu avatar.",variant:"destructive"})}finally{a(!1)}},u=async f=>{var d;try{if(a(!0),!l){o({title:"Erro",description:"Usurio no encontrado. Faa login novamente.",variant:"destructive"});return}if(!f.target.files||f.target.files.length===0)throw new Error("Voc precisa selecionar uma imagem para fazer upload.");const h=f.target.files[0],p=h.name.split(".").pop(),v=`${l.id}-${Math.random()}.${p}`;console.log("Uploading avatar:",v);const{data:w}=await $.storage.listBuckets();w!=null&&w.find(_=>_.name==="avatars")||await $.storage.createBucket("avatars",{public:!0});const{error:y}=await $.storage.from("avatars").upload(v,h);if(y)throw y;const{data:{publicUrl:x}}=$.storage.from("avatars").getPublicUrl(v);console.log("Avatar uploaded, public URL:",x);const{error:b}=await $.from("profiles").upsert({id:l.id,avatar_url:x,updated_at:new Date().toISOString(),username:r||((d=l.email)==null?void 0:d.split("@")[0])||"Usurio"});if(b)throw b;console.log("Profile updated with new avatar"),t(x),o({title:"Avatar atualizado",description:"Seu avatar foi atualizado com sucesso."})}catch(h){console.error("Erro ao fazer upload do avatar:",h),o({title:"Erro",description:h instanceof Error?h.message:"No foi possvel atualizar o avatar.",variant:"destructive"})}finally{a(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Avatar"}),i.jsx("p",{className:"text-muted-foreground",children:"Atualize sua foto de perfil."})]}),i.jsxs("div",{className:"flex flex-col items-center gap-6 sm:flex-row",children:[i.jsxs(hr,{className:"w-32 h-32 border border-border",children:[i.jsx(mr,{src:e||void 0,alt:r}),i.jsx(pr,{children:s?i.jsx(kt,{className:"w-10 h-10 animate-spin"}):i.jsx(hj,{className:"w-10 h-10"})})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("p",{className:"text-center sm:text-left",children:r||"Usurio"}),i.jsx(q,{variant:"outline",disabled:s,onClick:()=>{var f;return(f=document.getElementById("avatar-upload"))==null?void 0:f.click()},className:"w-full",children:s?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kt,{className:"h-4 w-4 animate-spin"})," Enviando..."]}):"Alterar avatar"}),i.jsx("label",{htmlFor:"avatar-upload",className:"sr-only",children:"Upload Avatar"}),i.jsx("input",{type:"file",id:"avatar-upload",accept:"image/*",className:"hidden",onChange:u,disabled:s})]})]})]})},Gq=()=>{const{toast:e}=pt(),t=Ze(),{user:r}=Se(),n=async()=>{if(!r)return;const d=s();try{const{data:h,error:p}=await $.from("user_sessions").select("*").eq("user_id",r.id).eq("device_info",d);if(p){console.error("Erro ao consultar sesses:",p);return}if(!h||h.length===0){const{error:g}=await $.from("user_sessions").insert({user_id:r.id,device_info:d});g&&console.error("Erro ao criar sesso:",g)}else{const{error:g}=await $.from("user_sessions").update({last_active:new Date().toISOString()}).eq("id",h[0].id);g&&console.error("Erro ao atualizar sesso:",g)}}catch(h){console.error("Erro no tratado ao registrar sesso:",h)}},s=()=>{const d=a(),h=o();return`${d} em ${h}`},a=()=>{const d=navigator.userAgent;return d.indexOf("Firefox")>-1?"Firefox":d.indexOf("Opera")>-1||d.indexOf("OPR")>-1?"Opera":d.indexOf("Trident")>-1?"Internet Explorer":d.indexOf("Edge")>-1?"Edge":d.indexOf("Chrome")>-1?"Chrome":d.indexOf("Safari")>-1?"Safari":"Navegador Desconhecido"},o=()=>{const d=navigator.userAgent;return d.indexOf("Win")>-1?"Windows":d.indexOf("Mac")>-1?"MacOS":d.indexOf("Linux")>-1?"Linux":d.indexOf("Android")>-1?"Android":d.indexOf("iOS")>-1||d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1?"iOS":"Sistema Operacional Desconhecido"},{data:l=[],isLoading:c}=jt({queryKey:["userSessions"],queryFn:async()=>{if(!r)return[];try{await n();const d=s(),{data:h,error:p}=await $.from("user_sessions").select("*").eq("user_id",r.id).order("last_active",{ascending:!1});if(p)throw console.error("Erro ao buscar sesses:",p),p;return(h||[]).map(g=>({...g,is_current:g.device_info===d}))}catch(d){return console.error("Erro no tratado ao buscar sesses:",d),[]}},enabled:!!r}),u=rt({mutationFn:async d=>{if(!r)throw new Error("Usurio no autenticado");if(l.find(g=>g.is_current&&g.id===d))throw new Error("Voc no pode encerrar sua sesso atual. Use a opo 'Sair' para isso.");const{error:p}=await $.from("user_sessions").delete().eq("id",d).eq("user_id",r.id);if(p)throw console.error("Erro ao encerrar sesso:",p),p;return d},onSuccess:d=>{t.invalidateQueries({queryKey:["userSessions"]}),e({title:"Sucesso",description:"Sesso encerrada com sucesso!"})},onError:d=>{e({title:"Erro",description:`No foi possvel encerrar a sesso: ${d.message}`,variant:"destructive"})}}),f=rt({mutationFn:async()=>{if(!r)throw new Error("Usurio no autenticado");const d=s(),{error:h}=await $.from("user_sessions").delete().eq("user_id",r.id).neq("device_info",d);if(h)throw console.error("Erro ao encerrar outras sesses:",h),h;return!0},onSuccess:()=>{t.invalidateQueries({queryKey:["userSessions"]}),e({title:"Sucesso",description:"Todas as outras sesses foram encerradas com sucesso!"})},onError:d=>{e({title:"Erro",description:`No foi possvel encerrar as sesses: ${d.message}`,variant:"destructive"})}});return{sessions:l,isLoading:c,terminateSession:u,terminateAllOtherSessions:f}};function Qq(){const{sessions:e,isLoading:t,terminateSession:r,terminateAllOtherSessions:n}=Gq(),s=o=>o.toLowerCase().includes("android")||o.toLowerCase().includes("iphone")||o.toLowerCase().includes("ios")?i.jsx(CO,{className:"h-5 w-5 text-primary"}):i.jsx(tO,{className:"h-5 w-5 text-primary"}),a=o=>new Date(o).toLocaleString();return t?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(kt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold",children:["Sesses Ativas (",e.length,")"]}),e.length>1&&i.jsxs(q,{variant:"outline",onClick:()=>n.mutate(),disabled:n.isPending,children:[n.isPending?i.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(wO,{className:"h-4 w-4 mr-2"}),"Encerrar outras sesses"]})]}),i.jsxs("div",{className:"space-y-4",children:[e.map(o=>i.jsx(Yq,{session:o,onTerminate:r.mutate,isTerminating:r.isPending,getDeviceIconComponent:s,formatSessionDate:a},o.id)),e.length===0&&i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Nenhuma sesso ativa encontrada."})]})]})}function Yq({session:e,onTerminate:t,isTerminating:r,getDeviceIconComponent:n,formatSessionDate:s}){return i.jsx(xt,{className:`border ${e.is_current?"border-primary/50":"border-border"}`,children:i.jsx(St,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex gap-3",children:[n(e.device_info),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium",children:[e.device_info,e.is_current&&i.jsx("span",{className:"ml-2 text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:"Atual"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[i.jsxs("p",{children:["ltima atividade: ",s(e.last_active)]}),i.jsxs("p",{children:["Iniciada em: ",s(e.created_at)]})]})]})]}),i.jsxs(q,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>t(e.id),disabled:r||e.is_current,children:[i.jsx(uj,{className:"h-4 w-4 mr-1"}),"Encerrar"]})]})})})}const Zq=()=>{const{toast:e}=pt(),t=Ze(),{user:r}=Se(),{data:n,isLoading:s}=jt({queryKey:["twoFactorStatus"],queryFn:async()=>{if(!r)throw new Error("Usurio no autenticado");const{data:c,error:u}=await $.from("two_factor_auth").select("*").eq("user_id",r.id).maybeSingle();if(u)throw console.error("Erro ao verificar status 2FA:",u),u;if(!c){const{data:f,error:d}=await $.from("two_factor_auth").insert({user_id:r.id,enabled:!1}).select().single();if(d)throw console.error("Erro ao criar configurao 2FA:",d),d;return f}return c},enabled:!!r}),a=rt({mutationFn:async()=>{if(!r)throw new Error("Usurio no autenticado");const c=Array.from({length:16},()=>Math.floor(Math.random()*16).toString(16)).join(""),{data:u,error:f}=await $.from("two_factor_auth").update({secret:c,enabled:!1}).eq("user_id",r.id).select().single();if(f)throw console.error("Erro ao configurar 2FA:",f),f;return u},onSuccess:c=>{t.invalidateQueries({queryKey:["twoFactorStatus"]}),e({title:"Sucesso",description:"Cdigo de verificao em duas etapas gerado com sucesso!"})},onError:c=>{e({title:"Erro",description:`No foi possvel configurar a verificao em duas etapas: ${c.message}`,variant:"destructive"})}}),o=rt({mutationFn:async c=>{if(!r)throw new Error("Usurio no autenticado");if(!n)throw new Error("Configurao 2FA no encontrada");if(!(c.length===6&&/^\d+$/.test(c)))throw new Error("Cdigo invlido");const{data:f,error:d}=await $.from("two_factor_auth").update({enabled:!0}).eq("user_id",r.id).select().single();if(d)throw console.error("Erro ao verificar cdigo 2FA:",d),d;return f},onSuccess:()=>{t.invalidateQueries({queryKey:["twoFactorStatus"]}),e({title:"Sucesso",description:"Verificao em duas etapas ativada com sucesso!"})},onError:c=>{e({title:"Erro",description:`No foi possvel verificar o cdigo: ${c.message}`,variant:"destructive"})}}),l=rt({mutationFn:async()=>{if(!r)throw new Error("Usurio no autenticado");const{data:c,error:u}=await $.from("two_factor_auth").update({enabled:!1,secret:null}).eq("user_id",r.id).select().single();if(u)throw console.error("Erro ao desativar 2FA:",u),u;return c},onSuccess:()=>{t.invalidateQueries({queryKey:["twoFactorStatus"]}),e({title:"Sucesso",description:"Verificao em duas etapas desativada com sucesso!"})},onError:c=>{e({title:"Erro",description:`No foi possvel desativar a verificao em duas etapas: ${c.message}`,variant:"destructive"})}});return{twoFactorStatus:n,isLoading:s,setupTwoFactor:a,verifyTwoFactorCode:o,disableTwoFactor:l}};function Xq(){const{twoFactorStatus:e,isLoading:t,setupTwoFactor:r,verifyTwoFactorCode:n,disableTwoFactor:s}=Zq(),[a,o]=m.useState(""),[l,c]=m.useState(!1);m.useEffect(()=>{e&&o("")},[e==null?void 0:e.enabled]);const u=async()=>{c(!0),await r.mutateAsync()},f=async()=>{a.length===6&&(await n.mutateAsync(a),c(!1))},d=async()=>{await s.mutateAsync(),c(!1)};if(t)return i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(kt,{className:"h-6 w-6 animate-spin text-muted-foreground"})});const h=(e==null?void 0:e.enabled)||!1;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Verificao em duas etapas"}),h?i.jsxs("span",{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs px-2 py-1 rounded-full flex items-center",children:[i.jsx(_O,{className:"h-3 w-3 mr-1"}),"Ativada"]}):i.jsxs("span",{className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 text-xs px-2 py-1 rounded-full flex items-center",children:[i.jsx(bO,{className:"h-3 w-3 mr-1"}),"Desativada"]})]}),i.jsx(xt,{children:i.jsx(St,{className:"p-6",children:i.jsx("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:h?"Sua conta est protegida":"Adicione uma camada extra de segurana"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:h?"A verificao em duas etapas est ativada para sua conta. Isso ajuda a proteger sua conta contra acessos no autorizados.":"Com a verificao em duas etapas, voc precisar informar um cdigo adicional ao fazer login, mesmo que algum descubra sua senha."}),l&&!h&&i.jsxs("div",{className:"mb-6 border rounded-md p-4 bg-muted",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(yO,{className:"h-6 w-6 text-primary"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Cdigo de verificao"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use um aplicativo autenticador para escanear o QR code"})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-40 h-40 bg-muted-foreground/20 rounded-md flex items-center justify-center",children:i.jsx(fj,{className:"h-10 w-10 text-primary"})})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm",children:"Insira o cdigo gerado pelo seu aplicativo autenticador:"}),i.jsx("div",{className:"flex gap-2",children:i.jsx(Le,{value:a,onChange:p=>o(p.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,className:"text-center tracking-widest font-mono text-lg"})}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(q,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),i.jsx(q,{onClick:f,disabled:a.length!==6||n.isPending,children:n.isPending?i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Verificando..."]}):"Verificar"})]})]})]}),h?i.jsx(q,{variant:"destructive",onClick:d,disabled:s.isPending,children:s.isPending?i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Desativando..."]}):"Desativar verificao em duas etapas"}):l?null:i.jsx(q,{onClick:u,disabled:r.isPending,children:r.isPending?i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Configurando..."]}):"Configurar verificao em duas etapas"})]})})})})]})}const Jq=()=>{const e=qr(),[t,r]=m.useState("overview"),n=({icon:s,title:a,description:o,action:l,onClick:c})=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(s,{className:"w-5 h-5 mt-1 text-primary"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:a}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o})]})]}),i.jsx(q,{variant:"outline",onClick:c,children:l})]});return i.jsx("div",{className:"space-y-6",children:i.jsxs(N0,{value:t,onValueChange:r,className:"space-y-6",children:[i.jsxs(Tm,{children:[i.jsx(Nn,{value:"overview",children:"Viso Geral"}),i.jsx(Nn,{value:"sessions",children:"Sesses Ativas"}),i.jsx(Nn,{value:"2fa",children:"Verificao em Duas Etapas"})]}),i.jsxs(kn,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Segurana"}),i.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas configuraes de segurana e privacidade."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(n,{icon:cO,title:"Senha",description:"Altere sua senha para manter sua conta segura",action:"Alterar senha",onClick:()=>e("/change-password")}),i.jsx(n,{icon:fj,title:"Verificao em duas etapas",description:"Adicione uma camada extra de segurana  sua conta",action:"Configurar",onClick:()=>r("2fa")}),i.jsx(n,{icon:Ou,title:"Sesses ativas",description:"Gerencie os dispositivos que esto conectados  sua conta",action:"Visualizar",onClick:()=>r("sessions")})]})]}),i.jsx(kn,{value:"sessions",children:i.jsx(Qq,{})}),i.jsx(kn,{value:"2fa",children:i.jsx(Xq,{})})]})})},eH=()=>{const e=qr(),t=ps(),r=()=>{var c;const o=(c=t.hash)==null?void 0:c.replace("#","");if(o&&["profile","theme","avatar","security"].includes(o))return o;const l=localStorage.getItem("settings-tab");return l&&["profile","theme","avatar","security"].includes(l)?l:"profile"},[n,s]=m.useState(r),a=o=>{s(o),localStorage.setItem("settings-tab",o),window.history.replaceState(null,"",`#${o}`)};return i.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-8 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(q,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"rounded-full","aria-label":"Voltar",children:i.jsx(tx,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Configuraes"})]}),i.jsxs(N0,{value:n,onValueChange:a,className:"w-full",children:[i.jsxs(Tm,{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mb-8",children:[i.jsxs(Nn,{value:"profile",className:"flex items-center gap-2",children:[i.jsx(Yo,{className:"w-4 h-4"}),i.jsx("span",{children:"Perfil"})]}),i.jsxs(Nn,{value:"theme",className:"flex items-center gap-2",children:[i.jsx(dj,{className:"w-4 h-4"}),i.jsx("span",{children:"Tema"})]}),i.jsxs(Nn,{value:"avatar",className:"flex items-center gap-2",children:[i.jsx(lj,{className:"w-4 h-4"}),i.jsx("span",{children:"Avatar"})]}),i.jsxs(Nn,{value:"security",className:"flex items-center gap-2",children:[i.jsx(dO,{className:"w-4 h-4"}),i.jsx("span",{children:"Segurana"})]})]}),i.jsxs(xt,{className:"p-6 border-border rounded-xl shadow-sm",children:[i.jsx(kn,{value:"profile",className:"mt-0",children:i.jsx(Hq,{})}),i.jsx(kn,{value:"theme",className:"mt-0",children:i.jsx(qq,{})}),i.jsx(kn,{value:"avatar",className:"mt-0",children:i.jsx(Kq,{})}),i.jsx(kn,{value:"security",className:"mt-0",children:i.jsx(Jq,{})})]})]})]})},tH=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,a]=m.useState(""),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[f,d]=m.useState(!1),[h,p]=m.useState(!1),{toast:g}=pt(),v=qr(),y=(S=>({minLength:/.{8,}/.test(S),uppercase:/[A-Z]/.test(S),lowercase:/[a-z]/.test(S),number:/[0-9]/.test(S),specialChar:/[!@#$%^&*(),.?":{}|<>]/.test(S)}))(r),x=Object.values(y).every(Boolean),b=async S=>{if(S.preventDefault(),!x){g({title:"Senha fraca",description:"Por favor, atenda a todos os requisitos da senha.",variant:"destructive"});return}if(r!==s){g({title:"Erro",description:"A nova senha e a confirmao no coincidem.",variant:"destructive"});return}l(!0);try{const{data:{session:j},error:C}=await $.auth.getSession();if(C||!j)throw new Error("Sua sesso expirou. Por favor, faa login novamente.");const{error:N}=await $.auth.updateUser({password:r});if(N)throw N;g({title:"Senha alterada",description:"Sua senha foi alterada com sucesso. Por favor, faa login novamente."}),await $.auth.signOut(),v("/login")}catch(j){console.error("Erro ao alterar senha:",j),j.message.includes("session")&&v("/login"),g({title:"Erro",description:j.message,variant:"destructive"})}finally{l(!1)}},_=({isValid:S,text:j})=>i.jsxs("li",{className:"flex items-center text-sm",children:[i.jsx("span",{className:`mr-2 ${S?"text-green-500":"text-red-500"}`,children:S?"":""}),j]});return i.jsxs("div",{className:"min-h-screen flex bg-background",children:[i.jsx(Hk,{}),i.jsx("main",{className:"flex-1 p-8",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Alterar Senha"}),i.jsxs(xt,{children:[i.jsx(Tr,{children:i.jsx(Pr,{children:"Digite sua nova senha"})}),i.jsx(St,{children:i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"currentPassword",children:"Senha Atual"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"currentPassword",type:c?"text":"password",value:e,onChange:S=>t(S.target.value),required:!0}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>u(!c),children:c?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"newPassword",children:"Nova Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"newPassword",type:f?"text":"password",value:r,onChange:S=>n(S.target.value),required:!0}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>d(!f),children:f?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542-7z"})]})})]}),i.jsxs("ul",{className:"mt-2 space-y-1",children:[i.jsx(_,{isValid:y.minLength,text:"Mnimo de 8 caracteres"}),i.jsx(_,{isValid:y.uppercase,text:"Letra maiscula"}),i.jsx(_,{isValid:y.lowercase,text:"Letra minscula"}),i.jsx(_,{isValid:y.number,text:"Nmero"}),i.jsx(_,{isValid:y.specialChar,text:"Caractere especial"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),i.jsxs("div",{className:"relative",children:[i.jsx(Le,{id:"confirmPassword",type:h?"text":"password",value:s,onChange:S=>a(S.target.value),required:!0}),i.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>p(!h),children:h?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543 7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542-7z"})]})})]})]}),i.jsx(q,{type:"submit",className:"w-full",disabled:o||!x,children:o?"Alterando...":"Alterar Senha"})]})})]})]})})]})};function rH({clientId:e,open:t,onOpenChange:r}){const{user:n}=Se(),{toast:s}=Gt(),a=Ze(),[o,l]=m.useState([]),[c,u]=m.useState(!1),[f,d]=m.useState("");m.useEffect(()=>{e&&n&&$.from("clients").select("name").eq("id",e).eq("user_id",n.id).single().then(({data:j,error:C})=>{!C&&j&&d(j.name)})},[e,n]),m.useEffect(()=>{t||l([])},[t]);const{data:h,isLoading:p}=jt({queryKey:["client-transactions",n==null?void 0:n.id,e],queryFn:async()=>{if(!n||!e)return[];const{data:j,error:C}=await $.from("transactions").select("*").eq("client_id",e||"").eq("user_id",n.id);if(C)throw C;return j},enabled:!!n&&!!e&&t}),g=(h==null?void 0:h.filter(j=>j.payment_status==="pending"))||[],v=(h==null?void 0:h.filter(j=>j.payment_status==="confirmed"))||[],w=g.reduce((j,C)=>j+C.amount,0),y=v.reduce((j,C)=>j+C.amount,0),x=j=>{l(C=>C.includes(j)?C.filter(N=>N!==j):[...C,j])},b=()=>{const j=g.map(C=>C.id);l(j)},_=()=>{l([])},S=async()=>{if(!(o.length===0||!n))try{const{error:j}=await $.from("transactions").update({payment_status:"confirmed"}).in("id",o).eq("user_id",n.id);if(j)throw j;s({title:"Pagamentos confirmados",description:`${o.length} pagamento(s) confirmado(s) com sucesso`}),a.invalidateQueries({queryKey:["client-transactions"]}),a.invalidateQueries({queryKey:["recent-transactions"]}),a.invalidateQueries({queryKey:["expense-chart"]}),l([]),u(!1)}catch(j){console.error("Error confirming payments:",j),s({title:"Erro",description:`Falha ao confirmar pagamentos: ${j instanceof Error?j.message:"Erro desconhecido"}`,variant:"destructive"})}};return i.jsxs(i.Fragment,{children:[i.jsx(Hs,{open:t,onOpenChange:r,children:i.jsxs(cs,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsx(us,{children:i.jsxs(ds,{className:"text-2xl font-bold mb-2",children:["Transaes de ",f]})}),p?i.jsx("div",{className:"py-10 text-center text-muted-foreground",children:"Carregando transaes..."}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold",children:["Pagamentos Pendentes (",g.length,")"]}),g.length>0&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{variant:"outline",size:"sm",onClick:b,children:"Selecionar Todos"}),o.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(q,{variant:"outline",size:"sm",onClick:_,children:"Limpar Seleo"}),i.jsxs(q,{variant:"default",size:"sm",onClick:()=>u(!0),children:[i.jsx(Rf,{className:"mr-1 h-4 w-4"}),"Confirmar (",o.length,")"]})]})]})]}),g.length===0?i.jsx("div",{className:"py-4 text-center text-muted-foreground border rounded-lg",children:"Nenhuma transao pendente para este cliente."}):i.jsxs("div",{className:"space-y-2",children:[g.map(j=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Xo,{checked:o.includes(j.id),onCheckedChange:()=>x(j.id)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:j.description}),i.jsx("p",{className:"text-sm text-muted-foreground",children:j.date?Me(new Date(j.date),"dd/MM/yyyy",{locale:et}):""})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:`font-medium ${j.amount<0?"text-red-500":"text-green-500"}`,children:["R$ ",Math.abs(j.amount).toFixed(2)]})})]},j.id)),i.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold text-foreground",children:"Total Pendente:"}),i.jsxs("span",{className:`font-semibold ${w<0?"text-red-500":"text-green-500"}`,children:["R$ ",Math.abs(w).toFixed(2)]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Pagamentos Confirmados (",v.length,")"]}),v.length===0?i.jsx("div",{className:"py-4 text-center text-muted-foreground border rounded-lg",children:"Nenhuma transao confirmada para este cliente."}):i.jsxs("div",{className:"space-y-2",children:[v.map(j=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:j.description}),i.jsx("p",{className:"text-sm text-muted-foreground",children:j.date?Me(new Date(j.date),"dd/MM/yyyy",{locale:et}):""})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${j.amount<0?"text-red-500":"text-green-500"}`,children:["R$ ",Math.abs(j.amount).toFixed(2)]}),i.jsx("p",{className:"text-xs text-green-500",children:"Confirmado"})]})]},j.id)),i.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold text-foreground",children:"Total Confirmado:"}),i.jsxs("span",{className:`font-semibold ${y<0?"text-red-500":"text-green-500"}`,children:["R$ ",Math.abs(y).toFixed(2)]})]})]})]})]})]})}),i.jsx(J2,{open:c,onOpenChange:u,onConfirm:S,count:o.length})]})}function nH({onEditClient:e}){const{user:t}=Se(),{toast:r}=Gt(),n=Ze(),[s,a]=m.useState(""),[o,l]=m.useState(null),[c,u]=m.useState(null),[f,d]=m.useState(!1),{data:h,isLoading:p}=jt({queryKey:["clients",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:y,error:x}=await $.from("clients").select().eq("user_id",t.id).order("name");if(x)throw x;return y},enabled:!!t}),g=h==null?void 0:h.filter(y=>y.name.toLowerCase().includes(s.toLowerCase())||y.document&&y.document.toLowerCase().includes(s.toLowerCase())||y.email&&y.email.toLowerCase().includes(s.toLowerCase())||y.phone&&y.phone.toLowerCase().includes(s.toLowerCase())),v=async()=>{if(!(!o||!t))try{const{error:y}=await $.from("clients").delete().eq("id",o.id).eq("user_id",t.id);if(y)throw y;r({title:"Cliente excludo",description:"Cliente excludo com sucesso"}),n.invalidateQueries({queryKey:["clients"]})}catch(y){console.error("Error deleting client:",y),r({title:"Erro",description:`Falha ao excluir cliente: ${y.message}`,variant:"destructive"})}finally{l(null)}},w=y=>{u(y),d(!0)};return p?i.jsx("div",{className:"py-10 text-center text-muted-foreground",children:"Carregando clientes..."}):(g==null?void 0:g.length)===0&&!s?i.jsx("div",{className:"py-10 text-center text-muted-foreground",children:"Nenhum cliente cadastrado."}):(g==null?void 0:g.length)===0&&s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Le,{value:s,onChange:y=>a(y.target.value),placeholder:"Buscar clientes...",className:"pl-10"})]})}),i.jsxs("div",{className:"py-10 text-center text-muted-foreground",children:['Nenhum cliente encontrado para "',s,'".']})]}):i.jsxs("div",{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Le,{value:s,onChange:y=>a(y.target.value),placeholder:"Buscar clientes...",className:"pl-10"})]})}),i.jsx("div",{className:"space-y-4",children:g==null?void 0:g.map(y=>i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 rounded-xl border border-border bg-card hover:bg-accent/20 transition-colors",children:[i.jsxs("div",{className:"mb-3 sm:mb-0",children:[i.jsx("h3",{className:"font-semibold text-card-foreground",children:y.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[y.document&&i.jsxs("p",{children:["Documento: ",y.document]}),y.email&&i.jsxs("p",{children:["Email: ",y.email]}),y.phone&&i.jsxs("p",{children:["Telefone: ",y.phone]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(q,{variant:"outline",size:"sm",onClick:()=>w(y.id),children:[i.jsx(Po,{className:"h-4 w-4 mr-1"}),"Faturas"]}),i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>e(y),children:i.jsx(ax,{className:"h-4 w-4"})}),i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>l(y),children:i.jsx(Qo,{className:"h-4 w-4 text-destructive"})})]})]},y.id))}),i.jsx(Zl,{open:!!o,onOpenChange:y=>!y&&l(null),children:i.jsxs(Jo,{children:[i.jsxs(ei,{children:[i.jsx(ri,{children:"Confirmar excluso"}),i.jsxs(ni,{children:['Tem certeza que deseja excluir o cliente "',o==null?void 0:o.name,'"? Esta ao no pode ser desfeita.']})]}),i.jsxs(ti,{children:[i.jsx(ai,{children:"Cancelar"}),i.jsx(si,{onClick:v,className:"bg-destructive text-destructive-foreground",children:"Excluir"})]})]})}),i.jsx(rH,{clientId:c,open:f,onOpenChange:d})]})}function sH({open:e,onOpenChange:t,clientToEdit:r}){const[n,s]=m.useState(""),[a,o]=m.useState(""),[l,c]=m.useState(""),[u,f]=m.useState(""),[d,h]=m.useState(!1),{toast:p}=Gt(),{user:g}=Se(),v=Ze();m.useEffect(()=>{r?(s(r.name||""),o(r.document||""),c(r.email||""),f(r.phone||"")):w()},[r,e]);const w=()=>{s(""),o(""),c(""),f("")},y=async x=>{if(x.preventDefault(),!!g){h(!0);try{if(r){const{error:b}=await $.from("clients").update({name:n,document:a,email:l,phone:u}).eq("id",r.id).eq("user_id",g.id);if(b)throw b;p({title:"Cliente atualizado",description:"Cliente atualizado com sucesso"})}else{const{error:b}=await $.from("clients").insert({name:n,document:a,email:l,phone:u,user_id:g.id});if(b)throw b;p({title:"Cliente adicionado",description:"Cliente adicionado com sucesso"})}v.invalidateQueries({queryKey:["clients"]}),t(!1),w()}catch(b){console.error("Error saving client:",b),p({title:"Erro",description:`Falha ao ${r?"atualizar":"adicionar"} cliente: ${b.message}`,variant:"destructive"})}finally{h(!1)}}};return i.jsx(Hs,{open:e,onOpenChange:t,children:i.jsxs(cs,{className:"sm:max-w-[425px]",children:[i.jsx(us,{children:i.jsx(ds,{className:"text-2xl font-bold",children:r?"Editar Cliente":"Novo Cliente"})}),i.jsxs("form",{onSubmit:y,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"name",children:"Nome*"}),i.jsx(Le,{id:"name",value:n,onChange:x=>s(x.target.value),placeholder:"Nome do cliente",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"document",children:"Documento (CNPJ/CPF)"}),i.jsx(Le,{id:"document",value:a,onChange:x=>o(x.target.value),placeholder:"00.000.000/0000-00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"email",children:"Email"}),i.jsx(Le,{id:"email",type:"email",value:l,onChange:x=>c(x.target.value),placeholder:"cliente@exemplo.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ke,{htmlFor:"phone",children:"Telefone"}),i.jsx(Le,{id:"phone",value:u,onChange:x=>f(x.target.value),placeholder:"(00) 00000-0000"})]}),i.jsx(q,{type:"submit",className:"w-full",disabled:d,children:d?"Salvando...":r?"Atualizar":"Adicionar"})]})]})})}function aH(){const[e,t]=m.useState(!1),[r,n]=m.useState(null),s=o=>{n(o||null),t(!0)},a=()=>{t(!1),n(null)};return i.jsxs("div",{className:"w-full space-y-8",children:[i.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[i.jsx("h1",{className:"text-3xl font-bold mb-4 sm:mb-0",children:"Gerenciamento de Clientes"}),i.jsxs(q,{onClick:()=>s(),children:[i.jsx(JA,{className:"mr-2 h-4 w-4"}),"Novo Cliente"]})]}),i.jsx("div",{className:"grid gap-6",children:i.jsxs(xt,{className:"w-full",children:[i.jsx(Tr,{children:i.jsx(Pr,{children:"Seus Clientes"})}),i.jsx(St,{children:i.jsx(nH,{onEditClient:s})})]})}),i.jsx(sH,{open:e,onOpenChange:a,clientToEdit:r})]})}function oH(e,t,r,n="all",s=""){const{toast:a}=Gt(),o=Ze(),{data:l,isLoading:c}=jt({queryKey:["invoiced-transactions",e,t,r,n,s],queryFn:async()=>{if(!e)return[];let f=$.from("transactions").select(`
          *,
          client:clients(name)
        `).eq("user_id",e).eq("payment_method","invoice").order("date",{ascending:!1});if(t){const p=Me(t,"yyyy-MM-dd'T00:00:00.000Z'");f=f.gte("date",p)}if(r){const p=Me(r,"yyyy-MM-dd'T23:59:59.999Z'");f=f.lte("date",p)}n!=="all"&&(f=f.eq("payment_status",n)),s&&(f=f.ilike("description",`%${s}%`));const{data:d,error:h}=await f;if(h)throw h;return d||[]},enabled:!!e});return{transactions:l,isLoading:c,confirmPayments:async f=>{if(!e||f.length===0)return!1;try{const{error:d}=await $.from("transactions").update({payment_status:"confirmed"}).in("id",f).eq("user_id",e);if(d)throw d;return a({title:"Pagamentos confirmados",description:"Os pagamentos selecionados foram confirmados com sucesso."}),o.invalidateQueries({queryKey:["invoiced-transactions"]}),o.invalidateQueries({queryKey:["transactions"]}),o.invalidateQueries({queryKey:["expense-chart"]}),!0}catch(d){return console.error("Erro ao confirmar pagamentos:",d),a({title:"Erro",description:"No foi possvel confirmar os pagamentos.",variant:"destructive"}),!1}}}}const iH=()=>{const{user:e}=Se(),[t,r]=m.useState("today"),[n,s]=m.useState(()=>er(new Date)),[a,o]=m.useState(()=>Jn(new Date)),[l,c]=m.useState("all"),[u,f]=m.useState(""),[d,h]=m.useState([]),[p,g]=m.useState(!1),v=Ze(),{transactions:w,isLoading:y,confirmPayments:x}=oH(e==null?void 0:e.id,n,a,l,u);m.useEffect(()=>{if(!e)return;const k=$.channel(`transactions-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"transactions",filter:`user_id=eq.${e.id}`},()=>{console.log(" Alterao detectada em transaes faturadas. Atualizando..."),v.invalidateQueries({queryKey:["invoiced-transactions"]})}).subscribe();return()=>{console.log(" Removendo canal do Supabase."),$.removeChannel(k)}},[v,e]);const b=k=>{h(R=>R.includes(k)?R.filter(D=>D!==k):[...R,k])},_=async()=>{await x(d)&&(h([]),g(!1))},S=()=>{r("today"),s(er(new Date)),o(Jn(new Date)),c("all"),f("")},C=((w==null?void 0:w.reduce((k,R)=>k+R.amount,0))||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),N=n&&a?`${Me(n,"dd/MM/yyyy")} - ${Me(a,"dd/MM/yyyy")}`:"Selecione um perodo";return i.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Faturadas"}),d.length>0&&i.jsxs(q,{onClick:()=>g(!0),className:"bg-green-600 hover:bg-green-700",children:["Confirmar Selecionados (",d.length,")"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center",children:[i.jsx(jm,{dateRange:t,startDate:n,endDate:a,onDateRangeChange:r,onStartDateChange:k=>k&&s(k),onEndDateChange:k=>k&&o(k)}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground px-3 py-1 rounded-md",children:N}),(t!=="today"||l!=="all"||u!=="")&&i.jsx(q,{variant:"outline",onClick:S,children:"Limpar Filtros"})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(Le,{placeholder:"Pesquisar por descrio...",value:u,onChange:k=>f(k.target.value),className:"w-full md:w-[300px]"})})]}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.jsxs(xt,{className:"rounded-xl border-border bg-card",children:[i.jsx(Tr,{children:i.jsx(Pr,{className:"text-card-foreground",children:"Histrico de Faturadas"})}),i.jsx(St,{children:i.jsxs("div",{className:"space-y-4",children:[y?i.jsx("p",{className:"text-muted-foreground",children:"Carregando..."}):w==null?void 0:w.map(k=>i.jsx(GT,{transaction:k,isSelected:d.includes(k.id),onToggleSelection:b},k.id)),(!w||w.length===0)&&i.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["Nenhuma transao faturada encontrada",(t!=="today"||u)&&" para os filtros selecionados"]}),w&&w.length>0&&i.jsxs("div",{className:"mt-4 text-right text-lg font-semibold text-foreground",children:["Total: ",C]})]})})]})}),i.jsx(QT,{isOpen:p,onOpenChange:g,selectedCount:d.length,onConfirm:_})]})},uP=()=>{const{user:e}=Se(),{toast:t}=pt(),r=Ze(),n=jt({queryKey:["chat-users",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:d,error:h}=await $.from("messages").select(`
          sender_id,
          recipient_id,
          content,
          created_at,
          read
        `).or(`sender_id.eq.${e.id},recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(h)return console.error("Error fetching messages:",h),[];const p=new Set;if(d==null||d.forEach(y=>{y.sender_id!==e.id&&p.add(y.sender_id),y.recipient_id!==e.id&&p.add(y.recipient_id)}),p.size===0)return[];const{data:g,error:v}=await $.from("profiles").select("id, username, avatar_url").in("id",Array.from(p));return v?(console.error("Error fetching profiles:",v),[]):((g==null?void 0:g.map(y=>{const x=(d==null?void 0:d.filter(S=>S.sender_id===y.id&&S.recipient_id===e.id||S.sender_id===e.id&&S.recipient_id===y.id))||[],b=x.filter(S=>S.recipient_id===e.id&&!S.read).length,_=x[0]?{id:x[0].sender_id+x[0].created_at,sender_id:x[0].sender_id,recipient_id:x[0].recipient_id,content:x[0].content,created_at:x[0].created_at,read:x[0].read}:void 0;return{id:y.id,username:y.username,avatar_url:y.avatar_url||void 0,unread_count:b,last_message:_}}))||[]).sort((y,x)=>{var S,j;const b=((S=y.last_message)==null?void 0:S.created_at)||"",_=((j=x.last_message)==null?void 0:j.created_at)||"";return new Date(_).getTime()-new Date(b).getTime()})},enabled:!!(e!=null&&e.id),staleTime:3e4,refetchOnWindowFocus:!0}),s=m.useCallback((d,h=1,p=20,g="")=>jt({queryKey:["conversation",e==null?void 0:e.id,d,h,p,g],queryFn:async()=>{if(!(e!=null&&e.id)||!d)return{messages:[],totalCount:0,hasMore:!1};let v=$.from("messages").select("*",{count:"exact"}).or(`and(sender_id.eq.${e.id},recipient_id.eq.${d}),and(sender_id.eq.${d},recipient_id.eq.${e.id})`).eq("deleted_by_recipient",!1).eq("is_soft_deleted",!1).order("created_at",{ascending:!1});g&&(v=v.ilike("content",`%${g}%`));const w=(h-1)*p;v=v.range(w,w+p-1);const{data:y,error:x,count:b}=await v;if(x)throw console.error("Error fetching conversation:",x),x;const _=[];if(y)for(const S of y){const{data:j}=await $.from("profiles").select("username, avatar_url").eq("id",S.sender_id).single();_.push({...S,attachment_url:S.attachment_url||void 0,read_at:S.read_at||void 0,edited_at:S.edited_at||void 0,message_status:S.message_status||void 0,is_soft_deleted:S.is_soft_deleted||void 0,deleted_by_recipient:S.deleted_by_recipient||void 0,sender_profile:j?{username:j.username,avatar_url:j.avatar_url||void 0}:void 0})}return{messages:_.reverse(),totalCount:b||0,hasMore:b?b>h*p:!1}},enabled:!!(e!=null&&e.id)&&!!d,staleTime:0,refetchOnWindowFocus:!1}),[e==null?void 0:e.id]),a=rt({mutationFn:async({recipientId:d,content:h,attachment:p})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");let g;if(p){const y=p.name.split(".").pop(),x=`${e.id}/${Date.now()}.${y}`,{error:b}=await $.storage.from("messages").upload(x,p);if(b)throw b;const{data:{publicUrl:_}}=$.storage.from("messages").getPublicUrl(x);g=_}const{data:v,error:w}=await $.from("messages").insert({sender_id:e.id,recipient_id:d,content:h,attachment_url:g}).select().single();if(w)throw w;return v},onSuccess:(d,h)=>{r.invalidateQueries({queryKey:["chat-users"]}),r.invalidateQueries({queryKey:["conversation",e==null?void 0:e.id,h.recipientId]}),t({title:"Mensagem enviada",description:"Sua mensagem foi enviada com sucesso."})},onError:d=>{t({title:"Erro",description:`Falha ao enviar mensagem: ${d.message}`,variant:"destructive"})}}),o=rt({mutationFn:async({recipientId:d,senderId:h})=>{const{error:p}=await $.rpc("mark_conversation_as_read_v2",{p_recipient_id:d,p_sender_id:h});if(p)throw p},onSuccess:()=>{r.invalidateQueries({queryKey:["chat-users"]})}}),l=rt({mutationFn:async d=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:h}=await $.rpc("soft_delete_message",{p_message_id:d,p_user_id:e.id});if(h)throw h},onSuccess:()=>{r.invalidateQueries({queryKey:["conversation"]}),r.invalidateQueries({queryKey:["chat-users"]}),t({title:"Mensagem excluda",description:"A mensagem foi excluda com sucesso."})}}),c=rt({mutationFn:async({messageId:d,content:h})=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:p}=await $.rpc("edit_message",{p_message_id:d,p_user_id:e.id,p_new_content:h});if(p)throw p},onSuccess:()=>{r.invalidateQueries({queryKey:["conversation"]}),t({title:"Mensagem editada",description:"A mensagem foi editada com sucesso."})}}),u=rt({mutationFn:async d=>{if(!(e!=null&&e.id))throw new Error("User not authenticated");const{error:h}=await $.rpc("clear_conversation",{p_user_id:e.id,p_other_user_id:d});if(h)throw h},onSuccess:()=>{r.invalidateQueries({queryKey:["conversation"]}),r.invalidateQueries({queryKey:["chat-users"]}),t({title:"Conversa limpa",description:"Todas as mensagens foram removidas."})}}),f=m.useCallback(()=>(n.data||[]).reduce((h,p)=>h+(p.unread_count||0),0),[n.data]);return{chatUsers:n.data||[],isLoadingChatUsers:n.isLoading,getConversation:s,getTotalUnreadCount:f,sendMessage:a,markConversationAsRead:o,deleteMessage:l,editMessage:c,clearConversation:u}},lH=()=>{const e=qr(),{hapticFeedback:t}=gm(),[r,n]=m.useState(""),{chatUsers:s,isLoadingChatUsers:a,getTotalUnreadCount:o}=uP(),l=(s==null?void 0:s.filter(h=>h.username.toLowerCase().includes(r.toLowerCase())))||[],c=o(),u=h=>{t("light"),e(`/chat/${h}`)},f=h=>{if(!h)return"Nenhuma mensagem ainda";const p=h.content||"";return p.length>50?p.substring(0,50)+"...":p},d=h=>{const p=new Date(h);return(new Date().getTime()-p.getTime())/(1e3*60*60)<24?p.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):p.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})};return a?i.jsxs("div",{className:"flex flex-col h-full items-center justify-center p-6 safe-area-top",children:[i.jsx(pm,{className:"w-8 h-8 mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando conversas..."})]}):i.jsxs("div",{className:"flex flex-col h-full max-w-md mx-auto",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-md border-b border-border/50 p-4 safe-area-top",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(q,{variant:"ghost",size:"icon",onClick:()=>e("/dashboard"),className:"native-transition",children:i.jsx(tx,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-xl font-semibold",children:"Conversas"}),c>0&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[c," mensagens no lidas"]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Le,{placeholder:"Buscar conversas...",value:r,onChange:h=>n(h.target.value),className:"pl-10 rounded-xl"})]})]}),i.jsx("div",{className:"flex-1 overflow-auto safe-area-bottom",children:l.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[i.jsx(fO,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"font-medium mb-2",children:r?"Nenhuma conversa encontrada":"Nenhuma conversa ainda"}),i.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:r?"Tente buscar por outro nome de usurio":"Suas conversas aparecero aqui quando voc comear a trocar mensagens"})]}):i.jsx("div",{className:"divide-y divide-border/50",children:l.map(h=>i.jsxs("button",{onClick:()=>u(h.id),className:"w-full p-4 flex items-center gap-3 hover:bg-accent/50 transition-colors text-left native-transition active:scale-95",children:[i.jsxs("div",{className:"relative",children:[i.jsx(hr,{className:"h-12 w-12",children:h.avatar_url?i.jsx(mr,{src:h.avatar_url,alt:h.username}):i.jsx(pr,{className:"text-lg font-medium",children:h.username.charAt(0).toUpperCase()})}),h.unread_count>0&&i.jsx(qs,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs min-w-[20px]",children:h.unread_count>99?"99+":h.unread_count})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"font-medium text-sm truncate",children:h.username}),h.last_message&&i.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 ml-2",children:d(h.last_message.created_at)})]}),i.jsx("p",{className:`text-sm truncate ${h.unread_count>0?"font-medium text-foreground":"text-muted-foreground"}`,children:f(h.last_message)})]})]},h.id))})})]})},Pm=()=>{const{user:e}=Se(),[t,r]=m.useState({}),n=m.useRef(),s=m.useRef(Date.now());Em({channelName:"user-presence-updates",filters:[{event:"*",schema:"public",table:"user_presence"}],onSubscriptionChange:f=>{const d=f.new;if(d){const h={...d,status:d.status,current_conversation:d.current_conversation||void 0};r(p=>({...p,[h.user_id]:h}))}},dependencies:[e==null?void 0:e.id]});const a=async(f,d)=>{if(e)try{await $.rpc("update_user_presence",{p_user_id:e.id,p_status:f,p_conversation_id:d})}catch(h){console.error("Error updating presence:",h)}},o=()=>{s.current=Date.now()};m.useEffect(()=>{const f=["mousedown","mousemove","keypress","scroll","touchstart"];return f.forEach(d=>{document.addEventListener(d,o,!0)}),()=>{f.forEach(d=>{document.removeEventListener(d,o,!0)})}},[]),m.useEffect(()=>{if(!e)return;a("online"),n.current=setInterval(()=>{Date.now()-s.current>5*60*1e3?a("away"):a("online")},3e4);const f=()=>{a("offline")};return window.addEventListener("beforeunload",f),()=>{n.current&&clearInterval(n.current),window.removeEventListener("beforeunload",f),a("offline")}},[e]),m.useEffect(()=>{(async()=>{const{data:d}=await $.from("user_presence").select("*");if(d){const h=d.reduce((p,g)=>{const v={...g,status:g.status,current_conversation:g.current_conversation||void 0};return p[v.user_id]=v,p},{});r(h)}})()},[]);const l=f=>t[f];return{userPresences:t,updateMyPresence:a,getUserPresence:l,isUserOnline:f=>{const d=l(f);return(d==null?void 0:d.status)==="online"},getLastSeen:f=>{const d=l(f);return d==null?void 0:d.last_seen}}};function cH(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var k0="ScrollArea",[dP,HG]=Dr(k0),[uH,dn]=dP(k0),fP=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=m.useState(null),[u,f]=m.useState(null),[d,h]=m.useState(null),[p,g]=m.useState(null),[v,w]=m.useState(null),[y,x]=m.useState(0),[b,_]=m.useState(0),[S,j]=m.useState(!1),[C,N]=m.useState(!1),k=je(t,D=>c(D)),R=Kl(s);return i.jsx(uH,{scope:r,type:n,dir:R,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:N,onCornerWidthChange:x,onCornerHeightChange:_,children:i.jsx(ue.div,{dir:R,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});fP.displayName=k0;var hP="ScrollAreaViewport",mP=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...o}=e,l=dn(hP,r),c=m.useRef(null),u=je(t,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(ue.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:wH({asChild:s,children:n},f=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});mP.displayName=hP;var ys="ScrollAreaScrollbar",E0=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=dn(ys,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(dH,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(fH,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(pP,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(T0,{...n,ref:t}):null});E0.displayName=ys;var dH=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=dn(ys,e.__scopeScrollArea),[a,o]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(It,{present:r||a,children:i.jsx(pP,{"data-state":a?"visible":"hidden",...n,ref:t})})}),fH=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=dn(ys,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Mm(()=>c("SCROLL_END"),100),[l,c]=cH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,f=a?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const p=u[f];d!==p&&(c("SCROLL"),o()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(It,{present:r||l!=="hidden",children:i.jsx(T0,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:G(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:G(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),pP=m.forwardRef((e,t)=>{const r=dn(ys,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=m.useState(!1),l=e.orientation==="horizontal",c=Mm(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:f)}},10);return El(r.viewport,c),El(r.content,c),i.jsx(It,{present:n||a,children:i.jsx(T0,{"data-state":a?"visible":"hidden",...s,ref:t})})}),T0=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=dn(ys,e.__scopeScrollArea),a=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=wP(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,p){return yH(h,o.current,l,p)}return r==="horizontal"?i.jsx(hH,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,p=o_(h,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,s.dir))}}):r==="vertical"?i.jsx(mH,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,p=o_(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),hH=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=dn(ys,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=je(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(vP,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rm(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(a.viewport){const h=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),_P(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:gh(o.paddingLeft),paddingEnd:gh(o.paddingRight)}})}})}),mH=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=dn(ys,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=je(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(vP,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rm(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(a.viewport){const h=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),_P(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:gh(o.paddingTop),paddingEnd:gh(o.paddingBottom)}})}})}),[pH,gP]=dP(ys),vP=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,p=dn(ys,r),[g,v]=m.useState(null),w=je(t,k=>v(k)),y=m.useRef(null),x=m.useRef(""),b=p.viewport,_=n.content-n.viewport,S=ct(f),j=ct(c),C=Mm(d,10);function N(k){if(y.current){const R=k.clientX-y.current.left,D=k.clientY-y.current.top;u({x:R,y:D})}}return m.useEffect(()=>{const k=R=>{const D=R.target;(g==null?void 0:g.contains(D))&&S(R,_)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[b,g,_,S]),m.useEffect(j,[n,j]),El(g,C),El(p.content,C),i.jsx(pH,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:ct(a),onThumbPointerUp:ct(o),onThumbPositionChange:j,onThumbPointerDown:ct(l),children:i.jsx(ue.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:G(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(k))}),onPointerMove:G(e.onPointerMove,N),onPointerUp:G(e.onPointerUp,k=>{const R=k.target;R.hasPointerCapture(k.pointerId)&&R.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),ph="ScrollAreaThumb",yP=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=gP(ph,e.__scopeScrollArea);return i.jsx(It,{present:r||s.hasThumb,children:i.jsx(gH,{ref:t,...n})})}),gH=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=dn(ph,r),o=gP(ph,r),{onThumbPositionChange:l}=o,c=je(t,d=>o.onThumbChange(d)),u=m.useRef(),f=Mm(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const d=a.viewport;if(d){const h=()=>{if(f(),!u.current){const p=xH(d,l);u.current=p,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,f,l]),i.jsx(ue.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:G(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),g=d.clientX-p.left,v=d.clientY-p.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:G(e.onPointerUp,o.onThumbPointerUp)})});yP.displayName=ph;var P0="ScrollAreaCorner",xP=m.forwardRef((e,t)=>{const r=dn(P0,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(vH,{...e,ref:t}):null});xP.displayName=P0;var vH=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=dn(P0,r),[a,o]=m.useState(0),[l,c]=m.useState(0),u=!!(a&&l);return El(s.scrollbarX,()=>{var d;const f=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),El(s.scrollbarY,()=>{var d;const f=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),u?i.jsx(ue.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gh(e){return e?parseInt(e,10):0}function wP(e,t){const r=e/t;return isNaN(r)?0:r}function Rm(e){const t=wP(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function yH(e,t,r,n="ltr"){const s=Rm(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,d=n==="ltr"?[0,f]:[f*-1,0];return bP([c,u],d)(e)}function o_(e,t,r="ltr"){const n=Rm(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Iv(e,c);return bP([0,o],[0,l])(u)}function bP(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function _P(e,t){return e>0&&e<t}var xH=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Mm(e,t){const r=ct(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function El(e,t){const r=ct(t);Ot(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function wH(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=m.Children.only(n);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var SP=fP,bH=mP,_H=xP;const R0=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(SP,{ref:n,className:B("relative overflow-hidden",e),...r,children:[i.jsx(bH,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(CP,{}),i.jsx(_H,{})]}));R0.displayName=SP.displayName;const CP=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(E0,{ref:n,orientation:t,className:B("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(yP,{className:"relative flex-1 rounded-full bg-border"})}));CP.displayName=E0.displayName;const SH=()=>{var D,A,U;const{userId:e}=TL(),t=qr(),{user:r}=Se(),{hapticFeedback:n}=gm(),{toast:s}=pt(),{isUserOnline:a}=Pm(),[o,l]=m.useState(""),[c,u]=m.useState(1),f=m.useRef(null),d=m.useRef(null),{chatUsers:h,getConversation:p,sendMessage:g,markConversationAsRead:v}=uP(),w=p(e||"",c,50);console.log("Conversation query in component:",w);const y=((D=w.data)==null?void 0:D.messages)||[],x=w.isLoading,b=w.isError,_=((A=w.data)==null?void 0:A.hasMore)||!1,S=h==null?void 0:h.find(I=>I.id===e),j=e?a(e):!1;m.useEffect(()=>{if(e&&(r!=null&&r.id)&&y.length>0){const I=setTimeout(()=>{v.mutate({recipientId:r.id,senderId:e},{onError:W=>{console.log("Erro ao marcar conversa como lida:",W)}})},1e3);return()=>clearTimeout(I)}},[e,r==null?void 0:r.id,y.length,v]),m.useEffect(()=>{var I;y.length>0&&c===1&&((I=d.current)==null||I.scrollIntoView({behavior:"smooth"}))},[y,c]);const C=async()=>{if(!(!o.trim()||!e))try{n("light"),await g.mutateAsync({recipientId:e,content:o.trim()}),l("")}catch(I){console.error("Error sending message:",I),s({title:"Erro",description:"No foi possvel enviar a mensagem. Tente novamente.",variant:"destructive"})}},N=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),C())},k=I=>new Date(I).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),R=I=>I===(r==null?void 0:r.id);return e?x&&y.length===0?i.jsxs("div",{className:"flex flex-col h-screen max-w-md mx-auto items-center justify-center p-6 safe-area-top",children:[i.jsx(pm,{className:"w-8 h-8 mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Carregando conversa..."})]}):b?i.jsxs("div",{className:"flex flex-col h-screen max-w-md mx-auto items-center justify-center p-6 safe-area-top",children:[i.jsx("p",{className:"text-destructive mb-4",children:"Erro ao carregar mensagens"}),i.jsx(q,{onClick:()=>window.location.reload(),children:"Tentar novamente"})]}):i.jsxs("div",{className:"flex flex-col h-screen max-w-md mx-auto",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur-md border-b border-border/50 p-4 safe-area-top",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(q,{variant:"ghost",size:"icon",onClick:()=>{n("light"),t("/chat")},className:"native-transition",children:i.jsx(tx,{className:"h-5 w-5"})}),i.jsxs("div",{className:"relative",children:[i.jsx(hr,{className:"h-10 w-10",children:S!=null&&S.avatar_url?i.jsx(mr,{src:S.avatar_url,alt:S.username}):i.jsx(pr,{children:((U=S==null?void 0:S.username)==null?void 0:U.charAt(0).toUpperCase())||"?"})}),j&&i.jsx(Du,{className:"absolute -bottom-1 -right-1 h-3 w-3 fill-green-500 text-green-500"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"font-medium text-lg",children:(S==null?void 0:S.username)||"Usurio"}),j&&i.jsx("p",{className:"text-xs text-green-500",children:"Online"})]}),i.jsx(q,{variant:"ghost",size:"icon",className:"native-transition",children:i.jsx(rx,{className:"h-5 w-5"})})]})}),i.jsx(R0,{className:"flex-1 p-4",ref:f,children:i.jsxs("div",{className:"space-y-4",children:[_&&i.jsx("div",{className:"text-center",children:i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>u(I=>I+1),disabled:x,children:x?i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"h-4 w-4 animate-spin mr-2"}),"Carregando..."]}):"Carregar mensagens anteriores"})}),y.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"Nenhuma mensagem ainda. Seja o primeiro a enviar uma mensagem!"})}):y.map(I=>i.jsx("div",{className:`flex ${R(I.sender_id)?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${R(I.sender_id)?"bg-primary text-primary-foreground rounded-br-md":"bg-muted rounded-bl-md"}`,children:[i.jsx("p",{className:"text-sm break-words",children:I.content}),i.jsx("p",{className:`text-xs mt-1 ${R(I.sender_id)?"text-primary-foreground/70":"text-muted-foreground"}`,children:k(I.created_at)})]})},I.id)),i.jsx("div",{ref:d})]})}),i.jsx("div",{className:"sticky bottom-0 bg-background/95 backdrop-blur-md border-t border-border/50 p-4 safe-area-bottom",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Le,{value:o,onChange:I=>l(I.target.value),onKeyPress:N,placeholder:"Digite sua mensagem...",className:"flex-1 rounded-full",disabled:g.isPending}),i.jsx(q,{size:"icon",onClick:C,disabled:!o.trim()||g.isPending,className:"rounded-full native-transition active:scale-95",children:g.isPending?i.jsx(kt,{className:"h-4 w-4 animate-spin"}):i.jsx(sx,{className:"h-4 w-4"})})]})})]}):(t("/chat"),null)},CH={retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)},jH=()=>{const{user:e}=Se();pt();const[t,r]=m.useState(!1),{data:n=[],isLoading:s,error:a,refetch:o}=jt({queryKey:["posts"],queryFn:async()=>{try{if(!e)return[];const{data:c,error:u}=await $.from("posts").select("*").order("created_at",{ascending:!1});if(u)throw console.error("Erro ao buscar posts:",u),new Error(u.message);return c?await Promise.all(c.map(async d=>{const{data:h}=await $.from("profiles").select("username, avatar_url").eq("id",d.user_id).single(),{count:p}=await $.from("comments").select("*",{count:"exact",head:!0}).eq("post_id",d.id),{data:g,error:v}=await $.from("reactions").select("type").eq("post_id",d.id);v&&console.error("Erro ao buscar reaes:",v);const w={like:0,heart:0,laugh:0,wow:0,sad:0};g&&g.length>0&&g.forEach(j=>{j.type&&w.hasOwnProperty(j.type)&&w[j.type]++});const{count:y,error:x}=await $.from("reactions").select("*",{count:"exact",head:!0}).eq("post_id",d.id);x&&console.error("Erro ao buscar contagem total de reaes:",x);const{data:b,error:_}=await $.from("reactions").select("type").eq("post_id",d.id).eq("user_id",e.id).maybeSingle();_&&console.error("Erro ao buscar reao do usurio:",_);let S=null;return b&&b.type&&["like","heart","laugh","wow","sad"].includes(b.type)&&(S=b.type),{...d,profiles:h||{username:"Usurio desconhecido",avatar_url:null},comments_count:p||0,reactions_count:y||0,reactions:w,my_reaction:S,image_url:d.image_url||null}})):[]}catch(c){throw console.error("Erro no tratado ao buscar posts:",c),c}},...CH,enabled:!!e});return{posts:n,isLoadingPosts:s,postsError:a,refetchPosts:o,getComments:async c=>{if(!c)return console.error("ID do post  indefinido ou nulo"),[];try{const{data:u,error:f}=await $.from("comments").select("*").eq("post_id",c).order("created_at",{ascending:!0});if(f)throw console.error("Erro ao buscar comentrios:",f),f;if(!u||u.length===0)return[];const d=[...new Set(u.map(w=>w.user_id))],{data:h,error:p}=await $.from("profiles").select("id, username, avatar_url").in("id",d);p&&console.error("Erro ao buscar perfis para comentrios:",p);const g=new Map;return h&&h.forEach(w=>{g.set(w.id,w)}),u.map(w=>{const y=g.get(w.user_id);return{...w,profiles:y||{username:"Usurio desconhecido",avatar_url:null}}})}catch(u){throw console.error("Erro no tratado ao buscar comentrios:",u),u}},isUploading:t,setIsUploading:r}},NH=e=>{const{user:t}=Se(),{toast:r}=pt(),n=Ze(),s=rt({mutationFn:async({content:l,imageFile:c})=>{if(!t)throw new Error("Usurio no autenticado");let u=null;if(c){e(!0);const h=c.name.split(".").pop(),p=`${t.id}/${Date.now()}.${h}`,{data:g,error:v}=await $.storage.from("post_images").upload(p,c);if(v)throw console.error("Erro ao fazer upload da imagem:",v),e(!1),v;const{data:w}=$.storage.from("post_images").getPublicUrl(p);u=w.publicUrl,e(!1)}const{data:f,error:d}=await $.from("posts").insert({content:l,user_id:t.id,image_url:u}).select(`
          *,
          profiles:user_id(username, avatar_url)
        `).single();if(d)throw console.error("Erro ao criar post:",d),d;return{...f,comments_count:0}},onSuccess:()=>{n.invalidateQueries({queryKey:["posts"]}),r({title:"Sucesso",description:"Publicao criada com sucesso!"})},onError:l=>{r({title:"Erro",description:`No foi possvel criar a publicao: ${l.message}`,variant:"destructive"})}}),a=rt({mutationFn:async({id:l,content:c,imageFile:u,keepExistingImage:f=!0})=>{if(!t)throw new Error("Usurio no autenticado");const{data:d,error:h}=await $.from("posts").select("image_url, user_id").eq("id",l).single();if(h)throw console.error("Erro ao buscar post existente:",h),h;if(d.user_id!==t.id)throw new Error("Voc no tem permisso para editar este post");let p=f?d.image_url:null;if(u){e(!0);const w=u.name.split(".").pop(),y=`${t.id}/${Date.now()}.${w}`;if(d.image_url&&(u||!f))try{const S=d.image_url.split("/").pop();S&&await $.storage.from("post_images").remove([`${t.id}/${S}`])}catch(S){console.error("Erro ao excluir imagem antiga:",S)}const{data:x,error:b}=await $.storage.from("post_images").upload(y,u);if(b)throw console.error("Erro ao fazer upload da imagem:",b),e(!1),b;const{data:_}=$.storage.from("post_images").getPublicUrl(y);p=_.publicUrl,e(!1)}const{data:g,error:v}=await $.from("posts").update({content:c,image_url:p,updated_at:new Date().toISOString()}).eq("id",l).select(`
          *,
          profiles:user_id(username, avatar_url)
        `).single();if(v)throw console.error("Erro ao atualizar post:",v),v;return g},onSuccess:()=>{n.invalidateQueries({queryKey:["posts"]}),r({title:"Sucesso",description:"Publicao atualizada com sucesso!"})},onError:l=>{r({title:"Erro",description:`No foi possvel atualizar a publicao: ${l.message}`,variant:"destructive"})}}),o=rt({mutationFn:async l=>{if(!t)throw new Error("Usurio no autenticado");const{data:c,error:u}=await $.from("posts").select("image_url").eq("id",l).single();if(u)throw console.error("Erro ao buscar post para excluso:",u),u;if(c.image_url)try{const d=c.image_url.split("/").pop();d&&await $.storage.from("post_images").remove([`${t.id}/${d}`])}catch(d){console.error("Erro ao excluir imagem:",d)}const{error:f}=await $.from("posts").delete().eq("id",l);if(f)throw console.error("Erro ao excluir post:",f),f;return l},onSuccess:l=>{n.invalidateQueries({queryKey:["posts"]}),n.setQueryData(["posts"],c=>c?c.filter(u=>u.id!==l):[]),r({title:"Sucesso",description:"Publicao excluda com sucesso!"})},onError:l=>{r({title:"Erro",description:`No foi possvel excluir a publicao: ${l.message}`,variant:"destructive"})}});return{createPost:s,updatePost:a,deletePost:o}},kH=()=>{const{user:e}=Se(),{toast:t}=pt(),r=Ze(),n=rt({mutationFn:async({postId:a,content:o})=>{if(!e)throw new Error("Usurio no autenticado");const{data:l,error:c}=await $.from("comments").insert({post_id:a,user_id:e.id,content:o}).select("*");if(c)throw console.error("Erro ao adicionar comentrio:",c),c;const{data:u}=await $.from("profiles").select("username, avatar_url").eq("id",e.id).single();return{...l[0],profiles:u||{username:"Usurio",avatar_url:null}}},onSuccess:a=>{r.setQueryData(["posts"],o=>o?o.map(l=>l.id===a.post_id?{...l,comments_count:(l.comments_count||0)+1}:l):[]),r.invalidateQueries({queryKey:["comments",a.post_id]}),t({title:"Sucesso",description:"Comentrio adicionado com sucesso!"})},onError:a=>{t({title:"Erro",description:`No foi possvel adicionar o comentrio: ${a.message}`,variant:"destructive"})}}),s=rt({mutationFn:async({commentId:a,postId:o})=>{if(!e)throw new Error("Usurio no autenticado");const{error:l}=await $.from("comments").delete().eq("id",a);if(l)throw console.error("Erro ao excluir comentrio:",l),l;return{commentId:a,postId:o}},onSuccess:({commentId:a,postId:o})=>{r.setQueryData(["posts"],l=>l?l.map(c=>c.id===o?{...c,comments_count:Math.max(0,(c.comments_count||0)-1)}:c):[]),r.invalidateQueries({queryKey:["comments",o]}),t({title:"Sucesso",description:"Comentrio excludo com sucesso!"})},onError:a=>{t({title:"Erro",description:`No foi possvel excluir o comentrio: ${a.message}`,variant:"destructive"})}});return{addComment:n,deleteComment:s}},EH=()=>{const{user:e}=Se(),{toast:t}=pt(),r=Ze();return{toggleReaction:rt({mutationFn:async({postId:s,reactionType:a})=>{if(!e)throw new Error("Usurio no autenticado");const{data:o,error:l}=await $.from("reactions").select("type, id").eq("post_id",s).eq("user_id",e.id).maybeSingle();if(l)throw console.error("Erro ao verificar reao existente:",l),l;if(o)if(o.type===a){const{error:c}=await $.from("reactions").delete().eq("post_id",s).eq("user_id",e.id);if(c)throw console.error("Erro ao remover reao:",c),c;return{action:"removed",previousType:o.type,postId:s,reactionType:a}}else{const{error:c}=await $.from("reactions").update({type:a}).eq("post_id",s).eq("user_id",e.id);if(c)throw console.error("Erro ao atualizar reao:",c),c;return{action:"updated",previousType:o.type,postId:s,reactionType:a}}else{const{error:c}=await $.from("reactions").insert({post_id:s,user_id:e.id,type:a});if(c)throw console.error("Erro ao adicionar reao:",c),c;return{action:"added",previousType:null,postId:s,reactionType:a}}},onSuccess:()=>{r.invalidateQueries({queryKey:["posts"]})},onError:s=>{t({title:"Erro",description:`No foi possvel registrar sua reao: ${s.message}`,variant:"destructive"})}})}},TH=()=>{const{user:e}=Se(),t=Ze(),r=m.useRef(null),n=m.useRef(`posts-${Math.random().toString(36).substr(2,9)}`);return m.useEffect(()=>{if(!(e!=null&&e.id)){console.log(" usePostsRealtime: No user ID");return}console.log(" usePostsRealtime: Setting up subscription");const s=vl.subscribe({channelName:"posts-realtime",filters:[{event:"*",schema:"public",table:"posts"},{event:"*",schema:"public",table:"comments"},{event:"*",schema:"public",table:"reactions"}],onSubscriptionChange:()=>{console.log(" Posts/Comments/Reactions change detected"),t.invalidateQueries({queryKey:["posts"]})}},n.current);return r.current=s,()=>{console.log(" usePostsRealtime: Cleaning up"),r.current&&r.current()}},[e==null?void 0:e.id,t]),{isSubscribed:r.current!==null}},Dm=()=>{const{toast:e}=pt();TH();const{posts:t,isLoadingPosts:r,postsError:n,refetchPosts:s,getComments:a,isUploading:o,setIsUploading:l}=jH(),{createPost:c,updatePost:u,deletePost:f}=NH(l),{addComment:d,deleteComment:h}=kH(),{toggleReaction:p}=EH();return m.useEffect(()=>{n&&e({title:"Erro",description:`No foi possvel carregar as publicaes: ${n.message}`,variant:"destructive"})},[n,e]),{posts:t,isLoadingPosts:r,postsError:n,isUploading:o,refetchPosts:s,getComments:a,createPost:c,updatePost:u,deletePost:f,addComment:d,deleteComment:h,toggleReaction:p}},jP=()=>{const{user:e}=Se(),[t,r]=m.useState({}),n=m.useRef({});Em({channelName:"typing-status-updates",filters:[{event:"*",schema:"public",table:"typing_status"}],onSubscriptionChange:o=>{const l=o.new;if(l&&l.conversation_with_user_id===(e==null?void 0:e.id)&&(r(c=>({...c,[l.user_id]:l.is_typing})),l.is_typing)){const c=l.user_id;n.current[c]&&clearTimeout(n.current[c]),n.current[c]=setTimeout(()=>{r(u=>({...u,[l.user_id]:!1}))},5e3)}},dependencies:[e==null?void 0:e.id]});const s=async(o,l)=>{if(e)try{if(await $.rpc("update_typing_status",{p_user_id:e.id,p_conversation_with_user_id:o,p_is_typing:l}),l){const c=`${e.id}-${o}`;n.current[c]&&clearTimeout(n.current[c]),n.current[c]=setTimeout(()=>{s(o,!1)},3e3)}}catch(c){console.error("Error updating typing status:",c)}},a=o=>t[o]||!1;return m.useEffect(()=>()=>{Object.values(n.current).forEach(o=>{clearTimeout(o)})},[]),{sendTypingStatus:s,isUserTyping:a,typingUsers:t}},PH=()=>{const{user:e}=Se(),t=Ze(),r=m.useRef(null),n=m.useRef(`presence-${Math.random().toString(36).substr(2,9)}`);return m.useEffect(()=>{if(!(e!=null&&e.id)){console.log(" usePresenceRealtime: No user ID");return}console.log(" usePresenceRealtime: Setting up subscription");const s=vl.subscribe({channelName:"presence-realtime",filters:[{event:"*",schema:"public",table:"user_presence"},{event:"*",schema:"public",table:"typing_status"}],onSubscriptionChange:()=>{console.log(" Presence/Typing change detected"),t.invalidateQueries({queryKey:["user-presence"]}),t.invalidateQueries({queryKey:["typing-status"]})}},n.current);return r.current=s,()=>{console.log(" usePresenceRealtime: Cleaning up"),r.current&&r.current()}},[e==null?void 0:e.id,t]),{isSubscribed:r.current!==null}},RH=({value:e,onChange:t,isSearching:r})=>i.jsxs("div",{className:"relative",children:[i.jsx(Le,{placeholder:"Buscar usurios...",value:e,onChange:t,className:"pr-8"}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r?i.jsx(kt,{className:"h-4 w-4 animate-spin text-muted-foreground"}):i.jsx(hl,{className:"h-4 w-4 text-muted-foreground"})})]}),MH=({id:e,username:t,avatar_url:r,onClick:n})=>i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover:bg-muted transition-colors",onClick:n,children:[i.jsx(hr,{className:"h-8 w-8",children:r?i.jsx(mr,{src:r,alt:t}):i.jsx(pr,{children:t&&t.length>0?t[0].toUpperCase():i.jsx(Yo,{className:"h-4 w-4"})})}),i.jsx("span",{className:"font-medium",children:t})]}),DH=({searchResults:e,searchQuery:t,onSelectUser:r})=>e.length===0&&t.trim().length>0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:['Nenhum usurio encontrado com "',t,'"']}):e.length===0?null:i.jsxs("div",{className:"border rounded-md shadow-sm p-2 space-y-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Resultados da busca"}),e.map(n=>i.jsx(MH,{id:n.id,username:n.username,avatar_url:n.avatar_url,onClick:()=>r(n.id,n.username,n.avatar_url||void 0)},n.id))]}),AH=({chatUser:e,onClick:t})=>i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md cursor-pointer hover:bg-muted transition-colors",onClick:t,children:[i.jsxs("div",{className:"relative",children:[i.jsx(hr,{className:"h-10 w-10",children:e.avatar_url?i.jsx(mr,{src:e.avatar_url,alt:e.username}):i.jsx(pr,{children:e.username&&e.username.length>0?e.username[0].toUpperCase():i.jsx(Yo,{className:"h-4 w-4"})})}),e.unread_count>0&&i.jsx(qs,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0",children:e.unread_count>9?"9+":e.unread_count})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:e.username}),e.last_message&&i.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:e.last_message.content})]})]}),OH=({chatUsers:e,isLoadingChatUsers:t,searchQuery:r,openChat:n})=>t?i.jsx("div",{className:"space-y-4",children:Array(3).fill(0).map((s,a)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lr,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(lr,{className:"h-4 w-32"}),i.jsx(lr,{className:"h-3 w-40"})]})]},a))}):e.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.trim().length>0?`Nenhum usurio encontrado com "${r}"`:"Nenhuma conversa iniciada. Clique no nome de um usurio em qualquer publicao para iniciar uma conversa."}):i.jsx("div",{className:"space-y-4",children:e.map(s=>i.jsx(AH,{chatUser:s,onClick:()=>n(s.id,s.username,s.avatar_url||void 0)},s.id))}),i_=({openChat:e,totalUnreadMessages:t,onNotificationCenterToggle:r})=>{const{chatUsers:n,isLoadingChatUsers:s}=Kk();pt();const{user:a}=Se(),[o,l]=m.useState(""),[c,u]=m.useState(!1),[f,d]=m.useState([]),h=async v=>{if(!v.trim()||v.length<2){d([]);return}u(!0);try{const{data:w,error:y}=await $.from("profiles").select("id, username, avatar_url").ilike("username",`%${v}%`).limit(5);if(y)throw y;const x=w.filter(b=>b.id!==(a==null?void 0:a.id));d(x)}catch(w){console.error("Error searching users:",w)}finally{u(!1)}},p=v=>{const w=v.target.value;l(w),h(w)},g=(v,w,y)=>{e(v,w,y),l(""),d([])};return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Comunidade"}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs(Lx,{children:[i.jsx(k8,{asChild:!0,children:i.jsxs(q,{variant:"outline",size:"icon",className:"relative",children:[i.jsx(YA,{className:"h-5 w-5"}),t>0&&i.jsx(qs,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0",children:t>9?"9+":t})]})}),i.jsxs(fm,{children:[i.jsx($x,{children:i.jsx(Fx,{children:"Mensagens"})}),i.jsxs("div",{className:"mt-4 space-y-4",children:[i.jsx(RH,{value:o,onChange:p,isSearching:c}),i.jsx(DH,{searchResults:f,searchQuery:o,onSelectUser:g}),i.jsx(OH,{chatUsers:n,isLoadingChatUsers:s,searchQuery:o,openChat:e})]})]})]})})]})};function IH({isOpen:e,isDeleting:t,onOpenChange:r,onConfirm:n}){return i.jsx(Hs,{open:e,onOpenChange:r,children:i.jsxs(cs,{children:[i.jsxs(us,{children:[i.jsx(ds,{children:"Excluir publicao?"}),i.jsx(bE,{children:"Esta ao no pode ser desfeita. A publicao ser permanentemente removida."})]}),i.jsxs(wE,{children:[i.jsx(q,{variant:"outline",onClick:()=>r(!1),disabled:t,children:"Cancelar"}),i.jsx(q,{variant:"destructive",onClick:n,disabled:t,children:t?i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):"Excluir"})]})]})})}var ty=["Enter"," "],LH=["ArrowDown","PageUp","Home"],NP=["ArrowUp","PageDown","End"],$H=[...LH,...NP],FH={ltr:[...ty,"ArrowRight"],rtl:[...ty,"ArrowLeft"]},zH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qu="Menu",[xu,UH,BH]=Lh(Qu),[oi,kP]=Dr(Qu,[BH,Ya,Ql]),Am=Ya(),EP=Ql(),[VH,ii]=oi(Qu),[WH,Yu]=oi(Qu),TP=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=Am(t),[c,u]=m.useState(null),f=m.useRef(!1),d=ct(a),h=Kl(s);return m.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(qh,{...l,children:i.jsx(VH,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:i.jsx(WH,{scope:t,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:o,children:n})})})};TP.displayName=Qu;var qH="MenuAnchor",M0=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Am(r);return i.jsx(Lu,{...s,...n,ref:t})});M0.displayName=qH;var D0="MenuPortal",[HH,PP]=oi(D0,{forceMount:void 0}),RP=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=ii(D0,t);return i.jsx(HH,{scope:t,forceMount:r,children:i.jsx(It,{present:r||a.open,children:i.jsx(Ml,{asChild:!0,container:s,children:n})})})};RP.displayName=D0;var an="MenuContent",[KH,A0]=oi(an),MP=m.forwardRef((e,t)=>{const r=PP(an,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=ii(an,e.__scopeMenu),o=Yu(an,e.__scopeMenu);return i.jsx(xu.Provider,{scope:e.__scopeMenu,children:i.jsx(It,{present:n||a.open,children:i.jsx(xu.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(GH,{...s,ref:t}):i.jsx(QH,{...s,ref:t})})})})}),GH=m.forwardRef((e,t)=>{const r=ii(an,e.__scopeMenu),n=m.useRef(null),s=je(t,n);return m.useEffect(()=>{const a=n.current;if(a)return lm(a)},[]),i.jsx(O0,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:G(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),QH=m.forwardRef((e,t)=>{const r=ii(an,e.__scopeMenu);return i.jsx(O0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),O0=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...v}=e,w=ii(an,r),y=Yu(an,r),x=Am(r),b=EP(r),_=UH(r),[S,j]=m.useState(null),C=m.useRef(null),N=je(t,C,w.onContentChange),k=m.useRef(0),R=m.useRef(""),D=m.useRef(0),A=m.useRef(null),U=m.useRef("right"),I=m.useRef(0),W=g?Uu:m.Fragment,V=g?{as:Er,allowPinchZoom:!0}:void 0,F=M=>{var oe,Ce;const H=R.current+M,K=_().filter(Oe=>!Oe.disabled),te=document.activeElement,ne=(oe=K.find(Oe=>Oe.ref.current===te))==null?void 0:oe.textValue,ye=K.map(Oe=>Oe.textValue),He=iK(ye,H,ne),xe=(Ce=K.find(Oe=>Oe.textValue===He))==null?void 0:Ce.ref.current;(function Oe(Te){R.current=Te,window.clearTimeout(k.current),Te!==""&&(k.current=window.setTimeout(()=>Oe(""),1e3))})(H),xe&&setTimeout(()=>xe.focus())};m.useEffect(()=>()=>window.clearTimeout(k.current),[]),om();const E=m.useCallback(M=>{var K,te;return U.current===((K=A.current)==null?void 0:K.side)&&cK(M,(te=A.current)==null?void 0:te.area)},[]);return i.jsx(KH,{scope:r,searchRef:R,onItemEnter:m.useCallback(M=>{E(M)&&M.preventDefault()},[E]),onItemLeave:m.useCallback(M=>{var H;E(M)||((H=C.current)==null||H.focus(),j(null))},[E]),onTriggerLeave:m.useCallback(M=>{E(M)&&M.preventDefault()},[E]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(M=>{A.current=M},[]),children:i.jsx(W,{...V,children:i.jsx(zu,{asChild:!0,trapped:s,onMountAutoFocus:G(a,M=>{var H;M.preventDefault(),(H=C.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Ko,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:i.jsx(Hx,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:j,onEntryFocus:G(c,M=>{y.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Hh,{role:"menu","aria-orientation":"vertical","data-state":GP(w.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:G(v.onKeyDown,M=>{const K=M.target.closest("[data-radix-menu-content]")===M.currentTarget,te=M.ctrlKey||M.altKey||M.metaKey,ne=M.key.length===1;K&&(M.key==="Tab"&&M.preventDefault(),!te&&ne&&F(M.key));const ye=C.current;if(M.target!==ye||!$H.includes(M.key))return;M.preventDefault();const xe=_().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);NP.includes(M.key)&&xe.reverse(),aK(xe)}),onBlur:G(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(k.current),R.current="")}),onPointerMove:G(e.onPointerMove,wu(M=>{const H=M.target,K=I.current!==M.clientX;if(M.currentTarget.contains(H)&&K){const te=M.clientX>I.current?"right":"left";U.current=te,I.current=M.clientX}}))})})})})})})});MP.displayName=an;var YH="MenuGroup",I0=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ue.div,{role:"group",...n,ref:t})});I0.displayName=YH;var ZH="MenuLabel",DP=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ue.div,{...n,ref:t})});DP.displayName=ZH;var vh="MenuItem",l_="menu.itemSelect",Om=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=m.useRef(null),o=Yu(vh,e.__scopeMenu),l=A0(vh,e.__scopeMenu),c=je(t,a),u=m.useRef(!1),f=()=>{const d=a.current;if(!r&&d){const h=new CustomEvent(l_,{bubbles:!0,cancelable:!0});d.addEventListener(l_,p=>n==null?void 0:n(p),{once:!0}),Zy(d,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(AP,{...s,ref:c,disabled:r,onClick:G(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:G(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:G(e.onKeyDown,d=>{const h=l.searchRef.current!=="";r||h&&d.key===" "||ty.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Om.displayName=vh;var AP=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=A0(vh,r),l=EP(r),c=m.useRef(null),u=je(t,c),[f,d]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[a.children]),i.jsx(xu.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:i.jsx(Kx,{asChild:!0,...l,focusable:!n,children:i.jsx(ue.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:G(e.onPointerMove,wu(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:G(e.onPointerLeave,wu(g=>o.onItemLeave(g))),onFocus:G(e.onFocus,()=>d(!0)),onBlur:G(e.onBlur,()=>d(!1))})})})}),XH="MenuCheckboxItem",OP=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(zP,{scope:e.__scopeMenu,checked:r,children:i.jsx(Om,{role:"menuitemcheckbox","aria-checked":yh(r)?"mixed":r,...s,ref:t,"data-state":$0(r),onSelect:G(s.onSelect,()=>n==null?void 0:n(yh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});OP.displayName=XH;var IP="MenuRadioGroup",[JH,eK]=oi(IP,{value:void 0,onValueChange:()=>{}}),LP=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=ct(n);return i.jsx(JH,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(I0,{...s,ref:t})})});LP.displayName=IP;var $P="MenuRadioItem",FP=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=eK($P,e.__scopeMenu),a=r===s.value;return i.jsx(zP,{scope:e.__scopeMenu,checked:a,children:i.jsx(Om,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":$0(a),onSelect:G(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});FP.displayName=$P;var L0="MenuItemIndicator",[zP,tK]=oi(L0,{checked:!1}),UP=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=tK(L0,r);return i.jsx(It,{present:n||yh(a.checked)||a.checked===!0,children:i.jsx(ue.span,{...s,ref:t,"data-state":$0(a.checked)})})});UP.displayName=L0;var rK="MenuSeparator",BP=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});BP.displayName=rK;var nK="MenuArrow",VP=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Am(r);return i.jsx(Kh,{...s,...n,ref:t})});VP.displayName=nK;var sK="MenuSub",[KG,WP]=oi(sK),jc="MenuSubTrigger",qP=m.forwardRef((e,t)=>{const r=ii(jc,e.__scopeMenu),n=Yu(jc,e.__scopeMenu),s=WP(jc,e.__scopeMenu),a=A0(jc,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),i.jsx(M0,{asChild:!0,...u,children:i.jsx(AP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":GP(r.open),...e,ref:Ih(t,s.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:G(e.onPointerMove,wu(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:G(e.onPointerLeave,wu(d=>{var p,g;f();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const v=(g=r.content)==null?void 0:g.dataset.side,w=v==="right",y=w?-5:5,x=h[w?"left":"right"],b=h[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:G(e.onKeyDown,d=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&d.key===" "||FH[n.dir].includes(d.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),d.preventDefault())})})})});qP.displayName=jc;var HP="MenuSubContent",KP=m.forwardRef((e,t)=>{const r=PP(an,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=ii(an,e.__scopeMenu),o=Yu(an,e.__scopeMenu),l=WP(HP,e.__scopeMenu),c=m.useRef(null),u=je(t,c);return i.jsx(xu.Provider,{scope:e.__scopeMenu,children:i.jsx(It,{present:n||a.open,children:i.jsx(xu.Slot,{scope:e.__scopeMenu,children:i.jsx(O0,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;o.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:G(e.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:G(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:G(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=zH[o.dir].includes(f.key);d&&h&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});KP.displayName=HP;function GP(e){return e?"open":"closed"}function yh(e){return e==="indeterminate"}function $0(e){return yh(e)?"indeterminate":e?"checked":"unchecked"}function aK(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function oK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function iK(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=oK(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function lK(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,f=t[o].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(s=!s)}return s}function cK(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return lK(r,t)}function wu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var uK=TP,dK=M0,fK=RP,hK=MP,mK=I0,pK=DP,gK=Om,vK=OP,yK=LP,xK=FP,wK=UP,bK=BP,_K=VP,SK=qP,CK=KP,F0="DropdownMenu",[jK,GG]=Dr(F0,[kP]),gr=kP(),[NK,QP]=jK(F0),YP=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=gr(t),u=m.useRef(null),[f=!1,d]=Rn({prop:s,defaultProp:a,onChange:o});return i.jsx(NK,{scope:t,triggerId:nn(),triggerRef:u,contentId:nn(),open:f,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:l,children:i.jsx(uK,{...c,open:f,onOpenChange:d,dir:n,modal:l,children:r})})};YP.displayName=F0;var ZP="DropdownMenuTrigger",XP=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=QP(ZP,r),o=gr(r);return i.jsx(dK,{asChild:!0,...o,children:i.jsx(ue.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Ih(t,a.triggerRef),onPointerDown:G(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:G(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});XP.displayName=ZP;var kK="DropdownMenuPortal",JP=e=>{const{__scopeDropdownMenu:t,...r}=e,n=gr(t);return i.jsx(fK,{...n,...r})};JP.displayName=kK;var eR="DropdownMenuContent",tR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=QP(eR,r),a=gr(r),o=m.useRef(!1);return i.jsx(hK,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:G(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:G(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tR.displayName=eR;var EK="DropdownMenuGroup",TK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(mK,{...s,...n,ref:t})});TK.displayName=EK;var PK="DropdownMenuLabel",rR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(pK,{...s,...n,ref:t})});rR.displayName=PK;var RK="DropdownMenuItem",nR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(gK,{...s,...n,ref:t})});nR.displayName=RK;var MK="DropdownMenuCheckboxItem",sR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(vK,{...s,...n,ref:t})});sR.displayName=MK;var DK="DropdownMenuRadioGroup",AK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(yK,{...s,...n,ref:t})});AK.displayName=DK;var OK="DropdownMenuRadioItem",aR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(xK,{...s,...n,ref:t})});aR.displayName=OK;var IK="DropdownMenuItemIndicator",oR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(wK,{...s,...n,ref:t})});oR.displayName=IK;var LK="DropdownMenuSeparator",iR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(bK,{...s,...n,ref:t})});iR.displayName=LK;var $K="DropdownMenuArrow",FK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(_K,{...s,...n,ref:t})});FK.displayName=$K;var zK="DropdownMenuSubTrigger",lR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(SK,{...s,...n,ref:t})});lR.displayName=zK;var UK="DropdownMenuSubContent",cR=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=gr(r);return i.jsx(CK,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cR.displayName=UK;var BK=YP,VK=XP,WK=JP,uR=tR,dR=rR,fR=nR,hR=sR,mR=aR,pR=oR,gR=iR,vR=lR,yR=cR;const xR=BK,wR=VK,qK=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(vR,{ref:s,className:B("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(ij,{className:"ml-auto h-4 w-4"})]}));qK.displayName=vR.displayName;const HK=m.forwardRef(({className:e,...t},r)=>i.jsx(yR,{ref:r,className:B("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));HK.displayName=yR.displayName;const z0=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(WK,{children:i.jsx(uR,{ref:n,sideOffset:t,className:B("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));z0.displayName=uR.displayName;const xh=m.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(fR,{ref:n,className:B("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));xh.displayName=fR.displayName;const KK=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(hR,{ref:s,className:B("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(pR,{children:i.jsx(Mu,{className:"h-4 w-4"})})}),t]}));KK.displayName=hR.displayName;const GK=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(mR,{ref:n,className:B("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(pR,{children:i.jsx(Du,{className:"h-2 w-2 fill-current"})})}),t]}));GK.displayName=mR.displayName;const QK=m.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(dR,{ref:n,className:B("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));QK.displayName=dR.displayName;const bR=m.forwardRef(({className:e,...t},r)=>i.jsx(gR,{ref:r,className:B("-mx-1 my-1 h-px bg-muted",e),...t}));bR.displayName=gR.displayName;function YK({author:e,date:t,postId:r,canEdit:n,onEdit:s,openChat:a}){const{toast:o}=pt(),{deletePost:l}=Dm(),[c,u]=m.useState(!1),[f,d]=m.useState(!1),h=Me(new Date(t),"d 'de' MMMM 'de' yyyy 's' HH:mm",{locale:et}),p=async()=>{try{d(!0),await l.mutateAsync(r),o({title:"Publicao excluda",description:"A publicao foi excluda com sucesso."})}catch(v){o({title:"Erro ao excluir",description:`No foi possvel excluir a publicao: ${v.message}`,variant:"destructive"})}finally{d(!1),u(!1)}},g=()=>{if(!e||!e.id){console.error("Dados do autor incompletos:",e),o({title:"Erro",description:"No foi possvel iniciar o chat. Dados do usurio incompletos.",variant:"destructive"});return}a(e.id,e.username,e.avatar_url||void 0)};return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(hr,{className:"h-10 w-10",children:e.avatar_url?i.jsx(mr,{src:e.avatar_url,alt:e.username}):i.jsx(pr,{children:i.jsx(Yo,{className:"h-4 w-4"})})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium cursor-pointer hover:underline",onClick:g,children:e.username}),i.jsx("div",{className:"text-xs text-muted-foreground",children:h})]})]}),n&&i.jsxs(xR,{children:[i.jsx(wR,{asChild:!0,children:i.jsxs(q,{variant:"ghost",size:"icon",children:[i.jsx(rx,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Opes"})]})}),i.jsxs(z0,{align:"end",children:[i.jsxs(xh,{onClick:s,children:[i.jsx(vO,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Editar"})]}),i.jsx(bR,{}),i.jsxs(xh,{onClick:()=>u(!0),className:"text-destructive focus:text-destructive",children:[i.jsx(Qo,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Excluir"})]})]})]}),i.jsx(IH,{isOpen:c,onOpenChange:u,onConfirm:p,isDeleting:f})]})}function ZK({content:e,imageUrl:t}){const r=n=>{const s=/(https?:\/\/[^\s]+)/g,a=n.split(s),o=[];for(let l=0;l<a.length;l++)l%2===0?o.push(i.jsx("span",{children:a[l]},l)):o.push(i.jsx("a",{href:a[l],target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:a[l]},l));return o};return i.jsxs("div",{className:"space-y-3",children:[e&&e.length>0&&i.jsx("div",{className:"whitespace-pre-wrap break-words",children:r(e)}),t&&i.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"block",children:i.jsx("img",{src:t,alt:"Imagem da publicao",className:"rounded-md max-h-96 w-auto object-contain",onError:n=>{n.currentTarget.src="/placeholder.svg",n.currentTarget.alt="Imagem indisponvel"}})})]})}const XK=({postId:e,reactions:t,myReaction:r,onReact:n,reactionsCount:s})=>{const[a,o]=m.useState(!1),l={like:{icon:cb,label:"Curtir",color:"text-blue-500"},heart:{icon:lO,label:"Amei",color:"text-rose-500"},laugh:{icon:jO,label:"Haha",color:"text-yellow-500"},wow:{icon:QA,label:"Uau",color:"text-purple-500"},sad:{icon:aO,label:"Triste",color:"text-gray-500"}},c=r?l[r]:null,u=p=>{n(p),o(!1)};let f="like",d=-1;Object.entries(t).forEach(([p,g])=>{g>d&&(d=g,f=p)});const h=d>0?l[f].icon:cb;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vx,{delayDuration:300,children:i.jsxs(h0,{open:a,onOpenChange:o,children:[i.jsx(m0,{asChild:!0,children:i.jsxs(q,{variant:"ghost",size:"sm",className:B("flex items-center gap-1.5 text-sm",r&&(c==null?void 0:c.color)),onClick:()=>r?n(r):o(!0),children:[c?i.jsx(c.icon,{className:"h-4 w-4"}):i.jsx(h,{className:"h-4 w-4"}),i.jsx("span",{children:r?c==null?void 0:c.label:s>0?`${s}`:"Reagir"})]})}),i.jsx(Cm,{className:"w-auto p-2 flex gap-1",align:"start",children:Object.entries(l).map(([p,{icon:g,label:v,color:w}])=>i.jsxs(Zj,{children:[i.jsx(Xj,{asChild:!0,children:i.jsx(q,{variant:"ghost",size:"icon",className:B("rounded-full hover:scale-125 transition-transform",w),onClick:()=>u(p),children:i.jsx(g,{className:"h-5 w-5"})})}),i.jsx(yx,{children:i.jsx("p",{children:v})})]},p))})]})}),s>0&&i.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx("div",{className:"flex -space-x-1 overflow-hidden",children:Object.entries(t).map(([p,g])=>{if(g>0){const{icon:v,color:w}=l[p];return i.jsx("div",{className:B("h-4 w-4 rounded-full bg-background flex items-center justify-center",w),children:i.jsx(v,{className:"h-3 w-3"})},p)}return null})}),i.jsx("span",{children:s})]})]})};function JK({commentsCount:e,onToggleComments:t,postId:r,reactions:n,myReaction:s,onReact:a,reactionsCount:o,isLoading:l}){return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(XK,{postId:r,reactions:n,myReaction:s,onReact:a,reactionsCount:o}),i.jsxs(q,{variant:"ghost",size:"sm",className:"flex items-center gap-1.5 text-sm",onClick:t,disabled:l,children:[i.jsx(nx,{className:"h-4 w-4"}),i.jsx("span",{children:e>0?`${e} comentrios`:"Comentar"})]})]})}function eG({comment:e,currentUserId:t,onDelete:r}){var s,a,o;const n=t===e.user_id;return i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx(hr,{className:"h-8 w-8",children:(s=e.profiles)!=null&&s.avatar_url?i.jsx(mr,{src:e.profiles.avatar_url}):i.jsx(pr,{children:(a=e.profiles)!=null&&a.username?e.profiles.username[0].toUpperCase():i.jsx(Yo,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"bg-muted p-2 rounded-lg relative group",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h4",{className:"font-medium text-sm",children:((o=e.profiles)==null?void 0:o.username)||"Usurio"}),n&&i.jsx(q,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity absolute top-1 right-1",onClick:()=>r(e.id),children:i.jsx(DO,{className:"h-3 w-3"})})]}),i.jsx("p",{className:"text-sm mt-1",children:e.content})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Kf(new Date(e.created_at),{addSuffix:!0,locale:et})})]})]})}function tG({comments:e,isLoading:t,error:r,currentUserId:n,onDeleteComment:s}){return r?i.jsxs(xl,{variant:"destructive",className:"mb-3",children:[i.jsx(Ou,{className:"h-4 w-4"}),i.jsxs(wl,{children:["Erro ao carregar comentrios: ",r.message]})]}):t?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(kt,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):!e||e.length===0?i.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Nenhum comentrio ainda. Seja o primeiro a comentar!"}):i.jsx(i.Fragment,{children:e.map(a=>i.jsx(eG,{comment:a,currentUserId:n,onDelete:s},a.id))})}function rG({user:e,isSubmitting:t,onSubmit:r}){var o,l;const[n,s]=m.useState(""),a=()=>{n.trim()&&(r(n),s(""))};return i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(hr,{className:"h-8 w-8",children:(o=e==null?void 0:e.user_metadata)!=null&&o.avatar_url?i.jsx(mr,{src:e.user_metadata.avatar_url,alt:"Avatar do usurio"}):i.jsx(pr,{children:(l=e==null?void 0:e.user_metadata)!=null&&l.username?e.user_metadata.username[0].toUpperCase():i.jsx(Yo,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1 flex gap-2",children:[i.jsx(Le,{placeholder:"Escreva um comentrio...",value:n,onChange:c=>s(c.target.value),className:"flex-1",disabled:t}),i.jsx(q,{size:"icon",onClick:a,disabled:t||!n.trim(),children:t?i.jsx(kt,{className:"h-4 w-4 animate-spin"}):i.jsx(sx,{className:"h-4 w-4"})})]})]})}function _R({title:e,message:t,onRetry:r}){return i.jsxs(xl,{variant:"destructive",className:"my-4",children:[i.jsx(Ou,{className:"h-4 w-4"}),e&&i.jsx(qf,{children:e}),i.jsx(wl,{children:t}),r&&i.jsx(q,{variant:"outline",className:"mt-2",onClick:r,children:"Tentar novamente"})]})}function nG({postId:e,comments:t,isLoading:r,user:n,currentUserId:s,onAddComment:a,onDeleteComment:o}){const{toast:l}=pt(),[c,u]=m.useState(!1),[f,d]=m.useState(null),h=async g=>{if(!g||g.trim()===""){l({title:"Erro",description:"O comentrio no pode estar vazio",variant:"destructive"});return}u(!0),d(null);try{await a(g)}catch(v){d(v),l({title:"Erro",description:`No foi possvel adicionar o comentrio: ${v.message}`,variant:"destructive"})}finally{u(!1)}},p=async g=>{try{await o(g),l({title:"Sucesso",description:"Comentrio excludo com sucesso!"})}catch(v){l({title:"Erro",description:`No foi possvel excluir o comentrio: ${v.message}`,variant:"destructive"})}};return f?i.jsx(_R,{title:"Erro nos comentrios",message:f.message,onRetry:()=>d(null)}):i.jsxs("div",{className:"w-full space-y-4",children:[i.jsx(tG,{comments:t||[],isLoading:r,currentUserId:s,onDeleteComment:p,error:null}),i.jsx(rG,{user:n,isSubmitting:c,onSubmit:h})]})}function sG({post:e,isExpanded:t,toggleExpanded:r,onEdit:n,currentUserId:s,openChat:a}){var b,_;const{user:o}=Se(),{getComments:l,addComment:c,deleteComment:u,toggleReaction:f}=Dm(),[d,h]=m.useState(!1),[p,g]=m.useState([]),v=async()=>{if(t){r();return}try{h(!0);const S=await l(e.id);g(S),r()}catch(S){console.error("Erro ao carregar comentrios:",S)}finally{h(!1)}},w=async S=>{if(o)try{await c.mutateAsync({postId:e.id,content:S});const j=await l(e.id);g(j)}catch(j){console.error("Erro ao adicionar comentrio:",j)}},y=async S=>{try{await u.mutateAsync({commentId:S,postId:e.id});const j=await l(e.id);g(j)}catch(j){throw console.error("Erro ao excluir comentrio:",j),j}},x=async S=>{try{await f.mutateAsync({postId:e.id,reactionType:S})}catch(j){console.error("Erro ao reagir:",j)}};return i.jsx(xt,{children:i.jsxs(St,{className:"p-4 md:p-6 space-y-4",children:[i.jsx(YK,{author:{username:((b=e.profiles)==null?void 0:b.username)||"Usurio",avatar_url:(_=e.profiles)==null?void 0:_.avatar_url,id:e.user_id},date:e.created_at,postId:e.id,canEdit:s===e.user_id,onEdit:n,openChat:a}),i.jsx(ZK,{content:e.content,imageUrl:e.image_url}),i.jsx(JK,{commentsCount:e.comments_count||0,onToggleComments:v,postId:e.id,reactions:e.reactions||{like:0,heart:0,laugh:0,wow:0,sad:0},myReaction:e.my_reaction||null,onReact:x,reactionsCount:e.reactions_count||0,isLoading:d}),t&&i.jsx(nG,{postId:e.id,comments:p,isLoading:d,user:o,currentUserId:s,onAddComment:w,onDeleteComment:y})]})})}function aG({imageUrl:e,onRemove:t}){return i.jsxs("div",{className:"relative mb-3 inline-block",children:[i.jsx("img",{src:e,alt:"Pr-visualizao",className:"max-h-60 rounded-md object-cover"}),i.jsx(q,{size:"icon",variant:"destructive",className:"absolute top-2 right-2 h-6 w-6 rounded-full",onClick:t,children:i.jsx(Qa,{className:"h-4 w-4"})})]})}function oG({isEditing:e,isLoading:t,hasContent:r,hasImage:n,fileInputRef:s,onSubmit:a,onCancel:o,imagePreview:l}){return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{children:i.jsxs(q,{size:"sm",variant:"outline",type:"button",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},children:[i.jsx(lj,{className:"h-4 w-4 mr-2"}),l?"Trocar imagem":"Adicionar imagem"]})}),i.jsxs("div",{className:"flex gap-2",children:[e&&o&&i.jsx(q,{size:"sm",variant:"outline",onClick:o,disabled:t,children:"Cancelar"}),i.jsx(q,{size:"sm",onClick:a,disabled:t||!r&&!n,children:t?i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),e?"Salvando...":"Publicando..."]}):e?"Salvar":"Publicar"})]})]})}function iG({initialContent:e,initialImageUrl:t,isEditing:r,isSubmitting:n,isUploading:s,onSubmit:a,onCancel:o}){const{toast:l}=pt(),[c,u]=m.useState(e),[f,d]=m.useState(null),[h,p]=m.useState(t),[g,v]=m.useState(!0),w=m.useRef(null),y=C=>{var R;const N=(R=C.target.files)==null?void 0:R[0];if(!N)return;if(N.size>5*1024*1024){l({title:"Erro",description:"A imagem deve ter menos de 5MB",variant:"destructive"});return}if(!N.type.startsWith("image/")){l({title:"Erro",description:"O arquivo selecionado no  uma imagem",variant:"destructive"});return}d(N),v(!0);const k=new FileReader;k.onload=D=>{var A;p((A=D.target)==null?void 0:A.result)},k.readAsDataURL(N)},x=()=>{d(null),p(null),v(!1),w.current&&(w.current.value="")},b=async()=>{if(!c.trim()&&!f&&!(r&&g&&h)){l({title:"Erro",description:"Adicione um texto ou imagem para publicar",variant:"destructive"});return}await a({content:c.trim(),imageFile:f,keepImage:g}),r||(u(""),d(null),p(null))},_=n||s,S=!!c.trim(),j=!!f||r&&g&&!!h;return i.jsxs("div",{className:"flex-1",children:[i.jsx(S0,{placeholder:r?"Edite sua publicao...":"No que voc est pensando?",className:"resize-none mb-3",value:c,onChange:C=>u(C.target.value)}),h&&i.jsx(aG,{imageUrl:h,onRemove:x}),i.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",ref:w,title:"Selecione uma imagem para upload"}),i.jsx(oG,{isEditing:r,isLoading:_,hasContent:S,hasImage:j,fileInputRef:w,onSubmit:b,onCancel:o,imagePreview:h})]})}function lG({editingPost:e,onCancelEdit:t}){var f,d;const{user:r}=Se();pt();const[n,s]=m.useState(!1),{createPost:a,updatePost:o,isUploading:l}=Dm(),c=!!e,u=async({content:h,imageFile:p,keepImage:g})=>{s(!0);try{c&&e?(await o.mutateAsync({id:e.id,content:h,imageFile:p||void 0,keepExistingImage:!p&&g}),t&&t()):await a.mutateAsync({content:h,imageFile:p||void 0})}catch(v){console.error("Erro ao salvar post:",v)}finally{s(!1)}};return i.jsx(xt,{className:"border-border mb-6",children:i.jsx(St,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(hr,{className:"h-10 w-10",children:(f=r==null?void 0:r.user_metadata)!=null&&f.avatar_url?i.jsx(mr,{src:r.user_metadata.avatar_url}):i.jsx(pr,{children:(d=r==null?void 0:r.user_metadata)!=null&&d.username&&r.user_metadata.username.length>0?r.user_metadata.username[0].toUpperCase():i.jsx(Yo,{className:"h-4 w-4"})})}),i.jsx(iG,{initialContent:(e==null?void 0:e.content)||"",initialImageUrl:(e==null?void 0:e.image_url)||null,isEditing:c,isSubmitting:n,isUploading:l,onSubmit:u,onCancel:t})]})})})}function c_({posts:e,isLoadingPosts:t,editingPost:r,onEdit:n,onCancelEdit:s,showMyPostsOnly:a=!1,currentUserId:o,openChat:l}){const{user:c}=Se(),[u,f]=m.useState(null),d=a&&o?e.filter(p=>p.user_id===o):e,h=p=>{f(u===p?null:p)};return i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsx(lG,{editingPost:r,onCancelEdit:s}),t?i.jsx("div",{className:"space-y-4 sm:space-y-6",children:[1,2,3].map(p=>i.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lr,{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(lr,{className:"h-3 w-24 sm:h-4 sm:w-32"}),i.jsx(lr,{className:"h-2 w-16 sm:h-3 sm:w-24"})]})]}),i.jsx(lr,{className:"h-3 w-full sm:h-4"}),i.jsx(lr,{className:"h-3 w-3/4 sm:h-4"}),i.jsx(lr,{className:"h-32 w-full rounded-md sm:h-40"})]},p))}):d.length===0?i.jsx("div",{className:"text-center py-8 sm:py-10 text-muted-foreground",children:i.jsx("p",{className:"text-sm sm:text-base",children:a?"Voc ainda no criou nenhuma publicao.":"Nenhuma publicao encontrada na comunidade."})}):i.jsx("div",{className:"space-y-4 sm:space-y-6",children:d.map(p=>i.jsx(sG,{post:p,isExpanded:u===p.id,toggleExpanded:()=>h(p.id),onEdit:()=>n(p),currentUserId:c==null?void 0:c.id,openChat:l},p.id))})]})}const cG=({chatUsers:e,isLoading:t,onSelectUser:r})=>{const{isUserOnline:n,getLastSeen:s}=Pm();return t?i.jsx("div",{className:"space-y-4",children:[...Array(5)].map((a,o)=>i.jsx(xt,{className:"cursor-pointer hover:shadow-md transition-shadow",children:i.jsx(St,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lr,{className:"h-12 w-12 rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(lr,{className:"h-4 w-32"}),i.jsx(lr,{className:"h-3 w-48"})]}),i.jsx(lr,{className:"h-6 w-6 rounded-full"})]})})},o))}):e.length===0?i.jsxs(xt,{children:[i.jsx(Tr,{children:i.jsx(Pr,{children:"Nenhuma conversa"})}),i.jsx(St,{children:i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Voc ainda no iniciou nenhuma conversa. Use o feed da comunidade para interagir com outros usurios!"})})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Suas Conversas"}),i.jsx("div",{className:"space-y-2",children:e.map(a=>{const o=n(a.id),l=s(a.id);return i.jsx(xt,{className:"cursor-pointer hover:shadow-md transition-all duration-200 hover:scale-[1.02]",onClick:()=>r(a),children:i.jsx(St,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(hr,{className:"h-12 w-12",children:[i.jsx(mr,{src:a.avatar_url,alt:a.username}),i.jsx(pr,{children:a.username.charAt(0).toUpperCase()})]}),i.jsx(Du,{className:`absolute -bottom-1 -right-1 h-4 w-4 border-2 border-background ${o?"text-green-500 fill-green-500":"text-gray-400 fill-gray-400"}`})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-medium text-sm sm:text-base truncate",children:a.username}),a.is_typing&&i.jsx("span",{className:"text-xs text-primary animate-pulse",children:"digitando..."})]}),a.last_message&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:a.last_message.content}),i.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:Kf(new Date(a.last_message.created_at),{addSuffix:!0,locale:et})})]}),!o&&l&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Visto por ltimo ",Kf(new Date(l),{addSuffix:!0,locale:et})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.unread_count>0&&i.jsx(qs,{variant:"destructive",className:"h-6 w-6 flex items-center justify-center p-0",children:a.unread_count>9?"9+":a.unread_count}),o&&i.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]})})},a.id)})})]})},uG=({recipientName:e,recipientAvatar:t,isOnline:r,onClearChat:n,onSearch:s,isSearching:a})=>{const[o,l]=m.useState(!1),[c,u]=m.useState(""),f=()=>{o?(l(!1),u(""),s("")):l(!0)},d=h=>{h.preventDefault(),s(c)};return i.jsx(us,{className:"border-b p-4 shadow-sm",children:o?i.jsxs("form",{className:"flex items-center gap-2",onSubmit:d,children:[i.jsx(Le,{autoFocus:!0,type:"text",placeholder:"Pesquisar na conversa...",value:c,onChange:h=>u(h.target.value),className:"flex-1",disabled:a}),i.jsx(q,{type:"submit",size:"sm",variant:"secondary",disabled:c.trim().length<2||a,children:"Buscar"}),i.jsx(q,{size:"icon",variant:"ghost",onClick:f,children:i.jsx(Qa,{className:"h-4 w-4"})})]}):i.jsxs(ds,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(hr,{className:"h-8 w-8",children:t?i.jsx(mr,{src:t,alt:e}):i.jsx(pr,{children:e.charAt(0).toUpperCase()})}),i.jsx(Du,{className:`absolute -bottom-1 -right-1 h-3 w-3 border-2 border-background ${r?"text-green-500 fill-green-500":"text-gray-400 fill-gray-400"}`})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:e}),r&&i.jsx("p",{className:"text-xs text-green-600",children:"Online"})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(q,{variant:"ghost",size:"icon",onClick:f,title:"Pesquisar na conversa",children:i.jsx(hl,{className:"h-4 w-4"})}),i.jsxs(xR,{children:[i.jsx(wR,{asChild:!0,children:i.jsx(q,{variant:"ghost",size:"icon",children:i.jsx(rx,{className:"h-4 w-4"})})}),i.jsx(z0,{align:"end",children:i.jsxs(xh,{onClick:n,children:[i.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Limpar conversa"]})})]})]})]})})},dG=({message:e,isOwnMessage:t,onDelete:r,onEdit:n})=>{var d;const[s,a]=m.useState(!1),[o,l]=m.useState(e.content),c=()=>{o.trim()&&o!==e.content&&n(o.trim()),a(!1)},u=()=>{l(e.content),a(!1)},f=()=>{switch(e.message_status){case"sending":return i.jsx(Au,{className:"h-3 w-3 text-muted-foreground"});case"sent":return i.jsx(Mu,{className:"h-3 w-3 text-muted-foreground"});case"delivered":return i.jsx(sb,{className:"h-3 w-3 text-muted-foreground"});case"read":return i.jsx(sb,{className:"h-3 w-3 text-blue-500"});default:return null}};return i.jsxs("div",{className:`flex gap-3 ${t?"flex-row-reverse":""} group`,children:[!t&&i.jsx(hr,{className:"h-8 w-8",children:e.sender_avatar_url?i.jsx(mr,{src:e.sender_avatar_url,alt:e.sender_username}):i.jsx(pr,{children:((d=e.sender_username)==null?void 0:d.charAt(0).toUpperCase())||"?"})}),i.jsxs("div",{className:`flex-1 max-w-[70%] ${t?"flex flex-col items-end":""}`,children:[i.jsx("div",{className:`rounded-lg px-3 py-2 ${t?"bg-primary text-primary-foreground":"bg-muted"} ${e.is_soft_deleted?"opacity-50":""}`,children:e.is_soft_deleted?i.jsx("p",{className:"text-sm italic",children:"Mensagem excluda"}):s?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Le,{value:o,onChange:h=>l(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey?(h.preventDefault(),c()):h.key==="Escape"&&u()},className:"text-sm",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{size:"sm",variant:"outline",onClick:c,children:"Salvar"}),i.jsx(q,{size:"sm",variant:"ghost",onClick:u,children:i.jsx(Qa,{className:"h-3 w-3"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm",children:e.content}),e.attachment_url&&i.jsx("img",{src:e.attachment_url,alt:"Anexo",className:"mt-2 rounded max-w-full h-auto"})]})}),i.jsxs("div",{className:`flex items-center gap-2 mt-1 text-xs text-muted-foreground ${t?"flex-row-reverse":""}`,children:[i.jsx("span",{children:Kf(new Date(e.created_at),{addSuffix:!0,locale:et})}),e.edited_at&&i.jsx("span",{className:"italic",children:"(editada)"}),t&&f(),t&&!e.is_soft_deleted&&i.jsxs("div",{className:"hidden group-hover:flex gap-1",children:[i.jsx(q,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>a(!0),children:i.jsx(ax,{className:"h-3 w-3"})}),i.jsx(q,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:r,children:i.jsx(Qo,{className:"h-3 w-3"})})]})]})]})]})},fG=({messages:e,isLoading:t,isLoadingMore:r,isError:n,hasMore:s,totalCount:a,searchQuery:o,onDeleteMessage:l,onEditMessage:c,onLoadMore:u})=>{const{user:f}=Se(),d=m.useRef(null),h=m.useRef(null);return m.useEffect(()=>{h.current&&!o&&h.current.scrollIntoView({behavior:"smooth"})},[e.length,o]),t&&e.length===0?i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx(kt,{className:"h-6 w-6 animate-spin"})}):n?i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Erro ao carregar mensagens"})}):i.jsx(R0,{className:"flex-1 px-4",ref:d,children:i.jsxs("div",{className:"space-y-4 py-4",children:[s&&i.jsx("div",{className:"text-center",children:i.jsxs(q,{variant:"outline",size:"sm",onClick:u,disabled:r,children:[r?i.jsx(kt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Carregar mensagens anteriores"]})}),o&&i.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a,' mensagem(ns) encontrada(s) para "',o,'"']}),e.map(p=>i.jsx(dG,{message:p,isOwnMessage:p.sender_id===(f==null?void 0:f.id),onDelete:()=>l(p.id),onEdit:g=>c(p.id,g)},p.id)),i.jsx("div",{ref:h})]})})},hG=({onSendMessage:e,onTypingStatusChange:t,isSubmitting:r})=>{const[n,s]=m.useState(""),[a,o]=m.useState(null),l=m.useRef(null),c=m.useRef(),u=g=>{s(g),t(!0),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{t(!1)},1e3)},f=async()=>{if(!(!n.trim()&&!a))try{await e(n.trim(),a||void 0),s(""),o(null),t(!1)}catch(g){console.error("Error sending message:",g)}},d=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),f())},h=g=>{var w;const v=(w=g.target.files)==null?void 0:w[0];v&&o(v)},p=()=>{o(null),l.current&&(l.current.value="")};return i.jsxs("div",{className:"border-t p-4 space-y-2",children:[a&&i.jsxs("div",{className:"flex items-center gap-2 text-sm bg-muted p-2 rounded",children:[i.jsx(lb,{className:"h-4 w-4"}),i.jsx("span",{className:"flex-1 truncate",children:a.name}),i.jsx(q,{size:"sm",variant:"ghost",onClick:p,children:i.jsx(Qa,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Le,{value:n,onChange:g=>u(g.target.value),onKeyDown:d,placeholder:"Digite sua mensagem...",disabled:r,className:"flex-1"}),i.jsx("input",{ref:l,type:"file",accept:"image/*,document/*",onChange:h,className:"hidden"}),i.jsx(q,{size:"icon",variant:"outline",onClick:()=>{var g;return(g=l.current)==null?void 0:g.click()},disabled:r,children:i.jsx(lb,{className:"h-4 w-4"})}),i.jsx(q,{size:"icon",onClick:f,disabled:!n.trim()&&!a||r,children:i.jsx(sx,{className:"h-4 w-4"})})]})]})},mG=({isTyping:e,username:t})=>e?i.jsx("div",{className:"px-4 py-2 text-sm text-muted-foreground",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),i.jsxs("span",{children:[t," est digitando..."]})]})}):null,pG=({isOpen:e,onOpenChange:t,onConfirm:r,isPending:n})=>i.jsx(Zl,{open:e,onOpenChange:t,children:i.jsxs(Jo,{children:[i.jsxs(ei,{children:[i.jsx(ri,{children:"Limpar conversa"}),i.jsx(ni,{children:"Tem certeza que deseja limpar toda esta conversa? Esta ao no pode ser desfeita."})]}),i.jsxs(ti,{children:[i.jsx(ai,{children:"Cancelar"}),i.jsxs(si,{onClick:r,disabled:n,className:"gap-2",children:[n&&i.jsx(kt,{className:"h-4 w-4 animate-spin"}),n?"Limpando...":"Limpar conversa"]})]})]})}),gG=({isOpen:e,onOpenChange:t,recipientId:r,recipientName:n,recipientAvatar:s})=>{var H,K,te;const[a,o]=m.useState(!1),[l,c]=m.useState(""),[u,f]=m.useState(!1),[d,h]=m.useState(1),{getConversation:p,sendMessage:g,editMessage:v,deleteMessage:w,markConversationAsRead:y,clearConversation:x}=Ux(),{isUserOnline:b,updateMyPresence:_}=Pm(),{sendTypingStatus:S,isUserTyping:j}=jP(),C=p(r,d,20,l),N=((H=C.data)==null?void 0:H.messages)||[],k=((K=C.data)==null?void 0:K.hasMore)||!1,R=((te=C.data)==null?void 0:te.totalCount)||0,D=b(r),A=j(r),U=async(ne,ye)=>{try{await g.mutateAsync({recipientId:r,content:ne,attachment:ye}),_("online",r)}catch(He){console.error("Error sending message:",He)}},I=async(ne,ye)=>{try{await v.mutateAsync({messageId:ne,content:ye})}catch(He){console.error("Error editing message:",He)}},W=async ne=>{try{await w.mutateAsync(ne)}catch(ye){console.error("Error deleting message:",ye)}},V=async()=>{try{await x.mutateAsync(r),o(!1)}catch(ne){console.error("Error clearing conversation:",ne)}},F=ne=>{f(!0),c(ne),h(1),setTimeout(()=>{f(!1)},500)},E=()=>{k&&h(ne=>ne+1)},M=ne=>{S(r,ne)};return i.jsxs(i.Fragment,{children:[i.jsx(Hs,{open:e,onOpenChange:t,children:i.jsxs(cs,{className:"sm:max-w-md md:max-w-2xl lg:max-w-4xl p-0 gap-0 h-[80vh] max-h-[700px] flex flex-col",children:[i.jsx(uG,{recipientName:n,recipientAvatar:s,isOnline:D,onClearChat:()=>o(!0),onSearch:F,isSearching:u}),i.jsx(fG,{messages:N,isLoading:C.isLoading,isLoadingMore:C.isLoading&&d>1,isError:C.isError,hasMore:k,totalCount:R,searchQuery:l,onDeleteMessage:W,onEditMessage:I,onLoadMore:E}),i.jsx(mG,{isTyping:A,username:n}),i.jsx(hG,{onSendMessage:U,onTypingStatusChange:M,isSubmitting:g.isPending})]})}),i.jsx(pG,{isOpen:a,onOpenChange:o,onConfirm:V,isPending:x.isPending})]})},vG=({isOpen:e,onOpenChange:t})=>i.jsx(Lx,{open:e,onOpenChange:t,children:i.jsxs(fm,{children:[i.jsx($x,{children:i.jsx(Fx,{children:"Central de Notificaes"})}),i.jsx("div",{className:"mt-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Suas notificaes aparecero aqui em breve."})})]})}),yG=()=>{const e=qr(),{user:t}=Se(),{toast:r}=pt(),{posts:n,isLoadingPosts:s,postsError:a,refetchPosts:o}=Dm(),{getChatUsers:l,getTotalUnreadCount:c}=Ux(),{updateMyPresence:u}=Pm();jP(),PH();const[f,d]=m.useState(null),[h,p]=m.useState(!1),[g,v]=m.useState(null),[w,y]=m.useState(!1),x=c(),b=l.data||[];m.useEffect(()=>{t&&u("online")},[t,u]),m.useEffect(()=>{t||(r({title:"Acesso restrito",description:"Voc precisa estar autenticado para acessar a comunidade.",variant:"destructive"}),e("/login",{replace:!0}))},[t,r,e]),m.useEffect(()=>{if(a){const N=setTimeout(()=>{t&&o()},5e3);return()=>clearTimeout(N)}},[a,o,t]);const _=(N,k,R)=>{if(N===(t==null?void 0:t.id)){r({title:"Operao no permitida",description:"Voc no pode iniciar um chat consigo mesmo.",variant:"destructive"});return}v({id:N,username:k,avatar_url:R||""}),p(!0)},S=N=>{d(N),window.scrollTo({top:0,behavior:"smooth"})},j=()=>{d(null)},C=()=>{o(),r({title:"Recarregando",description:"Tentando carregar as publicaes novamente..."})};return a&&!s?i.jsxs("div",{className:"w-full space-y-8 p-4",children:[i.jsx(i_,{openChat:_,totalUnreadMessages:x,onNotificationCenterToggle:()=>y(!w)}),i.jsx(_R,{title:"Erro ao carregar publicaes",message:"No foi possvel carregar as publicaes da comunidade. Por favor, tente novamente em alguns momentos.",onRetry:C})]}):i.jsxs("div",{className:"w-full space-y-4 sm:space-y-8 p-2 sm:p-4",children:[i.jsx(i_,{openChat:_,totalUnreadMessages:x,onNotificationCenterToggle:()=>y(!w)}),i.jsxs(N0,{defaultValue:"feed",className:"w-full",children:[i.jsxs(Tm,{className:"mb-4 sm:mb-6 grid w-full grid-cols-3",children:[i.jsx(Nn,{value:"feed",className:"text-sm",children:"Feed da Comunidade"}),i.jsxs(Nn,{value:"messages",className:"text-sm relative",children:["Mensagens",x>0&&i.jsx(qs,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:x>9?"9+":x})]}),i.jsx(Nn,{value:"my-posts",className:"text-sm",children:"Minhas Publicaes"})]}),i.jsx(kn,{value:"feed",className:"w-full",children:i.jsx(c_,{posts:n,isLoadingPosts:s,editingPost:f,onEdit:S,onCancelEdit:j,openChat:_})}),i.jsx(kn,{value:"messages",className:"w-full",children:i.jsx(cG,{chatUsers:b,isLoading:l.isLoading,onSelectUser:N=>_(N.id,N.username,N.avatar_url)})}),i.jsx(kn,{value:"my-posts",className:"w-full",children:i.jsx(c_,{posts:n,isLoadingPosts:s,editingPost:f,onEdit:S,onCancelEdit:j,showMyPostsOnly:!0,currentUserId:t==null?void 0:t.id,openChat:_})})]}),g&&i.jsx(gG,{isOpen:h,onOpenChange:p,recipientId:g.id,recipientName:g.username,recipientAvatar:g.avatar_url}),i.jsx(vG,{isOpen:w,onOpenChange:y})]})},xG=()=>i.jsx(yG,{}),wG=()=>{const e=ps();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},bG=new II({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),_G=()=>(m.useEffect(()=>{la.initialize()},[]),i.jsx(UI,{client:bG,children:i.jsx(vx,{children:i.jsxs(wF,{children:[i.jsx(x4,{}),i.jsx(G4,{}),i.jsx(XL,{children:i.jsx(yF,{children:i.jsx(_F,{children:i.jsx(mm,{children:i.jsxs(qL,{children:[i.jsx(Vt,{path:"/",element:i.jsx(_N,{to:"/dashboard",replace:!0})}),i.jsx(Vt,{path:"/index",element:i.jsx(t9,{})}),i.jsx(Vt,{path:"/login",element:i.jsx(x9,{})}),i.jsxs(Vt,{path:"/",element:i.jsx(c6,{children:i.jsx(e9,{})}),children:[i.jsx(Vt,{path:"dashboard",element:i.jsx(xq,{})}),i.jsx(Vt,{path:"transactions",element:i.jsx(Iq,{})}),i.jsx(Vt,{path:"expenses",element:i.jsx(Fq,{})}),i.jsx(Vt,{path:"goals",element:i.jsx(zq,{})}),i.jsx(Vt,{path:"settings",element:i.jsx(eH,{})}),i.jsx(Vt,{path:"change-password",element:i.jsx(tH,{})}),i.jsx(Vt,{path:"clients",element:i.jsx(aH,{})}),i.jsx(Vt,{path:"invoiced",element:i.jsx(iH,{})}),i.jsx(Vt,{path:"chat",element:i.jsx(lH,{})}),i.jsx(Vt,{path:"chat/:userId",element:i.jsx(SH,{})}),i.jsx(Vt,{path:"social",element:i.jsx(xG,{})})]}),i.jsx(Vt,{path:"*",element:i.jsx(wG,{})})]})})})})})]})})}));Zp.createRoot(document.getElementById("root")).render(i.jsx(L.StrictMode,{children:i.jsx(mm,{defaultOpen:!1,children:i.jsx("div",{className:"min-h-screen flex w-full",children:i.jsx(_G,{})})})}));export{Fc as I,y1 as N,Ik as W};
